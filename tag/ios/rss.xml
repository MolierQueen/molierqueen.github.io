<?xml version="1.0"?>
<rss version="2.0">
    <channel>
        <title>Molier â€¢ Posts by &#34;ios&#34; tag</title>
        <link>https://oliverqueen.cn</link>
        <description>iOS å¼€å‘ ç§»åŠ¨App åšå®¢ æ‚è°ˆ éšç¬” ç›¸å†Œ</description>
        <language>zh-CN</language>
        <pubDate>Sat, 30 Dec 2023 22:16:08 +0800</pubDate>
        <lastBuildDate>Sat, 30 Dec 2023 22:16:08 +0800</lastBuildDate>
        <category>æ¬¢è¿é¡µ</category>
        <category>ç½‘ç»œ</category>
        <category>åº•å±‚</category>
        <category>DNSè§£æ</category>
        <category>LocalDNS</category>
        <category>OpenGL</category>
        <category>UI</category>
        <category>åŠ¨ç”»</category>
        <category>æ€§èƒ½ä¼˜åŒ–</category>
        <category>xcode</category>
        <category>cocoapods</category>
        <category>podfile</category>
        <category>webview</category>
        <category>hook</category>
        <category>runtime</category>
        <category>ç¿»è¯‘</category>
        <category>ä¼˜åŒ–</category>
        <category>å›½å¤–æ–‡çŒ®</category>
        <category>httpdns</category>
        <category>Cocoapods</category>
        <category>æ¶æ„</category>
        <category>AlertView</category>
        <category>Hook</category>
        <category>æ‚è°ˆ</category>
        <category>Hexo</category>
        <category>ä¸ªäººåšå®¢</category>
        <category>ç½‘ç«™</category>
        <category>å±å¹•é€‚é…</category>
        <category>iOS 11</category>
        <category>è¯„è®ºæ’ä»¶</category>
        <category>æ€»ç»“</category>
        <category>å›å‘³2017å±•æœ›2018</category>
        <category>çƒ­ä¿®å¤</category>
        <category>JSPath</category>
        <category>swift</category>
        <category>ç½‘ç»œè¯·æ±‚</category>
        <category>Swift</category>
        <category>éŸ³é¢‘</category>
        <category>å”±å§</category>
        <category>Kæ­Œ</category>
        <category>AVFoundation</category>
        <category>git</category>
        <category>æ•ˆç‡å·¥ä½œ</category>
        <category>å›é¦–2018å±•æœ›2019</category>
        <category>ä»£ç ç‰ˆæœ¬æ§åˆ¶</category>
        <category>iOS</category>
        <category>Crashé˜²æŠ¤</category>
        <category>Appleç™»å½•</category>
        <category>WWDC2022</category>
        <category>é€†å‘</category>
        <category>ç®—æ³•</category>
        <category>Cè¯­è¨€</category>
        <category>æ’åº</category>
        <item>
            <guid isPermalink="true">https://oliverqueen.cn/2021-05-03-iOS%20Crash%E9%98%B2%E6%8A%A4%E4%BD%A0%E7%9C%8B%E8%BF%99%E4%B8%AA%E5%B0%B1%E5%A4%9F%E4%BA%86-%E4%B8%8A%E7%AF%87/</guid>
            <title>iOS Crashé˜²æŠ¤ä½ çœ‹è¿™ä¸ªå°±å¤Ÿäº† - ä¸Šç¯‡</title>
            <link>https://oliverqueen.cn/2021-05-03-iOS%20Crash%E9%98%B2%E6%8A%A4%E4%BD%A0%E7%9C%8B%E8%BF%99%E4%B8%AA%E5%B0%B1%E5%A4%9F%E4%BA%86-%E4%B8%8A%E7%AF%87/</link>
            <category>iOS</category>
            <category>Crashé˜²æŠ¤</category>
            <pubDate>Sat, 30 Dec 2023 22:16:08 +0800</pubDate>
            <description><![CDATA[ &lt;link rel=&#34;stylesheet&#34; class=&#34;aplayer-secondary-style-marker&#34; href=&#34;/assets/css/APlayer.min.css&#34;&gt;&lt;script src=&#34;/assets/js/APlayer.min.js&#34; class=&#34;aplayer-secondary-script-marker&#34;&gt;&lt;/script&gt;&lt;h1 id=&#34;0x1-ä¸ºä»€ä¹ˆè¦åšcrashé˜²æŠ¤&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#0x1-ä¸ºä»€ä¹ˆè¦åšcrashé˜²æŠ¤&#34;&gt;#&lt;/a&gt; 0x1 ä¸ºä»€ä¹ˆè¦åš Crash é˜²æŠ¤&lt;/h1&gt;
&lt;p&gt;åœ¨äº§å“å¼€å‘è¿‡ç¨‹ä¸­ Crash ç‡æ˜¯ä¸€ä¸ªå¾ˆé‡è¦çš„æŒ‡æ ‡ï¼Œä¹Ÿæ˜¯ä¸€ä¸ªå›¢é˜Ÿä¸­å‡ ä¹æ‰€æœ‰çš„éƒ¨é—¨éƒ½åº”è¯¥å…³æ³¨æˆ–è€…å»å‚ä¸æå‡çš„ä¸€ä¸ªæŒ‡æ ‡ï¼Œä»–ä¸ä»…ä»£è¡¨ç€æ•´ä¸ªäº§å“çš„è´¨é‡ï¼Œä¹Ÿæ˜¯ä¸€ä¸ªå›¢é˜Ÿæ•´ä½“æŠ€æœ¯èƒ½åŠ›çš„ä½“ç°ã€‚æ›´ä½çš„ Crash ç‡ä¸ä½†èƒ½è®©äº§å“è·å¾—æ›´å¥½çš„ç”¨æˆ·å£ç¢‘ï¼Œåœ¨æ•´ä¸ªæµç¨‹ä¸­ä¹Ÿèƒ½è®©å›¢é˜Ÿæˆå‘˜è·å¾—æ›´å¤šçš„æˆé•¿ï¼ŒåŠ æ·±å¯¹ iOS ç³»ç»Ÿåº•å±‚çš„ç†è§£ï¼Œä¸ºä»Šåçš„å¼€å‘å¸¦äº†æ›´å¤§çš„å¸®åŠ©ã€‚&lt;/p&gt;
&lt;p&gt;&lt;img data-src=&#34;https://image-1256056152.cos.ap-nanjing.myqcloud.com/1111111111.jpeg&#34; alt=&#34;&#34; /&gt;&lt;/p&gt;
&lt;p&gt;&lt;span id=&#34;more&#34;&gt;&lt;/span&gt;&lt;/p&gt;
&lt;h1 id=&#34;0x2-ä¸ºä»€ä¹ˆè¦å†™è¿™ç¯‡æ–‡ç« &#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#0x2-ä¸ºä»€ä¹ˆè¦å†™è¿™ç¯‡æ–‡ç« &#34;&gt;#&lt;/a&gt; 0x2 ä¸ºä»€ä¹ˆè¦å†™è¿™ç¯‡æ–‡ç« &lt;/h1&gt;
&lt;p&gt;èµ·å› ä¹Ÿæ˜¯å› ä¸ºè‡ªå·±çš„é¡¹ç›®è¸©äº† FB çš„ SDK çš„å‘ï¼š2020.7.10ï¼ŒFB åå°ä¸‹å‘æ•°æ®é”™è¯¯ï¼Œå¯¼è‡´å¤§é‡ä½¿ç”¨ FB SDK çš„ App å‘ç”Ÿå¯åŠ¨ Crashï¼Œå½±å“ç”¨æˆ·ä¹‹å¤šï¼ŒèŒƒå›´ä¹‹å¤§ï¼Œå†åŠ ä¸Šå½“æ—¶åŒ…æ‹¬æˆ‘ä»¬çš„å¤§éƒ¨åˆ† App ä¹Ÿç¼ºä¹ç›¸å…³çš„é˜²æŠ¤æˆ–è€…æ˜¯å®¹é”™å¤„ç†ï¼ŒCrash ç‡ç¬é—´é£™å‡ï¼Œé‡æ–°å‘ç‰ˆåˆè¦èµ°å‘å¸ƒæµç¨‹ï¼Œåªèƒ½ä¾èµ– FB åå°çš„ä¿®å¤ï¼Œå½“æ—¶æŸæ‰‹æ— ç­–ååˆ†è¢«åŠ¨ï¼Œæ‰€ä»¥å†³å®šè‡ªå·±åšä¸€å¥—è¾ƒä¸ºå®Œæ•´çš„ Crash é˜²æŠ¤ä½“ç³»ï¼Œæ¥é¿å…è¿™æ ·çš„åœºæ™¯å†æ¬¡å‘ç”Ÿã€‚ç¬¬äºŒä¸ªç›®çš„å°±æ˜¯ï¼Œå‘ç”Ÿé—®é¢˜åæˆ‘ä¹Ÿç¬¬ä¸€ä¹‹é—´æŸ¥é˜…äº†ç½‘ä¸Šçš„ä¸€äº›èµ„æ–™å’Œå…¶ä»–å›¢é˜Ÿçš„åšæ³•ï¼Œå‘ç°å¤§å®¶çš„æ–¹å¼å„æœ‰åƒç§‹ï¼Œæ–¹æ³•ä¸åŒï¼Œæ•ˆæœä¸åŒï¼Œæ‰€ä»¥æˆ‘ä¹Ÿå†³å®šæŠŠå¸‚é¢ä¸Šèƒ½æ‰¾åˆ°çš„å¥½çš„æ€è·¯å’Œæ–¹æ³•å†ç»“åˆè‡ªå·±çš„ä¸€äº›æƒ³æ³•å’Œç»éªŒè®°å½•ä¸‹æ¥ã€‚æœ€åä¹Ÿæ˜¯å› ä¸ºçŸ¥è¯†æ˜¯è¦æ²‰æ·€ã€ç§¯ç´¯å’Œåˆ†äº«çš„ï¼Œä¹Ÿç®—æ˜¯å·©å›ºå’ŒåŠ æ·±è‡ªå·±çš„ç†è§£å§ã€‚&lt;/p&gt;
&lt;h1 id=&#34;0x3-æ€ä¹ˆåš&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#0x3-æ€ä¹ˆåš&#34;&gt;#&lt;/a&gt; 0x3 æ€ä¹ˆåš&lt;/h1&gt;
&lt;p&gt;å…¶å®å½“æ—¶ Crash çš„åœºæ™¯å¾ˆç®€å•ï¼Œæœ¬æ¥ä¸€ä¸ª Dictionary å‚æ•° FB åå°å´ä¸‹å‘äº†ä¸ª String ç±»å‹çš„æ•°æ®ï¼Œè¿™æ ·ä¸€æ¥è§£ææ—¶å€™å¿…ç„¶ä¼š Crashï¼Œè§£å†³çš„è¯å…¶å®åªè¦åšä¸€å±‚å‚æ•°å®‰å…¨æ ¡éªŒå³å¯ã€‚&lt;/p&gt;
&lt;p&gt;&lt;img data-src=&#34;https://cdn.cdnjson.com/tva1.sinaimg.cn/large/008i3skNly1gq58dki0g7j31ai0u01fd.jpg&#34; alt=&#34;&#34; /&gt;&lt;/p&gt;
&lt;p&gt;&lt;img data-src=&#34;https://cdn.cdnjson.com/tva1.sinaimg.cn/large/008i3skNly1gq58c923pfj31020t8k5g.jpg&#34; alt=&#34;&#34; /&gt;&lt;/p&gt;
&lt;p&gt;ä½†æ˜¯è¿™ä¹ˆç®€å•çš„é—®é¢˜ï¼Œå¤§éƒ¨åˆ† App éƒ½æ²¡å¤„ç†å¥½ï¼Œè¯æ˜åœ¨æµç¨‹ä¸Šä¸€å®šæœ‰å¤§å®¶æ³¨æ„ä¸åˆ°çš„åœ°æ–¹ï¼Œæš´éœ²å‡ºæ¥çš„åªæ˜¯å†°å±±ä¸€è§’ï¼Œæˆ‘ä»¬æœºåˆ¶ä¸€å®šå­˜åœ¨ç€æŸç§é—®é¢˜ï¼Œæˆ–è€…å­˜åœ¨å¯ä»¥ä¼˜åŒ–çš„åœ°æ–¹ã€‚&lt;/p&gt;
&lt;p&gt;è¦æƒ³é¿å…è¿™ç§æƒ…å†µï¼Œå°±è¦å…ˆæ¢³ç†å‡ºå¤„ç† Crash çš„æµç¨‹ï¼š&lt;/p&gt;
&lt;h2 id=&#34;icrashå¤„ç†æµç¨‹&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#icrashå¤„ç†æµç¨‹&#34;&gt;#&lt;/a&gt; Iï¼šCrash å¤„ç†æµç¨‹&lt;/h2&gt;
&lt;p&gt;&lt;img data-src=&#34;https://cdn.cdnjson.com/tva1.sinaimg.cn/large/008i3skNly1gq6lcsxy6jj31bw0u0n1w.jpg&#34; alt=&#34;&#34; /&gt;&lt;/p&gt;
&lt;p&gt;åœ¨ iOS ç³»ç»Ÿä¸­åŸºæœ¬å¯ä»¥æ€»ç»“å‡ºè¿™å››ä¸ªæ­¥éª¤ï¼Œ&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;Crash é˜²æŠ¤ - é€šè¿‡ Hook ç­‰æ‰‹æ®µï¼Œå¯¹ä¸€äº›ç±»ä¼¼å®¹å™¨ç±»è¿›è¡Œå…¥å‚æ ¡éªŒç­‰æªæ–½ï¼Œæ¥è¿›æ¥é¿å… Crash çš„å‘ç”Ÿ&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Crash æ‹¦æˆª - å¦‚æœç¬¬ä¸€æ­¥é˜²æŠ¤å¤±è´¥ï¼Œé‚£ä¹ˆåœ¨ Crash èµ°åˆ°è¿™ä¸€æ­¥å°±è¦è¿›è¡Œæ‹¦æˆªï¼Œè¦è®©æˆ‘ä»¬å‘ç°å¼‚å¸¸&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Crash ä¸ŠæŠ¥ - å¯¹é˜²æŠ¤çš„ã€æ•è·çš„ Crash è¿›è¡Œé˜²æŠ¤ï¼Œç”Ÿæˆæœ‰æ•ˆçš„æ—¥å¿—è¿›è¡Œä¸ŠæŠ¥ï¼Œå°½å¯èƒ½çš„è¿˜åŸå †æ ˆã€‚&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Crash åç»­æµç¨‹ - Crash å‘ç”Ÿåå¦‚ä½•åšæ‰èƒ½æœ€å¤§é™åº¦çš„ä¿æŠ¤ç”¨æˆ·ä½“éªŒï¼Œå¦‚ä½•ä¼˜é›…çš„ Crash&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&#34;iicrashé˜²æŠ¤&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#iicrashé˜²æŠ¤&#34;&gt;#&lt;/a&gt; IIï¼šCrash é˜²æŠ¤&lt;/h2&gt;
&lt;p&gt;Crash é˜²æŠ¤æ–¹å¼ä¸»è¦åˆ†ä¸¤ç§ï¼šé’ˆå¯¹éå†…å­˜é—®é¢˜é€šå¸¸é‡‡ç”¨ AOP æ–¹å¼ï¼Œå†…å­˜é—®é¢˜é‡‡ç”¨ zombie å¯¹è±¡çš„æ–¹å¼ï¼Œ&lt;/p&gt;
&lt;p&gt;&lt;img data-src=&#34;https://cdn.cdnjson.com/tva1.sinaimg.cn/large/008i3skNly1gq6lrlbl0vj30qi07mdg5.jpg&#34; alt=&#34;&#34; /&gt;&lt;br /&gt;
&lt;img data-src=&#34;https://cdn.cdnjson.com/tva1.sinaimg.cn/large/008i3skNly1gq6ls764zyj30qm06cjrq.jpg&#34; alt=&#34;&#34; /&gt;&lt;/p&gt;
&lt;h3 id=&#34;aopbr&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#aopbr&#34;&gt;#&lt;/a&gt; AOPï¼š&amp;lt;br&amp;gt;&lt;/h3&gt;
&lt;p&gt;iOS ä¸­ AOP çš„ç›¸å…³çŸ¥è¯†ç½‘ä¸Šçº¿ç¨‹çš„ä»£ç ä¹Ÿå¾ˆå¤šï¼Œè¿™é‡Œå°±ä¸åœ¨èµ˜è¿°ï¼Œä½†æ˜¯åœ¨ AOP è¿™ç§é¢‘ç¹è°ƒç”¨çš„åœºæ™¯ä¸­å°±éœ€è¦æ³¨æ„çš„åœ°æ–¹å’Œå‘ç‚¹æ¯”è¾ƒå¤šã€‚&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;AOP çš„å½±å“èŒƒå›´é—®é¢˜ï¼šå½“æ—¶ç”¨äº†æ™®é€šçš„æ–¹å¼å¯¹æ•°ç»„ç›¸å…³çš„æ–¹æ³•è¿›è¡Œäº† Hookï¼Œç»“æœä¸Šçº¿åå‘ç°å¤§é‡çš„ç±»ä¼¼ Crashã€‚ &lt;code&gt;[UIKeyboardLayoutStar release]: message sent to deallocated instanceÂ UIKeyboardLayoutStar&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;&lt;img data-src=&#34;https://cdn.cdnjson.com/tva1.sinaimg.cn/large/008i3skNly1gq6m6njbm8j30o40d0q8q.jpg&#34; alt=&#34;&#34; /&gt;&lt;br /&gt;
åœ¨é€šè¿‡ä¸€äº›å…¶ä»–åœºæ™¯å¯ä»¥åˆ¤æ–­å‡ºæ˜¯å› ä¸º HookNSMutableArr çš„ç›¸å…³æ–¹æ³•ï¼Œå¯¼è‡´ç³»ç»Ÿç±»çš„è°ƒç”¨å—åˆ°äº†å½±å“ã€‚&lt;/p&gt;
&lt;p&gt;é€šè¿‡ Xcode è°ƒè¯•å‘ç°ï¼Œå› ä¸º Hook çš„æœ¬è´¨å°±æ˜¯åœ¨åŸæœ‰çš„ç³»ç»Ÿè°ƒç”¨å‰æ’å…¥ä¸€ä¸ªç”¨æˆ·è‡ªå®šä¹‰çš„å‡½æ•°è¿›è¡Œæ–¹æ³•äº¤æ¢ï¼Œé‚£ä¹ˆåœ¨æŸç§æç«¯æƒ…å†µä¸‹ï¼ˆæ¯”å¦‚å¤šçº¿ç¨‹ï¼‰ï¼Œä¼ å…¥è¯¥å‡½æ•°çš„å˜é‡è¢«é‡Šæ”¾ï¼Œè¿™æ ·ä¸€æ¥å†èµ°åˆ°åŸæœ¬ç³»ç»Ÿè°ƒç”¨çš„æ—¶å€™æ­£å¸¸é‡Šæ”¾æ—¶å°±ä¼šå‡ºç°é‡å¤é‡Šæ”¾çš„æƒ…å†µã€‚å¤§æ¦‚çš„æµç¨‹ä¸º&lt;/p&gt;
&lt;p&gt;&lt;img data-src=&#34;https://cdn.cdnjson.com/tva1.sinaimg.cn/large/008i3skNly1gq6mhmeprhj31hm0fu75v.jpg&#34; alt=&#34;&#34; /&gt;&lt;/p&gt;
&lt;p&gt;è¯¥åœºæ™¯åœ¨æµ‹è¯•è¿‡ç¨‹ä¸­å¾ˆéš¾å¤ç°ï¼Œä½†æ˜¯ä¸€æ—¦åˆ°äº†çº¿ä¸Šï¼Œç”¨æˆ·é‡è¦†ç›–å¤Ÿå¤§åè¯¥é—®é¢˜å°±ä¼šæ˜¾ç°å‡ºæ¥ã€‚è§£å†³æ–¹å¼å¾ˆç®€å•ï¼ŒHook å°½é‡åœ¨ MRC ä¸‹è¿›è¡Œï¼Œä½¿ç”¨ autorelease pool è¿›è¡ŒåŒ…è£…ã€‚ä¿è¯å†…éƒ¨å˜é‡åœ¨å½“å‰çš„ runloop ç»“æŸæ—¶å€™è¿›è¡Œé‡Šæ”¾ã€‚&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;AOP çš„æ€§èƒ½é—®é¢˜ï¼šä¸Šé¢è¯´äº† AOP çš„åŸç†æ˜¯ä¼šå¤šä¸€å±‚æ–¹æ³•è°ƒç”¨ï¼Œé‚£ä¹ˆå†ç»“åˆ iOS çš„æ–¹æ³•è½¬å‘æµç¨‹å¯æƒ³è€ŒçŸ¥ï¼ŒAOP å¿…å®šä¼šé€ æˆæ€§èƒ½çš„æŸè€—ï¼Œè€Œä¸”åœ¨ Crash é˜²æŠ¤åœºæ™¯ä¸‹é¢‘ç¹è°ƒç”¨ï¼Œæ€§èƒ½é—®é¢˜ä¸€å®šä¸èƒ½å¿½ç•¥ã€‚&lt;/p&gt;
&lt;p&gt;&lt;img data-src=&#34;https://cdn.cdnjson.com/tva1.sinaimg.cn/large/008i3skNly1gq6mswloauj310o0u0jx8.jpg&#34; alt=&#34;&#34; /&gt;&lt;/p&gt;
&lt;p&gt;é€šè¿‡ä¸Šå›¾çœ‹å‡ºï¼Œæ–¹æ³•è°ƒç”¨æµç¨‹æœ€ç»ˆä¼šè¿”å›å‡ºå¯¹åº”çš„ IMP æŒ‡é’ˆä¾›å¤–éƒ¨è°ƒç”¨ï¼Œä½œä¸ºåŠ¨æ€è¯­è¨€ï¼ŒOC æ— æ³•ç¡®å®šå¼€å‘è€…ä¼šå†ä»€ä¹ˆæ—¶å€™æ’å…¥æˆ–è€…äº¤æ¢å“ªä¸ªå‡½æ•°ï¼Œæ‰€ä»¥å¿…é¡»é€šè¿‡è¿™ä¸€å¥—æµç¨‹è¿›è¡Œç±»ä¼¼æ ¡éªŒçš„é€»è¾‘ã€‚&lt;/p&gt;
&lt;p&gt;ä½¿ç”¨è¿‡ AOP çš„åŒå­¦ä¸€å®šçŸ¥é“åœ¨ AOP å‰ä¼šå…ˆåšä¸€å±‚æ ¡éªŒ&lt;/p&gt;
&lt;p&gt;&lt;figure class=&#34;highlight reasonml&#34;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&#34;gutter&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;8&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;9&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;10&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;11&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;12&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;13&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;14&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;15&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;16&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;17&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&#34;code&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;+(void)hookClass:(Class)classObject isClassMetohd:(BOOL)classMethod fromSelector:(SEL)fromSelector toSelector:(SEL)toSelector &lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;    Class &lt;span class=&#34;keyword&#34;&gt;class&lt;/span&gt; = classObject;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;    Method fromMethod = &lt;span class=&#34;keyword&#34;&gt;class&lt;/span&gt;&lt;span class=&#34;constructor&#34;&gt;_getInstanceMethod(&lt;span class=&#34;params&#34;&gt;class&lt;/span&gt;, &lt;span class=&#34;params&#34;&gt;fromSelector&lt;/span&gt;)&lt;/span&gt;;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;    Method toMethod = &lt;span class=&#34;keyword&#34;&gt;class&lt;/span&gt;&lt;span class=&#34;constructor&#34;&gt;_getInstanceMethod(&lt;span class=&#34;params&#34;&gt;class&lt;/span&gt;, &lt;span class=&#34;params&#34;&gt;toSelector&lt;/span&gt;)&lt;/span&gt;;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;    &lt;span class=&#34;comment&#34;&gt;//  æ·»åŠ å‰è¿›è¡Œæ£€æµ‹&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;    &lt;span class=&#34;keyword&#34;&gt;if&lt;/span&gt; (classMethod) &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;        &lt;span class=&#34;keyword&#34;&gt;class&lt;/span&gt; = &lt;span class=&#34;keyword&#34;&gt;object&lt;/span&gt;&lt;span class=&#34;constructor&#34;&gt;_getClass(&lt;span class=&#34;params&#34;&gt;classObject&lt;/span&gt;)&lt;/span&gt;;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;        fromMethod = &lt;span class=&#34;keyword&#34;&gt;class&lt;/span&gt;&lt;span class=&#34;constructor&#34;&gt;_getClassMethod(&lt;span class=&#34;params&#34;&gt;class&lt;/span&gt;, &lt;span class=&#34;params&#34;&gt;fromSelector&lt;/span&gt;)&lt;/span&gt;;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;        toMethod = &lt;span class=&#34;keyword&#34;&gt;class&lt;/span&gt;&lt;span class=&#34;constructor&#34;&gt;_getClassMethod(&lt;span class=&#34;params&#34;&gt;class&lt;/span&gt;, &lt;span class=&#34;params&#34;&gt;toSelector&lt;/span&gt;)&lt;/span&gt;;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;    &amp;#125;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;    &lt;span class=&#34;keyword&#34;&gt;if&lt;/span&gt;(&lt;span class=&#34;keyword&#34;&gt;class&lt;/span&gt;&lt;span class=&#34;constructor&#34;&gt;_addMethod(&lt;span class=&#34;params&#34;&gt;class&lt;/span&gt;, &lt;span class=&#34;params&#34;&gt;fromSelector&lt;/span&gt;, &lt;span class=&#34;params&#34;&gt;method_getImplementation&lt;/span&gt;(&lt;span class=&#34;params&#34;&gt;toMethod&lt;/span&gt;)&lt;/span&gt;, &lt;span class=&#34;keyword&#34;&gt;method&lt;/span&gt;&lt;span class=&#34;constructor&#34;&gt;_getTypeEncoding(&lt;span class=&#34;params&#34;&gt;toMethod&lt;/span&gt;)&lt;/span&gt;)) &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;        &lt;span class=&#34;keyword&#34;&gt;class&lt;/span&gt;&lt;span class=&#34;constructor&#34;&gt;_replaceMethod(&lt;span class=&#34;params&#34;&gt;class&lt;/span&gt;, &lt;span class=&#34;params&#34;&gt;toSelector&lt;/span&gt;, &lt;span class=&#34;params&#34;&gt;method_getImplementation&lt;/span&gt;(&lt;span class=&#34;params&#34;&gt;fromMethod&lt;/span&gt;)&lt;/span&gt;, &lt;span class=&#34;keyword&#34;&gt;method&lt;/span&gt;&lt;span class=&#34;constructor&#34;&gt;_getTypeEncoding(&lt;span class=&#34;params&#34;&gt;fromMethod&lt;/span&gt;)&lt;/span&gt;);&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;    &amp;#125; &lt;span class=&#34;keyword&#34;&gt;else&lt;/span&gt; &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;        &lt;span class=&#34;keyword&#34;&gt;method&lt;/span&gt;&lt;span class=&#34;constructor&#34;&gt;_exchangeImplementations(&lt;span class=&#34;params&#34;&gt;fromMethod&lt;/span&gt;, &lt;span class=&#34;params&#34;&gt;toMethod&lt;/span&gt;)&lt;/span&gt;;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;    &amp;#125;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&amp;#125;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;br /&gt;
 æ‰€ä»¥åœ¨æ–¹æ³•æˆ‘ä»¬åœ¨ä¸Šé¢ä»£ç ä¸­çš„ toSelector ä¸­ å½“æˆ‘ä»¬éœ€è¦è°ƒç”¨å›åŸæ–¹æ³•æ—¶ç›´æ¥è°ƒç”¨å¯¹åº”çš„å‡½æ•°æŒ‡é’ˆå³å¯&lt;/p&gt;
&lt;p&gt;&lt;img data-src=&#34;https://cdn.cdnjson.com/tva1.sinaimg.cn/large/008i3skNly1gq6rm11f7dj30nm05a74e.jpg&#34; alt=&#34;&#34; /&gt;&lt;/p&gt;
&lt;p&gt;æœ€ç»ˆæˆ‘å¯¹ç›´æ¥è°ƒç”¨ IMP çš„æ–¹æ³•åšäº†æµ‹è¯•ï¼Œåˆ†åˆ«æ˜¯ Demo ä¸­å’Œ App ä¸­çš„æŸä¸€ä¸ªåœºæ™¯ï¼Œæµ‹è¯•æ•°æ®å¦‚ä¸‹ï¼Œå¯¹æ¯”ç»“æœè¿˜æ˜¯è¾ƒä¸ºæ˜æ˜¾ã€‚è¿™ä¹Ÿå°±æ˜¯ä¸ºä»€ä¹ˆ Swift æˆ–è€…ä¸€äº›å…¶ä»–é™æ€è¯­è¨€æ¯” OC å¿«çš„åŸå› ã€‚&lt;/p&gt;
&lt;p&gt;&lt;img data-src=&#34;https://cdn.cdnjson.com/tva1.sinaimg.cn/large/008i3skNly1gq6rw5k68mj313c0r6n13.jpg&#34; alt=&#34;&#34; /&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&#34;zombiebr&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#zombiebr&#34;&gt;#&lt;/a&gt; Zombieï¼š&amp;lt;br&amp;gt;&lt;/h3&gt;
&lt;p&gt;ä½¿ç”¨åƒµå°¸å¯¹è±¡æ¥è§£å†³å†…å­˜é—®é¢˜ä¸€ç›´æ˜¯è‹¹æœä¸»æ¨çš„æ–¹å¼ï¼ŒXcode ä¹Ÿæœ‰ç›¸å…³è®¾ç½®ï¼Œåœ¨ Debug ä¸‹æ‰“å¼€ç›¸åº”å¼€å…³ï¼Œä½†æ˜¯ä¸€æ—¦æŠŠè¯¥åŠŸèƒ½æ”¾åˆ°çº¿ä¸Šåšé˜²æŠ¤æˆ–ç›‘æ§å°±è¦è€ƒè™‘å¾ˆå¤šçš„é—®é¢˜ã€‚&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;zombie å…¥å£é—®é¢˜ï¼šæ¢å¥è¯è¯´å°±æ˜¯åœ¨å“ªä¸ªåœ°æ–¹ç”Ÿæˆ zombie å¯¹è±¡ï¼Œçœ‹äº†ä¸€äº›ç›¸å…³çš„ SDK éƒ½æ˜¯é‡‡ç”¨ Dealloc ä½œä¸ºå…¥å£å‡½æ•°ï¼Œä¸æ˜¯ä¸è¡Œï¼Œåªæ˜¯ä¸æ˜¯æœ€ä¼˜ã€‚åŸå› æœ‰ä¸¤ç‚¹:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;1: è‹¹æœå·²ç»ä¸å»ºè®®åœ¨ ARC ä¸‹ä¸»åŠ¨è°ƒç”¨ deallocï¼Œç›®å‰åªèƒ½é‡‡ç”¨ performSelector æˆ–è€…å…¶ä»–åŠ¨æ€è°ƒç”¨çš„æ–¹å¼ã€‚&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;2: å®¹æ˜“æ¼æ‰  &lt;code&gt;Objc_destructInstance&lt;/code&gt; ï¼Œæ‰€æœ‰çš„æˆå‘˜å˜é‡ã€å±æ€§éƒ½ä¼šåœ¨è¿™ä¸ªå‡½æ•°ä¸­é‡Šæ”¾ï¼Œå¦‚æœæ¼æ‰è¿™ä¸ªå‡½æ•°å°±ä¼šç”Ÿæˆä¸€ä¸ªå¹¶ä¸å¹²å‡€çš„åƒµå°¸å¯¹è±¡ï¼Œå†…å­˜å ç”¨è¿‡é«˜ï¼Œç™½ç™½æµªè´¹å†…å­˜ç©ºé—´ã€‚&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;ç»¼ä¸Šä¸¤ç‚¹æˆ‘æœ€ç»ˆé€‰æ‹©åœ¨ Free å‡½æ•°ä¸­ç”Ÿæˆåƒµå°¸å¯¹è±¡&lt;/p&gt;
&lt;p&gt;&lt;img data-src=&#34;https://cdn.cdnjson.com/tva1.sinaimg.cn/large/008i3skNly1gq6sr4ebj5j30vx0u0dhq.jpg&#34; alt=&#34;&#34; /&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;zombie å†…å­˜é˜ˆå€¼é—®é¢˜ï¼šåƒµå°¸å¯¹è±¡ä¼šå ç”¨å†…å­˜ç©ºé—´ï¼Œç„¶è€Œåœ¨çº¿ä¸Šç¯å¢ƒæ“ä½œå†…å­˜ä¸€å®šè¦å°å¿ƒä¸”ä¸€å®šè¦æœ‰ä¸€å¥—å®Œæ•´çš„é€»è¾‘ï¼Œå½“è¶…è¿‡æŸä¸€ä¸ªå†…å­˜é˜ˆå€¼åéœ€è¦åŠæ—¶æ¸…ç©ºåƒµå°¸å¯¹è±¡ã€‚å†…å­˜é˜ˆå€¼çš„ç¡®å®šä¾¿æˆäº†å…³é”®ï¼Œè¿™é‡Œä¼šé‡åˆ°ä¸¤ä¸ªé—®é¢˜ï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;&amp;lt;font color=&#39;red&#39;&amp;gt; 1ï¼šå†…å­˜é—®é¢˜ä¸€å®šä¼šå’Œæœºå‹å¼ºç›¸å…³ï¼Œå¦‚ä½•æ ¹æ®ä¸åŒçš„æœºå‹è°ƒæ•´ä¸åŒçš„é˜ˆå€¼ï¼Ÿ &amp;lt;/font&amp;gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&amp;lt;font color=&#39;red&#39;&amp;gt; 2ï¼šå¦‚ä½•åšåˆ°æ ¹æ®çº¿ä¸Šæƒ…å†µçµæ´»åŠ¨æ€è°ƒæ•´ï¼Ÿ&amp;lt;/font&amp;gt;&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;æˆ‘ä»¬çš„åº•çº¿æ˜¯åœ¨åŠ å…¥ zombie åä¸èƒ½è§¦å‘ memorywarningï¼Œæ‰€ä»¥æˆ‘å…ˆå¯¹å¤§éƒ¨åˆ†æœºå‹åšäº† memorywarning é˜ˆå€¼æµ‹è¯•ï¼š&lt;/p&gt;
&lt;p&gt;&lt;img data-src=&#34;https://cdn.cdnjson.com/tva1.sinaimg.cn/large/008i3skNly1gq6t2xweqcj312g0sg0xq.jpg&#34; alt=&#34;&#34; /&gt;&lt;/p&gt;
&lt;p&gt;ä»ä¸Šå›¾å¯ä»¥çœ‹å‡ºå½“ App å ç”¨å†…å­˜è¾¾åˆ°æ€»å†…å­˜çš„ 57%~69% æ—¶å€™ä¼šè§¦å‘å†…å­˜è­¦å‘Šï¼Œè€Œä¸”ç”±äº iphone ä¸­æœ‰ä¸€éƒ¨åˆ†å†…å­˜æ˜¯ç³»ç»Ÿä¿ç•™å†…å­˜å¹¶ä¸ä¼šç»™åˆ°å¼€å‘è€…ï¼Œæ‰€ä»¥æˆ‘ä»¬å¯ç”¨çš„ä¹Ÿå°± 50% å·¦å³ï¼Œæˆ‘æ€»ç»“å‡ºå¦‚ä¸‹å…¬å¼ï¼š&lt;/p&gt;
&lt;p&gt;å…¬å¼ 1ï¼šä¸èƒ½è§¦å‘å†…å­˜è­¦å‘Š  &lt;code&gt;Y = 0.5 * deviceMem â€“ currentAppMem&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;å…¬å¼ 2: åƒµå°¸å¯¹è±¡çš„å†…å­˜å ç”¨å†å¤§ä¹Ÿä¸ä¼šè¶…è¿‡ App æœ¬èº«çš„å†…å­˜  &lt;code&gt;Y = min ( ( 0.5 * deviceMem â€“ currentAppMem ) , currentAppMem)&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;ä¸Šé¢ä¸¤ä¸ªå…¬å¼çœ‹ä¼¼å®Œç¾ï¼Œä½†æ˜¯è¿˜æ˜¯æœ‰ä¼˜åŒ–çš„åœ°æ–¹ï¼Œå› ä¸ºå¹¶ä¸æ˜¯ APP ä¸­æ‰€æœ‰çš„å˜é‡éƒ½æœ‰å¯èƒ½æˆä¸ºåƒµå°¸å¯¹è±¡ï¼Œå¯èƒ½åªæ˜¯å…¶ä¸­çš„æŸä¸€éƒ¨åˆ†éœ€è¦è¢«ç›‘æ§ï¼Œæ‰€ä»¥å¾—åˆ°æœ€ç»ˆçš„å†…å­˜é˜ˆå€¼è®¡ç®—å…¬å¼ï¼š&lt;/p&gt;
&lt;p&gt;&amp;lt;font color=red size=5 face=&amp;quot;é»‘ä½“&amp;quot;&amp;gt;Y = min ( ( 0.5 * deviceMem â€“ currentAppMem ) , currentAppMem / N )&amp;lt;/font&amp;gt;&lt;/p&gt;
&lt;p&gt;å› ä¸º app å ç”¨å†…å­˜éšæ—¶åœ¨å˜ï¼Œæ‰€ä»¥å¯ä»¥åŠ ä¸€ä¸ªå®šæ—¶å™¨æ¯éš”ä¸€å®šæ—¶é—´å»æ›´æ–°è¯¥å€¼ã€‚&lt;/p&gt;
&lt;p&gt;ä¸Šé¢å…¬å¼çš„ N è¿˜æœ‰ä¸€ä¸ªå¥½å¤„å°±æ˜¯æˆ‘ä»¬å¯ä»¥åå°åŠ¨æ€ä¸‹å‘ï¼Œæ ¹æ®çº¿ä¸Šå†…å­˜å¼•èµ· Crash é‡ï¼Œå¦‚æœ Crash é‡å¤§ï¼Œé‚£å¯èƒ½å°±éœ€è¦æ›´å¤§çš„å†…å­˜é˜ˆå€¼å»ä¿å­˜åƒµå°¸å¯¹è±¡ï¼Œå°±å¯ä»¥æŠŠ N è°ƒå°ï¼Œåæ­£è°ƒå¤§ï¼Œè¿™æ ·å°±å¯ä»¥æ— è§†æœºå‹çš„å·®å¼‚æ ¹æ® Crash çš„æƒ…å†µè¿›è¡Œè¿œç¨‹é…ç½®ã€‚&lt;/p&gt;
&lt;p&gt;&lt;img data-src=&#34;https://cdn.cdnjson.com/tva1.sinaimg.cn/large/008i3skNly1gq6tozx4odj316l0u079c.jpg&#34; alt=&#34;&#34; /&gt;&lt;/p&gt;
&lt;p&gt;é€šè¿‡å¦‚å›¾çš„çº¿ä¸Šæ•°æ®å¯ä»¥çœ‹å‡º éšç€ N çš„å‡å°ï¼Œzombie çš„å†…å­˜é˜ˆå€¼åœ¨å¢åŠ ï¼Œä½†æ˜¯å¹¶ä¸ä¼šè¶…è¿‡å†…å­˜è­¦å‘Šé˜ˆå€¼ï¼Œç¡®ä¿äº†å†…å­˜å¥åº·ã€‚&lt;/p&gt;
&lt;p&gt;ä¸‹å›¾è¡¨ç¤ºäº†ä¸åŒçš„ N å€¼å¯¹åº”ä¸åŒçš„æ•è·é‡æŒ‡é’ˆé—®é¢˜çš„æ•°é‡ï¼Œå„è‡ª App å¯ä»¥æ ¹æ®è‡ªå·±çš„ä¸šåŠ¡æƒ…å†µè¿›è¡Œè°ƒæ•´ã€‚&lt;/p&gt;
&lt;p&gt;&lt;img data-src=&#34;https://cdn.cdnjson.com/tva1.sinaimg.cn/large/008i3skNly1gq6tse6e79j31zo0kkk0x.jpg&#34; alt=&#34;&#34; /&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;zombie æ›´æ–°ç­–ç•¥é—®é¢˜ï¼šç›®å‰å¤§å®¶çš„åšæ³•éƒ½æ˜¯åœ¨åŠ å…¥æ–°çš„ zombie å¯¹è±¡æ—¶å€™æ£€æŸ¥æ˜¯å¦è¶…è¿‡é˜ˆå€¼ï¼Œè¾¾åˆ°é˜ˆå€¼ååˆ æ‰ä¹‹å‰çš„ zombie å¯¹è±¡å†åŠ å…¥æ–°çš„å¯¹è±¡ï¼Œè¿™æ ·çš„æ¸…ç†é€»è¾‘æ˜¯ä¾èµ–äºæ–° zombie å¯¹è±¡çš„åŠ å…¥ï¼Œå¦‚æœæ²¡æœ‰æ–°å¯¹è±¡çš„åŠ å…¥é‚£ä¹ˆç¼“å­˜ç©ºé—´ä¹Ÿä¸ä¼šæœ‰å˜åŒ–ï¼Œzombie ç©ºé—´ä¸€æ—¦ç”Ÿæˆå°±æ— æ³•åˆ æ‰ï¼Œæ— æ³•åšåˆ°ç¼“å­˜çš„è‡ªæ¸…ç†ï¼Œç­‰äº App æ— æ•…å¢å¤§äº†å†…å­˜å ç”¨ã€‚&lt;/p&gt;
&lt;p&gt;&lt;img data-src=&#34;https://cdn.cdnjson.com/tva1.sinaimg.cn/large/008i3skNly1gq6u18gh6cj30wa0saad2.jpg&#34; alt=&#34;&#34; /&gt;&lt;/p&gt;
&lt;p&gt;åŒæ ·å€Ÿé‰´ LRU æœ€è¿‘æœ€ä¹…æœªä½¿ç”¨çš„é€»è¾‘ï¼Œæ¯éš” 30s ä¼šæ£€æµ‹ä¸‹ç¼“å­˜æƒ…å†µï¼Œè¶…è¿‡ 30s è¿˜æœªè¢«ä½¿ç”¨çš„ zombie å¯¹è±¡å°†è¢«åˆ é™¤ï¼Œ30s æ˜¯ä¸€ä¸ªç»éªŒå€¼ï¼Œé€šè¿‡å¤§é‡æµ‹è¯•å‘ç°ï¼Œå†…å­˜é—®é¢˜ä¸€èˆ¬ä¼šå‘ç”Ÿåœ¨å¯¹è±¡è¢«é”€æ¯çš„ 30s å†…ï¼Œè¶…è¿‡ 30s å†å‡ºç°çš„æ¦‚ç‡åŠå°ã€‚è¿™æ ·å¯ä»¥åšåˆ°ç¼“å­˜è‡ªæ¸…ç†çš„é€»è¾‘ã€‚&lt;/p&gt;
&lt;p&gt;&lt;img data-src=&#34;https://cdn.cdnjson.com/tva1.sinaimg.cn/large/008i3skNly1gq6u92wzy3j30n00si41c.jpg&#34; alt=&#34;&#34; /&gt;&lt;/p&gt;
&lt;p&gt;é€šè¿‡ Instrument æµ‹è¯•å‘ç°è¯¥ zombie é€»è¾‘å¹¶ä¸ä¼šå¯¹ App æœ¬èº«çš„å†…å­˜é€ æˆå¤ªå¤§çš„å½±å“ã€‚&lt;/p&gt;
&lt;p&gt;&lt;img data-src=&#34;https://cdn.cdnjson.com/tva1.sinaimg.cn/large/008i3skNly1gq6ucxjfn5j31c60u078q.jpg&#34; alt=&#34;&#34; /&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;
			&lt;script&gt;
				console.error(&#34;Error: [hexo-tag-aplayer] Specified asset file not found ( https://molier-1256056152.cos.ap-guangzhou.myqcloud.com/%E5%B0%B9%E6%98%94%E7%9C%A0%20-%20%E5%A5%94%E8%B5%B4%E6%98%9F%E7%A9%BA.mp3)&#34;);
			&lt;/script&gt;&lt;/p&gt;
 ]]></description>
        </item>
        <item>
            <guid isPermalink="true">https://oliverqueen.cn/iPa%E9%80%86%E5%90%91%E4%B9%8B%E8%B7%AF/</guid>
            <title>iPaé€†å‘ä¹‹è·¯</title>
            <link>https://oliverqueen.cn/iPa%E9%80%86%E5%90%91%E4%B9%8B%E8%B7%AF/</link>
            <category>iOS</category>
            <category>é€†å‘</category>
            <pubDate>Tue, 15 Nov 2022 19:40:49 +0800</pubDate>
            <description><![CDATA[ &lt;link rel=&#34;stylesheet&#34; class=&#34;aplayer-secondary-style-marker&#34; href=&#34;/assets/css/APlayer.min.css&#34;&gt;&lt;script src=&#34;/assets/js/APlayer.min.js&#34; class=&#34;aplayer-secondary-script-marker&#34;&gt;&lt;/script&gt;&lt;h2 id=&#34;èƒŒæ™¯&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#èƒŒæ™¯&#34;&gt;#&lt;/a&gt; èƒŒæ™¯&lt;/h2&gt;
&lt;p&gt;é€†å‘å·¥ç¨‹ç›¸å¯¹äºæ­£å‘çš„å¼€å‘ï¼Œå¯èƒ½å…³æ³¨çš„æ²¡æœ‰é‚£ä¹ˆé«˜ï¼Œå°¤å…¶æ˜¯ç›¸æ¯”äºå®‰å“æˆ–è€…å…¶ä»–å¹³å°ï¼Œè‹¹æœçš„å®‰å…¨æœºåˆ¶æ›´ä¸¥æ ¼ï¼Œé€†å‘çš„æµç¨‹ä¹Ÿä¼šæ›´ç¹çï¼Œé™¤äº†æœ‰ ASLRï¼ˆåœ°å€ç©ºé—´å¸ƒå±€éšæœºåŒ–ï¼‰ï¼Œè¿˜æœ‰ FairPlay DRM çš„ iPA åŠ å¯†æ–¹å¼ï¼Œä¹Ÿå°±æ˜¯æˆ‘ä»¬ä¿—ç§°çš„å£³ã€‚è¿™ä¸ªç»™é€†å‘å·¥ä½œå¸¦æ¥äº†æ›´å¤šçš„æŒ‘æˆ˜ã€‚ä½†æ˜¯ &lt;code&gt;æ›´å¥½æ›´å®‰å…¨çš„åŠ å¯†æ–¹å¼ä¹Ÿåªæ˜¯å¢åŠ ç ´è§£çš„æˆæœ¬ï¼Œå¹¶ä¸æ˜¯ç»å¯¹çš„å®‰å…¨&lt;/code&gt; ï¼Œè¿™ä¹Ÿæ˜¯é€†å‘çš„å‰æã€‚&lt;/p&gt;
&lt;p&gt;æœ€è¿‘ä¹Ÿæ­£åœ¨åšä¸€äº›è°ƒç ”çš„å·¥ä½œï¼Œéœ€è¦ä»æŠ€æœ¯å±‚é¢å»åˆ†æå…¶ä»– App çš„ä¸€äº›åº•å±‚é€»è¾‘ï¼Œè¦ç”¨åˆ° iOS çš„é€†å‘ç›¸å…³çš„æŠ€æœ¯ï¼Œä½†æ˜¯ç”±äºç¬”è€…åšè¿™äº›å·¥ä½œçš„æ—¶å€™æ­£å¤„äº MacOSã€iOSã€Xcode ä¸‰ä¸ªç³»ç»Ÿçš„å¤§ç‰ˆæœ¬æ›´æ–°æœŸé—´ï¼Œä¸€äº›ç³»ç»Ÿçš„è¿è¡Œæ–¹å¼å’Œé€»è¾‘å‘ç”Ÿå˜åŒ–ï¼Œæ‰€ä»¥å¯¼è‡´ç½‘ä¸Šèƒ½æ‰¾åˆ°çš„èµ„æ–™åŸºæœ¬éƒ½å¤±æ•ˆäº†ï¼Œæ‰€ä»¥å†™æ–‡æ¡£è®°å½•ä¸‹ã€‚&lt;/p&gt;
&lt;h2 id=&#34;å‰ç½®å·¥ä½œ&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#å‰ç½®å·¥ä½œ&#34;&gt;#&lt;/a&gt; å‰ç½®å·¥ä½œ&lt;/h2&gt;
&lt;h3 id=&#34;ç¯å¢ƒ&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#ç¯å¢ƒ&#34;&gt;#&lt;/a&gt; ç¯å¢ƒ&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;Mac æ¶æ„ï¼š Intel æ¶æ„&lt;/li&gt;
&lt;li&gt;MacOSï¼š 13.0.1 (22A400)&lt;/li&gt;
&lt;li&gt;Xcode ç‰ˆæœ¬ï¼šVersion 14.1 (14B47b)&lt;/li&gt;
&lt;li&gt;iOS ç³»ç»Ÿç‰ˆæœ¬ï¼šiOS 16.0&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&#34;ç›¸å…³å·¥å…·&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#ç›¸å…³å·¥å…·&#34;&gt;#&lt;/a&gt; ç›¸å…³å·¥å…·&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;&lt;span class=&#34;exturl&#34; data-url=&#34;aHR0cHM6Ly9zb3VyY2Vmb3JnZS5uZXQvcHJvamVjdHMvbWFjaG92aWV3Lw==&#34;&gt;MachOView&lt;/span&gt;
&lt;ul&gt;
&lt;li&gt;ç”¨æ¥æŸ¥çœ‹ Mach-o çš„æ–‡ä»¶ç»“æ„ï¼Œä»¥åŠå„ä¸ªéƒ¨åˆ†çš„ä¿¡æ¯&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;span class=&#34;exturl&#34; data-url=&#34;aHR0cDovL3N0ZXZlbnlnYXJkLmNvbS9wcm9qZWN0cy9jbGFzcy1kdW1wLw==&#34;&gt;class-dump&lt;/span&gt;
&lt;ul&gt;
&lt;li&gt;class-dumpï¼Œé¡¾åæ€ä¹‰ï¼Œå°±æ˜¯ç”¨æ¥ dump ç›®æ ‡å¯¹è±¡ çš„ class ä¿¡æ¯çš„å·¥å…·ã€‚å®ƒåˆ©ç”¨ Objective-C è¯­è¨€çš„ runtime ç‰¹æ€§ï¼Œå°†å­˜å‚¨åœ¨ Mach-O æ–‡ä»¶ä¸­çš„å¤´æ–‡ä»¶ä¿¡æ¯æå–å‡º æ¥ï¼Œå¹¶ç”Ÿæˆå¯¹åº”çš„.h æ–‡ä»¶ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;span class=&#34;exturl&#34; data-url=&#34;aHR0cHM6Ly9naXRodWIuY29tL0Fsb25lTW9ua2V5L01vbmtleURldg==&#34;&gt;MonkeyDev&lt;/span&gt;
&lt;ul&gt;
&lt;li&gt;éè¶Šç‹±å¼€å‘æ’ä»¶ï¼Œå¯ä»¥è¿›è¡ŒåŠ¨æ€åº“æ³¨å…¥ï¼Œhook ç›¸å…³æ“ä½œ&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;span class=&#34;exturl&#34; data-url=&#34;aHR0cHM6Ly93d3cuaG9wcGVyYXBwLmNvbS8=&#34;&gt;Hopper Disassembler&lt;/span&gt;
&lt;ul&gt;
&lt;li&gt;Hopper Disassembler æ˜¯ Mac ä¸Šçš„ä¸€æ¬¾äºŒè¿›åˆ¶åæ±‡ç¼–å™¨ï¼ŒåŸºæœ¬ä¸Šæ»¡è¶³äº†å·¥ä½œä¸Šçš„åæ±‡ç¼–çš„éœ€è¦ï¼ŒåŒ…æ‹¬ä¼ªä»£ç ä»¥åŠæ§åˆ¶æµå›¾ (Control Flow Graph)ï¼Œæ”¯æŒ ARM æŒ‡ä»¤é›†å¹¶é’ˆå¯¹ Objective-C çš„åšäº†ä¼˜åŒ–ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&#34;ipaä¸‹è½½&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#ipaä¸‹è½½&#34;&gt;#&lt;/a&gt; iPa ä¸‹è½½&lt;/h2&gt;
&lt;p&gt;iOS App çš„é€†å‘çš„æ‰€æœ‰æ“ä½œéƒ½æ˜¯åŸºäº iPa çš„æ“ä½œï¼Œæ‰€ä»¥å¤§å‰ææ˜¯è¦æœ‰ç›®æ ‡ iPaï¼Œè¿™é‡Œæä¾›ä¸‰ç§æ–¹å¼æ¥è¿›è¡Œ iPa ä¸‹è½½ï¼Œå¤§å®¶å¯ä»¥é€‰æ‹©é€‚åˆè‡ªå·±çš„æ–¹å¼ä¸‹è½½ã€‚&lt;/p&gt;
&lt;h3 id=&#34;æ–¹å¼1ä¸‰æ–¹åº”ç”¨å¸‚åœº&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#æ–¹å¼1ä¸‰æ–¹åº”ç”¨å¸‚åœº&#34;&gt;#&lt;/a&gt; æ–¹å¼ 1ï¼šä¸‰æ–¹åº”ç”¨å¸‚åœº&lt;/h3&gt;
&lt;p&gt;ç°åœ¨è¿™æ ·çš„åº”ç”¨å¸‚åœºæ¯”è¾ƒå¤šï¼Œå¤šæ˜¯å¹³æ›¿ iTunes çš„ä¸€äº›è½¯ä»¶&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;span class=&#34;exturl&#34; data-url=&#34;aHR0cHM6Ly93d3cuaTQuY24v&#34;&gt;çˆ±æ€åŠ©æ‰‹&lt;/span&gt;&lt;/li&gt;
&lt;li&gt;&lt;span class=&#34;exturl&#34; data-url=&#34;aHR0cHM6Ly93d3cuaXRvb2xzLmNuLw==&#34;&gt;iTools&lt;/span&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;ä½¿ç”¨å¦‚ä¸Šçš„ä¸‰æ–¹è½¯ä»¶å¯ä»¥å¾ˆå¿«çš„ä¸‹è½½å¯¹åº”çš„ ipa åŒ…ï¼Œä½†æ˜¯ç”±äºä¸Šè¿°å¸‚åœºéƒ½æ˜¯é•œåƒè‡ª AppStore çš„å†…å®¹ï¼Œå¹¶ä¸”è‡ªå·±é‡ç­¾åï¼Œæ‰€ä»¥æ›´æ–°çš„åŠæ—¶æ€§å¯èƒ½æ²¡æœ‰é‚£ä¹ˆå¿«ï¼Œä¹Ÿæ²¡æœ‰é‚£ä¹ˆå…¨ï¼Œè€Œä¸”å› ä¸ºæ˜¯è¢«ç¬¬ä¸‰æ–¹è¿›è¡Œäº†ä¿®æ”¹é‡ç­¾ï¼Œæ‰€ä»¥å†…å®¹ä¹Ÿä¸ä¸€å®šä¿è¯å’Œå®˜æ–¹çš„ä¸€è‡´ã€‚å¦‚æœä¸åœ¨ä¹è¿™äº›çš„è¯è¿˜æ˜¯å¯ä»¥é‡‡å–è¿™ç±»çš„æ–¹å¼ä¸‹è½½ã€‚&lt;/p&gt;
&lt;h3 id=&#34;æ–¹å¼2apple-configuration&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#æ–¹å¼2apple-configuration&#34;&gt;#&lt;/a&gt; æ–¹å¼ 2ï¼š&lt;span class=&#34;exturl&#34; data-url=&#34;aHR0cHM6Ly9zdXBwb3J0LmFwcGxlLmNvbS9hcHBsZS1jb25maWd1cmF0b3I=&#34;&gt;Apple Configuration&lt;/span&gt;&lt;/h3&gt;
&lt;p&gt;å¯ä»¥ç›´æ¥ä» Mac ä¸Šçš„ Apple Store ä¸Šä¸‹è½½ï¼Œå®˜æ–¹å‡ºå“ï¼ŒåŸæœ¬æ˜¯ç»™æ‰‹æœºä¸Šå®‰è£… app çš„ã€‚ç”¨æ­¤æ–¹å¼å…¶å®æ˜¯åˆ©ç”¨äº†è¯¥ App çš„ App ä¸‹è½½æœºåˆ¶æ¥è¿›è¡Œ ipa å¯¼å‡ºçš„&lt;/p&gt;
&lt;p&gt;&lt;img data-src=&#34;https://cdn.cdnjson.com/tva1.sinaimg.cn/large/008vxvgGgy1h84np4us32j310y0io75z.jpg&#34; alt=&#34;image-20221114144926709&#34; /&gt;&lt;/p&gt;
&lt;p&gt;é€‰æ‹©æ·»åŠ  Appï¼Œç„¶ååœ¨å¼¹å‡ºçš„å¼¹çª—ä¸­é€‰æ‹© App å¹¶ä¸”ä¸‹è½½&lt;/p&gt;
&lt;p&gt;&lt;img data-src=&#34;https://cdn.cdnjson.com/tva1.sinaimg.cn/large/008vxvgGgy1h84nq4zkpwj30ys0na0vm.jpg&#34; alt=&#34;image-20221114145027227&#34; /&gt;&lt;/p&gt;
&lt;p&gt;è¿™ä¸ªæ—¶å€™å¦‚æœä½ æ‰‹æœºä¸Šæ²¡æœ‰å®‰è£…è¯¥ Appï¼Œåˆ™ç›´æ¥ä¼šå®‰è£…æˆåŠŸï¼Œæ­¤æ—¶æˆ‘ä»¬å†ç‚¹å‡»å®‰è£…ä¸‹è½½ï¼Œç„¶åå°±ä¼šæ”¶åˆ° &lt;code&gt;è®¾å¤‡ä¸Šå·²ç»å­˜åœ¨ç›¸åŒçš„Appï¼Œæ˜¯å¦è¦†ç›–å®‰è£…çš„æç¤º&lt;/code&gt; çš„å¼¹çª—ï¼Œæ­¤æ—¶æˆ‘ä»¬ &amp;lt;font color=&#39;red&#39;&amp;gt;Â ä¸è¦ç†ä¼šÂ &amp;lt;/font &amp;gt; è¿™ä¸ªå¼¹çª—ã€‚&lt;/p&gt;
&lt;p&gt;&lt;img data-src=&#34;https://cdn.cdnjson.com/tva1.sinaimg.cn/large/008vxvgGgy1h84nvzsytmj30u00y6mz0.jpg&#34; alt=&#34;image-20221114145604307&#34; /&gt;&lt;/p&gt;
&lt;p&gt;ç„¶ååˆ°å¦‚ä¸‹è·¯å¾„å°±å¯ä»¥å–åˆ°å¯¹åº”çš„ ipa&lt;/p&gt;
&lt;p&gt;&lt;figure class=&#34;highlight awk&#34;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&#34;gutter&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;1&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&#34;code&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;~&lt;span class=&#34;regexp&#34;&gt;/Library/&lt;/span&gt;Group Containers&lt;span class=&#34;regexp&#34;&gt;/K36BKF7T3D.group.com.apple.configurator/&lt;/span&gt;Library&lt;span class=&#34;regexp&#34;&gt;/Caches/&lt;/span&gt;Assets&lt;span class=&#34;regexp&#34;&gt;/TemporaryItems/&lt;/span&gt;MobileApps/&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;/p&gt;
&lt;h3 id=&#34;æ–¹å¼3-dumpapp&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#æ–¹å¼3-dumpapp&#34;&gt;#&lt;/a&gt; æ–¹å¼ 3 &lt;a href=&#34;%5Bhttps://dumpapp.com%5D(https://dumpapp.com/)&#34;&gt;DumpApp&lt;/a&gt;&lt;/h3&gt;
&lt;p&gt;æ˜¯ä¸€ä¸ªç¬¬ä¸‰çš„ç½‘ç«™ï¼ŒåŒåœ¨çº¿ç ¸å£³ + ipa ä¸‹è½½çš„æœåŠ¡ï¼Œå› ä¸ºæˆ‘ä»¬æœ€ç»ˆæƒ³è¦çš„å°±æ˜¯ä¸€ä¸ªç ¸å£³ä¹‹åçš„ ipaï¼Œæ‰€ä»¥è¿™ä¸ªç½‘ç«™ç›´æ¥å¸®æˆ‘ä»¬åšå¥½äº†ï¼Œåªä¸è¿‡æ˜¯æ”¶è´¹çš„ï¼Œæ¯ä¸ª app æ˜¯ 9 å…ƒï¼Œä½†æ˜¯æœ‰å¤šä¸ªå¢ƒå¤–çš„ App å¸‚åœºï¼Œæ¯”è¾ƒå…¨é¢ã€‚&lt;/p&gt;
&lt;p&gt;&lt;img data-src=&#34;https://cdn.cdnjson.com/tva1.sinaimg.cn/large/008vxvgGgy1h84par73tqj30be07saa1.jpg&#34; alt=&#34;image-20221114154450405&#34; /&gt;&lt;/p&gt;
&lt;h2 id=&#34;ipaç ¸å£³&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#ipaç ¸å£³&#34;&gt;#&lt;/a&gt; iPa ç ¸å£³&lt;/h2&gt;
&lt;p&gt;å¦‚æœ iPa çš„è·å–æ–¹å¼é€‰æ‹©æ–¹å¼ 3ï¼Œåˆ™å¯ä»¥ç•¥è¿‡ç ¸å£³æ­¥éª¤&lt;/p&gt;
&lt;p&gt;app ä¸Šä¼ åˆ° AppStore å   è‹¹æœä½¿ç”¨ fairplay DRM æ¥åŠ å¯†ï¼Œå°±æ˜¯æˆ‘ä»¬æ‰€è¯´çš„å£³ DRM å…¨ç§° Digital Rights Managementï¼Œå³æ•°å­—ç‰ˆæƒä¿æŠ¤ã€‚è‹¹æœä¸ºäº†ä¿æŠ¤ App Store åˆ†å‘çš„éŸ³ä¹ / è§†é¢‘ / ä¹¦ç± / App å…äºç›—ç‰ˆï¼Œå¼€å‘äº† Fairplay DRM æŠ€æœ¯ã€‚&lt;/p&gt;
&lt;p&gt;æ‰€æœ‰é€†å‘éƒ½æ˜¯å»ºç«‹åœ¨ç ¸å£³çš„å‰æä¸‹ï¼Œç ¸å£³çš„æ–¹å¼æœ‰ä¸¤ç§ï¼š&lt;/p&gt;
&lt;h3 id=&#34;é™æ€ç ¸å£³&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#é™æ€ç ¸å£³&#34;&gt;#&lt;/a&gt; é™æ€ç ¸å£³&lt;/h3&gt;
&lt;p&gt;å°±æ˜¯ä¸ä¾èµ–ç¨‹åºè¿è¡Œï¼Œç›´æ¥ç”¨ ipa åŒ…å°±å¯ä»¥è¿›è¡Œç ¸å£³è§£å¯†ï¼Œæ¯”å¦‚è¯´æˆ‘å·²ç»çŸ¥é“äº†ä»–çš„åŠ å¯†ç®—æ³•ï¼Œæˆ–è€…æˆ‘é€šè¿‡æš´åŠ›ç ´è§£äº†ä»–çš„åŠ å¯†ç®—æ³•ï¼Œç„¶åå¯¹ ipa è¿›è¡Œè§£å¯†ï¼Œä½†æ˜¯è¿™æ ·çš„æ–¹æ³•éš¾åº¦è¾ƒå¤§ï¼Œè€Œä¸”å¦‚æœäººå®¶ä¸€æ—¦æ¢äº†åŠ å¯†æ–¹å¼æˆ–è€…æœ‰å…¶ä»–çš„æ”¹åŠ¨ï¼Œé‚£è§£å¯†æ–¹å¼å°±ä¸ç”Ÿæ•ˆäº†ï¼Œå¸¸è§çš„é™æ€ç ¸å£³å·¥å…·æœ‰ä»¥ä¸‹&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;[fouldecrypt](&lt;span class=&#34;exturl&#34; data-url=&#34;aHR0cHM6Ly9naXRodWIuY29tL055YU1pc3R5L2ZvdWxkZWNyeXB0&#34;&gt;NyaMisty/fouldecrypt: A lightweight and simpling iOS binary decryptor (github.com)&lt;/span&gt;)&lt;/li&gt;
&lt;li&gt;&lt;span class=&#34;exturl&#34; data-url=&#34;aHR0cHM6Ly9naXRodWIuY29tL0xha3IyMzMvSXJpZGl1bQ==&#34;&gt;Iridium&lt;/span&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&#34;åŠ¨æ€ç ¸å£³&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#åŠ¨æ€ç ¸å£³&#34;&gt;#&lt;/a&gt; åŠ¨æ€ç ¸å£³&lt;/h3&gt;
&lt;p&gt;ä¸é™æ€ç›¸åï¼ŒåŠ¨æ€ç ¸å£³å°±æ˜¯ä¾èµ–è¿è¡Œæ—¶çš„åŸç†æ¥è¿›è¡Œè§£å¯†ï¼Œä¸è¿‡ä¸å…¶è¯´æ˜¯è§£å¯†ï¼Œå€’ä¸å¦‚è¯´æ˜¯å†…å­˜æå–ï¼Œå› ä¸ºæ— è®º ipa åŒ…ç”¨ä»€ä¹ˆåŠ å¯†æ–¹å¼ï¼Œæœ€ç»ˆéƒ½æ˜¯è§£å¯†åè¿è¡Œåˆ°å†…å­˜é‡Œé¢çš„ï¼Œæ‰€ä»¥æˆ‘ä»¬å¯ä»¥è®¤ä¸º &lt;code&gt;ä¸€ä¸ªipaåœ¨å†…å­˜ä¸Šçš„æ•°æ®æ˜¯æœªåŠ å¯†çš„&lt;/code&gt; ï¼Œæ‰€ä»¥æ­¤æ—¶æˆ‘ä»¬åªè¦æŠŠå†…å­˜ä¸Šçš„æ•°æ®æå–å‡ºæ¥å³å¯ï¼Œæ•´ä¸ªè¿‡ç¨‹ä¹Ÿä¸æ¶‰åŠåˆ°è§£å¯†æ“ä½œï¼ŒåŠæ—¶åé¢ Apple æ›´æ¢åŠ å¯†æ–¹å¼ï¼Œä¹Ÿä¸å½±å“åŠ¨æ€ç ¸å£³çš„è¿‡ç¨‹ã€‚&lt;/p&gt;
&lt;p&gt;åŠ¨æ€ç ¸å£³çš„æ–¹å¼å’Œå·¥å…·æœ‰å¾ˆå¤šï¼Œç°åœ¨åŸºæœ¬å·²ç»æµæ°´çº¿åŒ–äº†ï¼Œå¯ä»¥ä½¿ç”¨ä»¥ä¸‹æ–¹å¼å’Œå·¥å…·æ¥è¿›è¡Œå¤„ç†ï¼Œå‰ææ˜¯è¦æœ‰ä¸€ä¸ªè¶Šç‹±çš„æ‰‹æœºã€‚&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;&lt;span class=&#34;exturl&#34; data-url=&#34;aHR0cHM6Ly9qdWVqaW4uY24vcG9zdC82ODQ0OTAzODkzNDk5OTA0MDA4&#34;&gt;dumpdecrypted&lt;/span&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;span class=&#34;exturl&#34; data-url=&#34;aHR0cHM6Ly9qdWVqaW4uY24vcG9zdC82ODQ0OTAzODkzNDk5OTA0MDE0&#34;&gt;Clutch&lt;/span&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&#34;æˆæœæ£€éªŒ&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#æˆæœæ£€éªŒ&#34;&gt;#&lt;/a&gt; æˆæœæ£€éªŒ&lt;/h3&gt;
&lt;p&gt;ç ¸å£³åéœ€è¦æ£€æŸ¥æ˜¯å¦ç ¸å£³æˆåŠŸï¼Œæ‰¾åˆ°å¯¹åº”ç ¸å£³åçš„çš„ ipaï¼Œç‚¹è¿›å»æ‰¾åˆ° mach-o æ–‡ä»¶ï¼Œæ‰§è¡Œå¦‚ä¸‹å‘½ä»¤ï¼Œç„¶ååœ¨è¾“å‡ºæŸ¥çœ‹ &lt;code&gt;cryptid&lt;/code&gt;  å­—æ®µå¦‚æœä¸º &lt;code&gt;0&lt;/code&gt;  å°±è¯´æ˜ç ¸å£³æˆåŠŸã€‚XXX = mach-o åå­—&lt;/p&gt;
&lt;p&gt;&lt;figure class=&#34;highlight 1c&#34;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&#34;gutter&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;1&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&#34;code&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;otool -l XXXXX &lt;span class=&#34;string&#34;&gt;|grep cry&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;/p&gt;
&lt;p&gt;&lt;img data-src=&#34;https://cdn.cdnjson.com/tva1.sinaimg.cn/large/008vxvgGgy1h84ripqxklj30tx02imxg.jpg&#34; alt=&#34;image-20221114170141723&#34; /&gt;&lt;/p&gt;
&lt;h2 id=&#34;å¤´æ–‡ä»¶å¯¼å‡º&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#å¤´æ–‡ä»¶å¯¼å‡º&#34;&gt;#&lt;/a&gt; å¤´æ–‡ä»¶å¯¼å‡º&lt;/h2&gt;
&lt;p&gt;ç ¸å£³åçš„çš„ç¬¬ä¸€æ­¥å°±æ˜¯å°† ipa æ–‡ä»¶çš„å¤´.h æ–‡ä»¶å¯¼å‡ºï¼Œç„¶åæ ¹æ® å¤´æ–‡ä»¶çš„æ–¹æ³•å’Œå±æ€§è¿›è¡Œé€†å‘åˆ†æï¼Œåœ¨æ‰¾åˆ°å¯¹åº”çš„ hook ç‚¹ã€‚é€šå¸¸æˆ‘ä»¬ä½¿ç”¨ class-dumpï¼Œå¯ä»¥å»ä»–çš„å®˜ç½‘ä¸‹è½½å¯¹åº”çš„æ–‡ä»¶ï¼Œç„¶åå°†æ–‡ä»¶æ‹·è´åˆ°å¯¹åº”çš„ç›®å½•ä¸‹ã€‚&lt;/p&gt;
&lt;p&gt;&lt;figure class=&#34;highlight shell&#34;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&#34;gutter&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;1&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&#34;code&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;sudo cp class-dump /usr/local/bin   &lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;/p&gt;
&lt;p&gt;è¿™ä¸€æ­¥æ²¡ä»€ä¹ˆé—®é¢˜ï¼Œæ‹·è´å®Œæˆé‡å¯ç»ˆç«¯å°±å¯ä»¥è°ƒç”¨ class-dump çš„æ–¹æ³•äº†.&lt;/p&gt;
&lt;h3 id=&#34;å¯¼å‡º&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#å¯¼å‡º&#34;&gt;#&lt;/a&gt; å¯¼å‡º&lt;/h3&gt;
&lt;p&gt;æ‰§è¡Œä¸‹é¢çš„å‘½ä»¤ï¼Œå¯¼å‡ºå¤´æ–‡ä»¶ï¼Œéœ€è¦æ³¨æ„çš„æ˜¯ï¼šå¯¼å‡ºåä¼šæœ‰ä¸Šä¸‡ä¸ªä¸ªæ–‡ä»¶ï¼Œæ‰€ä»¥ç›®æ ‡ç›®å½•æœ€å¥½ä¸è¦é€‰ Desktop æˆ–è€…å…¶ä»–çš„æ ¹ç›®å½•&lt;/p&gt;
&lt;p&gt;&lt;figure class=&#34;highlight shell&#34;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&#34;gutter&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;1&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&#34;code&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;class-dump -S -s -H XXXXX -o /path/to/headers/&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;/p&gt;
&lt;p&gt;æœ‰çš„æ—¶å€™ä¼šæ”¶åˆ°è¿™æ ·çš„é”™è¯¯&lt;/p&gt;
&lt;p&gt;&lt;figure class=&#34;highlight shell&#34;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&#34;gutter&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;1&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&#34;code&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;Error:Cannot find offset for address 0xd80000000101534a in stringAtAddress:&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;/p&gt;
&lt;p&gt;è¿™æ˜¯å› ä¸ºé¡¹ç›®ä½¿ç”¨äº† Oc å’Œ Swift çš„æ··ç¼–ï¼Œéœ€è¦èµ‹äºˆ class-dump æ–‡ä»¶æƒé™å³å¯&lt;/p&gt;
&lt;p&gt;&lt;figure class=&#34;highlight shell&#34;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&#34;gutter&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;1&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&#34;code&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;sudo chmod 777 /usr/local/bin/class-dump&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;/p&gt;
&lt;p&gt;ä¹‹åå°±å¯ä»¥å¯¼å‡ºæˆåŠŸäº†ã€‚&lt;/p&gt;
&lt;h2 id=&#34;monkeydev&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#monkeydev&#34;&gt;#&lt;/a&gt; MonkeyDev&lt;/h2&gt;
&lt;p&gt;è¿™æ˜¯ä¸€ä¸ªä¸ºè¶Šç‹±å’Œéè¶Šç‹±å¼€å‘äººå‘˜å‡†å¤‡çš„å·¥å…·ï¼Œä¸»è¦åŒ…æ‹¬å››ä¸ªæ¨¡å—:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;Logos Tweak&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;ä½¿ç”¨&lt;span class=&#34;exturl&#34; data-url=&#34;aHR0cHM6Ly9naXRodWIuY29tL3RoZW9zL3RoZW9zL3dpa2kvSW5zdGFsbGF0aW9u&#34;&gt; theos&lt;/span&gt; æä¾›çš„ &lt;code&gt;logify.pl&lt;/code&gt;  å·¥å…·å°† &lt;code&gt;*.xm&lt;/code&gt;  æ–‡ä»¶è½¬æˆ &lt;code&gt;*.mm&lt;/code&gt;  æ–‡ä»¶è¿›è¡Œç¼–è¯‘ï¼Œé›†æˆäº† &lt;code&gt;CydiaSubstrate&lt;/code&gt; ï¼Œå¯ä»¥ä½¿ç”¨ &lt;code&gt;MSHookMessageEx&lt;/code&gt;  å’Œ &lt;code&gt;MSHookFunction&lt;/code&gt;  æ¥ &lt;code&gt;Hook&lt;/code&gt;  OC å‡½æ•°å’ŒæŒ‡å®šåœ°å€ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;CaptainHook Tweak&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;ä½¿ç”¨&lt;span class=&#34;exturl&#34; data-url=&#34;aHR0cHM6Ly9naXRodWIuY29tL3JwZXRyaWNoL0NhcHRhaW5Ib29rLw==&#34;&gt; CaptainHook&lt;/span&gt; æä¾›çš„å¤´æ–‡ä»¶è¿›è¡Œ OC å‡½æ•°çš„ Hook ä»¥åŠå±æ€§çš„è·å–ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Command-line Tool&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;å¯ä»¥ç›´æ¥åˆ›å»ºè¿è¡Œäºè¶Šç‹±è®¾å¤‡çš„å‘½ä»¤è¡Œå·¥å…·&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;MonkeyApp&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;è¿™æ˜¯è‡ªåŠ¨ç»™ç¬¬ä¸‰æ–¹åº”ç”¨é›†æˆ Revealã€Cycript å’Œæ³¨å…¥ dylib çš„æ¨¡å—ï¼Œæ”¯æŒè°ƒè¯• dylib å’Œç¬¬ä¸‰æ–¹åº”ç”¨ï¼Œæ”¯æŒ Pod ç»™ç¬¬ä¸‰æ”¾åº”ç”¨é›†æˆ SDKï¼Œåªéœ€è¦å‡†å¤‡ä¸€ä¸ªç ¸å£³åçš„ ipa æˆ–è€… app æ–‡ä»¶å³å¯ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&#34;å®‰è£…&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#å®‰è£…&#34;&gt;#&lt;/a&gt; å®‰è£…&lt;/h3&gt;
&lt;p&gt;Monkeydev ä¾èµ–&lt;span class=&#34;exturl&#34; data-url=&#34;aHR0cHM6Ly90aGVvcy5kZXYvZG9jcy9pbnN0YWxsYXRpb24=&#34;&gt; Theos&lt;/span&gt;.Theos æ˜¯ä¸€ä¸ªè¶Šç‹±å¼€å‘å·¥å…·åŒ…ï¼Œç”± iOS è¶Šç‹±ç•ŒçŸ¥åäººå£« Dustin Howett å¼€å‘å¹¶åˆ†äº«åˆ° GitHub ä¸Šã€‚Theos ä¸å…¶ä»–è¶Šç‹±å¼€å‘å·¥å…·ç›¸æ¯”ï¼Œæœ€å¤§ç‰¹ç‚¹å°±æ˜¯ç®€å•ï¼šä¸‹è½½å®‰è£…ç®€å•ã€Logos è¯­æ³•ç®€å•ã€ç¼–è¯‘å‘å¸ƒç®€å•ï¼Œå¯ä»¥è®©ä½¿ç”¨è€…å°†ç²¾åŠ›éƒ½æ”¾åœ¨å¼€å‘å·¥ä½œä¸Šå»ã€‚&lt;/p&gt;
&lt;h4 id=&#34;å®‰è£…thoes&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#å®‰è£…thoes&#34;&gt;#&lt;/a&gt; å®‰è£… Thoes&lt;/h4&gt;
&lt;p&gt;&lt;figure class=&#34;highlight shell&#34;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&#34;gutter&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;1&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&#34;code&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;sudo git clone --recursive https://github.com/theos/theos.git /opt/theos&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;/p&gt;
&lt;h4 id=&#34;å®‰è£…monkeydev&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#å®‰è£…monkeydev&#34;&gt;#&lt;/a&gt; å®‰è£… Monkeydev&lt;/h4&gt;
&lt;p&gt;&lt;figure class=&#34;highlight shell&#34;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&#34;gutter&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;1&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&#34;code&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;sudo /bin/sh -c &amp;quot;$(curl -fsSL https://raw.githubusercontent.com/AloneMonkey/MonkeyDev/master/bin/md-install)&amp;quot;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;/p&gt;
&lt;h4 id=&#34;å¸è½½monkeydev&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#å¸è½½monkeydev&#34;&gt;#&lt;/a&gt; å¸è½½ Monkeydev&lt;/h4&gt;
&lt;p&gt;&lt;figure class=&#34;highlight shell&#34;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&#34;gutter&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;1&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&#34;code&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;sudo /bin/sh -c &amp;quot;$(curl -fsSL https://raw.githubusercontent.com/AloneMonkey/MonkeyDev/master/bin/md-uninstall)&amp;quot;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;/p&gt;
&lt;h4 id=&#34;æ›´æ–°monkeydev&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#æ›´æ–°monkeydev&#34;&gt;#&lt;/a&gt; æ›´æ–° Monkeydev&lt;/h4&gt;
&lt;p&gt;&lt;figure class=&#34;highlight shell&#34;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&#34;gutter&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;1&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&#34;code&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;sudo /bin/sh -c &amp;quot;$(curl -fsSL https://raw.githubusercontent.com/AloneMonkey/MonkeyDev/master/bin/md-update)&amp;quot;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;/p&gt;
&lt;h4 id=&#34;å®‰è£…é—®é¢˜&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#å®‰è£…é—®é¢˜&#34;&gt;#&lt;/a&gt; å®‰è£…é—®é¢˜&lt;/h4&gt;
&lt;p&gt;åœ¨å®‰è£…è¿‡ç¨‹ä¸­ï¼Œä¿®æ”¹ç”¨æˆ·  &lt;code&gt;profile&lt;/code&gt;  æ–‡ä»¶æ—¶ï¼Œæ‰¾ä¸åˆ°  &lt;code&gt;MacOSX Package Types.xcspec&lt;/code&gt;  å’Œ  &lt;code&gt;MacOSX Product Types.xcspec&lt;/code&gt;  æ–‡ä»¶&lt;/p&gt;
&lt;p&gt;&lt;figure class=&#34;highlight shell&#34;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&#34;gutter&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;2&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&#34;code&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;File /Applications/Xcode.app/Contents/Developer/Platforms/MacOSX.platform/Developer/Library/Xcode/Specifications/MacOSX Package Types.xcspec not found&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;/p&gt;
&lt;p&gt;è¿™ä¸ªæ˜¯å› ä¸ºæœ€æ–°çš„ Xcode14 ä¸­ è¿™ä¸ªè·¯å¾„å·²ç»æ”¹å˜ï¼Œæ‰€ä»¥åŸè·¯å¾„æ— æ³•æ‰¾åˆ°ï¼Œä¸è¿‡å¦‚æœå¤§å®¶éœ€è¦é€†å‘çš„äº‹ iOS çš„ App åˆ°è¿™ä¸€æ­¥å¯ä»¥ä¸ç”¨å…³å¿ƒï¼Œè¿™ä¸ªæ˜¯ MacOS ç›¸å…³çš„æ¨¡æ¿æ–‡ä»¶ã€‚æ­¤æ—¶æ‰“å¼€ Xcode å¦‚æœæœ‰ä»¥ä¸‹æ¨¡ç‰ˆæ–‡ä»¶ï¼Œå¹¶èƒ½æˆåŠŸåˆ›å»ºå·¥ç¨‹å³å¯ã€‚&lt;/p&gt;
&lt;p&gt;&lt;img data-src=&#34;https://cdn.cdnjson.com/tva1.sinaimg.cn/large/008vxvgGgy1h84skm4dlej30li0fbjsb.jpg&#34; alt=&#34;image-20221114173807449&#34; /&gt;&lt;/p&gt;
&lt;h4 id=&#34;ç¼–è¯‘æŠ¥é”™&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#ç¼–è¯‘æŠ¥é”™&#34;&gt;#&lt;/a&gt; ç¼–è¯‘æŠ¥é”™&lt;/h4&gt;
&lt;p&gt;é€šè¿‡ä¸Šä¸€æ­¥çš„æ¨¡æ¿æ–‡ä»¶åˆ›å»ºå¥½å·¥ç¨‹åï¼Œç›´æ¥çœŸæœºç¼–è¯‘è¿è¡Œï¼Œè¿™ä¸ªæ—¶å€™ä¼šæç¤ºç¼–è¯‘é”™è¯¯&lt;/p&gt;
&lt;p&gt;&lt;figure class=&#34;highlight gradle&#34;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&#34;gutter&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;1&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&#34;code&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;iOS &lt;span class=&#34;keyword&#34;&gt;file&lt;/span&gt; not found: &lt;span class=&#34;regexp&#34;&gt;/usr/&lt;/span&gt;lib/libstdc++.dylib&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;/p&gt;
&lt;p&gt;è¿™æ˜¯å› ä¸º &lt;code&gt;Xcode 10&lt;/code&gt;  ä¹‹ååˆ é™¤çš„ &lt;code&gt;libstdc++&lt;/code&gt;  åº“ã€‚å¯ä»¥å‚è€ƒæ­¤&lt;span class=&#34;exturl&#34; data-url=&#34;aHR0cHM6Ly9naXRodWIuY29tL2RibXo1MDIvTW9ua2V5RGV2X1hjb2RlMTQ=&#34;&gt;è§£å†³æ–¹æ¡ˆ&lt;/span&gt;ã€‚ä¹‹åå°±å¯ä»¥ç¼–è¯‘æˆåŠŸäº†ï¼Œå¹¶ä¸”æ‰‹æœºä¸Šå¯ä»¥è·‘èµ·æ¥ã€‚&lt;/p&gt;
&lt;p&gt;ç¬¬äºŒä¸ªé”™è¯¯æ˜¯ Fishhook ä¸­çš„é”™è¯¯ï¼Œè¿™ä¸ªæ˜¯æ˜¯ç”±äº Fishhook ç”¨çš„æ˜¯æ¯”è¾ƒè€çš„ç‰ˆæœ¬ï¼Œæœ¬èº«å­˜åœ¨ bugï¼Œåªè¦å» github å®˜ç½‘æ‰¾åˆ° fishhook æœ€æ–°ä»£ç  copy è¿‡æ¥å³å¯ã€‚&lt;/p&gt;
&lt;h3 id=&#34;æ–‡ä»¶ç»“æ„&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#æ–‡ä»¶ç»“æ„&#34;&gt;#&lt;/a&gt; æ–‡ä»¶ç»“æ„&lt;/h3&gt;
&lt;p&gt;æ–‡ä»¶ç»“æ„å¦‚ä¸‹å¦‚å›¾&lt;/p&gt;
&lt;p&gt;&lt;img data-src=&#34;https://upload-images.jianshu.io/upload_images/1609369-0a4b973075bc5df2.jpg?imageMogr2/auto-orient/strip%7CimageView2/2/w/854/format/webp&#34; alt=&#34;image-20221114174320781&#34; /&gt;&lt;/p&gt;
&lt;p&gt;è¿™æ˜¯ä¸€ä¸ªæ ‡å‡†çš„ MonkeyDemo çš„ç»“æ„&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;&lt;code&gt;TargetApp&lt;/code&gt; ï¼šæ”¾ç›®æ ‡ &lt;code&gt;ipa&lt;/code&gt;  çš„æ–‡ä»¶ï¼Œå°†éœ€è¦é€†å‘çš„ç ´å£³ &lt;code&gt;ipa&lt;/code&gt;  æ”¾åœ¨æ­¤å¤„&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;code&gt;Logos&lt;/code&gt; ï¼šç¼–å†™ç›¸å…³ &lt;code&gt;hook&lt;/code&gt;  çš„æ–‡ä»¶ï¼Œæ‰€æœ‰ &lt;code&gt;hook&lt;/code&gt;  æ“ä½œåœ¨æ­¤å¤„ï¼Œä½†æ˜¯å› ä¸ºè¯¥æ–‡ä»¶ä¸‹è¦ç”¨äº† logos è¯­å¥ï¼Œæœ‰ä¸€å®šçš„å­¦ä¹ æˆæœ¬ï¼Œæ‰€ä»¥åé¢çš„ hook å‡½æ•°å¯ä»¥ç›´æ¥å†™åœ¨ä¸Šé¢çš„ MonkeyDeomDyLib.m ä¸­&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;code&gt;fishhook&lt;/code&gt; ï¼šç”¨æ¥ &lt;code&gt;hook&lt;/code&gt;  ç³»ç»Ÿå‡½æ•°çš„åº“&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;ä¸Šæ–¹çš„ MonkeyDeomDyLib å°±æ˜¯æˆ‘ä»¬å³å°†æ³¨å…¥è¿›å»çš„åŠ¨æ€åº“ã€‚&lt;/p&gt;
&lt;h3 id=&#34;åŠ¨æ€åº“æ³¨å…¥&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#åŠ¨æ€åº“æ³¨å…¥&#34;&gt;#&lt;/a&gt; åŠ¨æ€åº“æ³¨å…¥&lt;/h3&gt;
&lt;p&gt;è¿è¡Œ demo ååŠ¨æ€åº“æ³¨å…¥æˆåŠŸï¼Œæ§åˆ¶å°ä¼šæœ‰å¦‚ä¸‹è¾“å‡º&lt;/p&gt;
&lt;p&gt;&lt;img data-src=&#34;https://cdn.cdnjson.com/tva1.sinaimg.cn/large/008vxvgGgy1h84swti61vj31le0qn43z.jpg&#34; alt=&#34;image-20221114174950556&#34; /&gt;&lt;/p&gt;
&lt;p&gt;&lt;figure class=&#34;highlight erlang-repl&#34;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&#34;gutter&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;1&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&#34;code&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;ğŸ‰!!ï¼congratulations!!ï¼ğŸ‰\nğŸ‘----------------insert dylib success----------------ğŸ‘&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;/p&gt;
&lt;p&gt;ä½†æ˜¯å¦‚æœæ˜¯å’Œæˆ‘ä¸€æ ·çš„è¿è¡Œç¯å¢ƒï¼Œä½ æ˜¯å¤§æ¦‚ç‡çœ‹ä¸åˆ°çš„ï¼Œå› ä¸ºä¼šæ³¨å…¥å¤±è´¥ã€‚è¿™é‡Œå°è¯•äº†ä¸¤ç§æ–¹å¼&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;insert_dylib åŒæ ·æ³¨å…¥å¤±è´¥ï¼Œ&lt;/li&gt;
&lt;li&gt;optool æ³¨å…¥æˆåŠŸ&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;ä¸‹é¢è¯´ä¸‹ optool ä½¿ç”¨&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;ä¸‹è½½ç¼–è¯‘ optool&lt;/p&gt;
&lt;p&gt;&lt;figure class=&#34;highlight awk&#34;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&#34;gutter&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;3&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&#34;code&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;git clone https:&lt;span class=&#34;regexp&#34;&gt;//gi&lt;/span&gt;thub.com&lt;span class=&#34;regexp&#34;&gt;/alexzielenski/&lt;/span&gt;optool.git&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;cd optool&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;git submodule update --init --recursive&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;æ‰¾åˆ°ç¼–è¯‘äº§ç‰©&lt;/p&gt;
&lt;p&gt;&lt;img data-src=&#34;https://cdn.cdnjson.com/tva1.sinaimg.cn/large/008vxvgGgy1h84t2mlrmaj30aa0b7wer.jpg&#34; alt=&#34;image-20221114175525945&#34; /&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;æŠŠç¼–è¯‘äº§ç‰©æ‹·è´åˆ° &lt;code&gt;/opt/MonkeyDev/bin&lt;/code&gt;  ä¸‹&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;ä¿®æ”¹ &lt;code&gt;/opt/MonkeyDev/Tools/pack.sh&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;&lt;figure class=&#34;highlight shell&#34;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&#34;gutter&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;6&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&#34;code&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;é¡¶éƒ¨æ’å…¥&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;OPTOOL=&amp;quot;$&amp;#123;MONKEYDEV_PATH&amp;#125;/bin/optool&amp;quot;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;åŒä¸Šé¢ä¸€æ ·&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;ä¿®æ”¹æ’å…¥åŠ¨æ€åº“å·¥å…·ä»£ç &lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&amp;quot;$OPTOOL&amp;quot; install -c load -p &amp;quot;@executable_path/Frameworks/lib&amp;quot;&amp;quot;$&amp;#123;TARGET_NAME&amp;#125;&amp;quot;&amp;quot;Dylib.dylib&amp;quot; -t &amp;quot;$&amp;#123;BUILD_APP_PATH&amp;#125;/$&amp;#123;APP_BINARY&amp;#125;&amp;quot;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;ç„¶åä¿å­˜é‡æ–°è¿è¡Œå³å¯æ³¨å…¥æˆåŠŸ&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&#34;podä½¿ç”¨&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#podä½¿ç”¨&#34;&gt;#&lt;/a&gt; pod ä½¿ç”¨&lt;/h3&gt;
&lt;p&gt;åœ¨è°ƒè¯• App æ—¶å€™æˆ‘ä»¬ä¼šç”¨åˆ°ç±»ä¼¼ lookIn æˆ–è€… FLEX çš„ç­‰å·¥å…·æ¥çœ‹ App çš„å±‚çº§ç»“æ„å’Œ æ²™ç›’æ–‡ä»¶ï¼ŒåŒæ ·éœ€è¦ pod æ¥æ¥å…¥ã€‚&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;åƒå¹³æ—¶åˆ›å»º podfile æ–‡ä»¶ä¸€æ · è¿›å…¥åˆ°å·¥ç¨‹ç›®å½• &lt;code&gt;pod init&lt;/code&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;åœ¨ç”Ÿæˆçš„ podfile ä¸­æ·»åŠ  podï¼Œä½†æ˜¯è¦æ³¨æ„æ˜¯åœ¨ &amp;lt;font color=&#39;red&#39;&amp;gt;Â DemoLibÂ &amp;lt;/font &amp;gt; çš„ trarget ä¸­æ·»åŠ ï¼Œå› ä¸ºæˆ‘ä»¬çš„ pod æ˜¯æ‰“å…¥åŠ¨æ€åº“çš„ï¼Œç„¶åç”±åŠ¨æ€åº“å¸¦å…¥ App&lt;/p&gt;
&lt;p&gt;&lt;figure class=&#34;highlight elixir&#34;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&#34;gutter&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;8&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;9&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;10&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;11&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;12&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;13&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;14&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;15&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;16&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;17&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;18&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;19&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&#34;code&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;comment&#34;&gt;# Uncomment the next line to define a global platform for your project&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;comment&#34;&gt;# platform :ios, &amp;#x27;9.0&amp;#x27;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;target &lt;span class=&#34;string&#34;&gt;&amp;#x27;Demo&amp;#x27;&lt;/span&gt; &lt;span class=&#34;keyword&#34;&gt;do&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;  &lt;span class=&#34;comment&#34;&gt;# Comment the next line if you don&amp;#x27;t want to use dynamic frameworks&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;  use_frameworks!&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;keyword&#34;&gt;end&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;target &lt;span class=&#34;string&#34;&gt;&amp;#x27;DemoDylib&amp;#x27;&lt;/span&gt; &lt;span class=&#34;keyword&#34;&gt;do&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;  &lt;span class=&#34;comment&#34;&gt;# Comment the next line if you don&amp;#x27;t want to use dynamic frameworks&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;  use_frameworks!&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;    pod &lt;span class=&#34;string&#34;&gt;&amp;#x27;FLEX&amp;#x27;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;    pod &lt;span class=&#34;string&#34;&gt;&amp;#x27;LookinServer&amp;#x27;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;keyword&#34;&gt;end&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;ç„¶å &lt;code&gt;pod install&lt;/code&gt;  å³å¯çœ‹åˆ°æ•ˆæœ&lt;/p&gt;
&lt;p&gt;&lt;img data-src=&#34;https://cdn.cdnjson.com/tva1.sinaimg.cn/large/008vxvgGgy1h85lo8xilij31b90u0ada.jpg&#34; alt=&#34;image-20221115102451908&#34; /&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&#34;ä»£ç hook&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#ä»£ç hook&#34;&gt;#&lt;/a&gt; ä»£ç  Hook&lt;/h3&gt;
&lt;p&gt;é€šè¿‡ Lookin æˆ‘ä»¬å¯ä»¥æ‰¾åˆ°å…¥æ‰‹ç‚¹å’Œå¯¹åº”çš„ç±»åï¼Œç„¶åé€šè¿‡ä¹‹å‰å¯¼å‡ºçš„å¤´æ–‡ä»¶å¯ä»¥æŸ¥çœ‹ç±»åå¯¹åº”çš„å‡½æ•°ï¼Œæ¥ä¸‹æ¥å°±æ˜¯è¦çœ‹ä¸‹å‡½æ•°é‡Œé¢åšäº†å“ªäº›äº‹æƒ…ï¼Œå°±è¦ç”¨åˆ° Hook æ‰‹æ®µï¼ŒMonkeyDev ç»™æˆ‘ä»¬å°è£…å¥½äº† Hook ç›¸å…³çš„æ–¹æ³•ï¼ŒåŒ…æ‹¬ OC å’Œ C çš„ Hook å‡½æ•°&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;CHDeclareClass&lt;/p&gt;
&lt;p&gt;æ³¨å†Œç±»åã€‚ä¹Ÿå°±æ˜¯æ³¨å†Œè¦è¢« hook çš„å‡½æ•°æ‰€åœ¨çš„ç±»ï¼Œæ¯”å¦‚&lt;/p&gt;
&lt;p&gt;&lt;figure class=&#34;highlight plaintext&#34;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&#34;gutter&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;1&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&#34;code&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;CHDeclareClass(MYViewController)&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;CHOptimizedMethod1&lt;/p&gt;
&lt;p&gt;hook å®ä¾‹æ–¹æ³•ï¼Œä½ ä¼šå‘ç°åé¢è·Ÿäº†æ•°å­— 1~10ï¼Œä»£è¡¨è¢« hook çš„å‡½æ•°çš„å‚æ•°çš„ä¸ªæ•°ï¼Œæ¯”å¦‚æˆ‘å°†è¦ hook çš„å‡½æ•°åªæœ‰ä¸€ä¸ªå‚æ•° é‚£ä¹ˆå°±ä½¿ç”¨ CHOptimizedMethod1 å‚æ•°å«ä¹‰ä¸º&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;ç¬¬ä¸€ä¸ªå‚æ•°ï¼Œä¸€èˆ¬ä¼  self&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;ç¬¬äºŒä¸ªå‚æ•°ï¼Œä¼ è¿”å›å€¼ç±»å‹ï¼Œæ²¡æœ‰è¿”å›å€¼å°±æ˜¯ void&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;ç¬¬ä¸‰ä¸ªå‚æ•°ï¼Œå‡½æ•°æ‰€åœ¨çš„ç±»å&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;ç¬¬å››ä¸ªå‚æ•°ï¼Œæ–¹æ³•å&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;ç¬¬äº”ä¸ªå‚æ•°ï¼Œå‡½æ•°å‚æ•°çš„ç±»å‹&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;ç¬¬å…­ä¸ªå‚æ•°ï¼Œå‡½æ•°å‚æ•°çš„å˜é‡&lt;/p&gt;
&lt;p&gt;å…¶ä¸­ç¬¬äº”ç¬¬å…­ä¸ªå‚æ•°åœ¨ CHOptimizedMethod1 ~10 ä¸­ä¼šé‡å¤ 1~10 æ¬¡&lt;/p&gt;
&lt;p&gt;&lt;figure class=&#34;highlight plaintext&#34;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&#34;gutter&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;3&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&#34;code&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;CHOptimizedMethod1(self, void, MYViewController, appMethod, id, para) &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;    NSLog(@&amp;quot;appMethodè¢«Hook = %@&amp;quot;, para);&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&amp;#125;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;CHOptimizedClassMethod3&lt;/p&gt;
&lt;p&gt;hook ç±»æ–¹æ³•ï¼Œæ‰€æœ‰å‡½æ•°å®šä¹‰åŒä¸Š&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;CHConstructor ç»“æ„&lt;/p&gt;
&lt;p&gt;ç”¨æ¥æ³¨å†Œåˆšæ‰çš„ hook æ“ä½œ&lt;/p&gt;
&lt;p&gt;&lt;figure class=&#34;highlight plaintext&#34;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&#34;gutter&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;7&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&#34;code&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;CHConstructor&amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;  // æ³¨å†Œå°†è¦hookçš„ç±»&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;    CHLoadLateClass(MYViewController);&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;	// æ³¨å†Œå°†è¦hook çš„æ–¹æ³•&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;    CHHook1(MYViewController, appMethod);&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&amp;#125;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;/p&gt;
&lt;p&gt;ä¸Šé¢æµç¨‹æ‰§è¡Œå®Œæˆåå°±å¯ä»¥çœ‹åˆ°å‡½æ•°è¢« Hook äº†&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&#34;hopper-disassembler&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#hopper-disassembler&#34;&gt;#&lt;/a&gt; Hopper Disassembler&lt;/h2&gt;
&lt;p&gt;ä¸Šé¢çš„æ­¥éª¤è®²äº†å¦‚ä½•é€šè¿‡ lookin æˆ–è€… reveal ç­‰å·¥å…·æ¥å®šä½ç±»åï¼Œç„¶åé€šè¿‡ç±»ååœ¨å¤´æ–‡ä»¶ä¸­æ‰¾åˆ°å‡½æ•°åï¼Œç„¶åé€šè¿‡ hook æ‰‹æ®µæ¥æ”¹å˜å‡½æ•°çš„ä¸€äº›è¡¨ç°ï¼Œä½†æ˜¯åœ¨å¦‚ä½•æ²¡æœ‰æ‹¿åˆ°.m æ–‡ä»¶çš„å‰æä¸‹çœ‹åˆ°æŸä¸ªå‡½æ•°çš„å®ç°å‘¢ï¼Ÿæ¯”å¦‚ä¸€ä¸ªå‡½æ•°ä¸­éƒ½åšäº†å“ªäº›æ“ä½œï¼Œè°ƒç”¨äº†å“ªäº›å…¶ä»–å‡½æ•°ï¼Œä»¥åŠè°ƒç”¨é“¾æ˜¯æ€æ ·çš„ï¼Ÿ&lt;/p&gt;
&lt;p&gt;è¿™ä¸ªæ—¶å€™å°±éœ€è¦ç”¨åˆ° &lt;code&gt;Hopper Disassembler&lt;/code&gt;  æˆ–è€… &lt;code&gt;IDA Pro&lt;/code&gt;  è¿™æ ·çš„å·¥å…·äº†ï¼Œä¸è¿‡ç›®å‰é‡åˆ°çš„å›°éš¾æ˜¯åœ¨ç¬”è€…çš„ç³»ç»Ÿç¯å¢ƒä¸‹ï¼Œè¿™ä¸¤ä¸ªè½¯ä»¶çš„ç ´è§£ç‰ˆæ— æ³•å®‰è£…ï¼Œè€Œä¸” &lt;code&gt;IDA Pro&lt;/code&gt;  çš„å®˜æ–¹è¯•ç”¨ç‰ˆè¿˜ä¸æ”¯æŒ Arm çš„æ±‡ç¼–ï¼Œæ‰€ä»¥åªèƒ½ä½¿ç”¨ Hopper Disassembler æ¥ä¸¾ä¾‹å­ã€‚æ‰“å¼€è½¯ä»¶ï¼Œå°† &lt;code&gt;å¯¹åº”App çš„Mach-o&lt;/code&gt;  æ–‡ä»¶æ‹–å…¥ Hopper ä¸­ç­‰å¾…å®ƒåˆ†æå®Œæˆ&lt;/p&gt;
&lt;p&gt;&lt;img data-src=&#34;https://cdn.cdnjson.com/tva1.sinaimg.cn/large/008vxvgGgy1h85mc4b62oj31ec0u075n.jpg&#34; alt=&#34;image-20221115104755241&#34; /&gt;&lt;/p&gt;
&lt;p&gt;å¤„ç†å®Œåçš„ç•Œé¢å·¦è¾¹ä¼šæ˜¾ç¤ºæ–¹æ³•åï¼Œæ”¯æŒæœç´¢æŸ¥è¯¢ï¼Œä¸­é—´åŒºåŸŸæ˜¾ç¤ºçš„æ˜¯æ±‡ç¼–ä»£ç ï¼Œæˆ‘ä»¬æœç´¢ä¸€ä¸ªåœ¨ä¹‹å‰ dump å‡ºçš„å¤´æ–‡ä»¶ä¸­çš„ä¸€ä¸ªå‡½æ•°åè¯•ä¸‹ã€‚&lt;/p&gt;
&lt;p&gt;&lt;figure class=&#34;highlight plaintext&#34;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&#34;gutter&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;1&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&#34;code&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;[XXXXXXXX listenerDownloadLyricWithSongId:resultBlock:]&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;/p&gt;
&lt;p&gt;å¯ä»¥çœ‹åˆ°ä¸­é—´çš„éƒ¨åˆ†æ˜¾ç¤ºå‡ºæ¥å‡½æ•°æ‰€å¯¹åº”çš„æ±‡ç¼–ä»£ç &lt;/p&gt;
&lt;p&gt;&lt;img data-src=&#34;https://cdn.cdnjson.com/tva1.sinaimg.cn/large/008vxvgGgy1h861n7q3isj317b0u0dlg.jpg&#34; alt=&#34;image-20221115193733635&#34; /&gt;&lt;/p&gt;
&lt;p&gt;ç„¶åæŒ‰å¿«æ·é”® &lt;code&gt;Option+enter&lt;/code&gt;  å³å¯è½¬ä¸ºä¼ª OC ä»£ç ï¼Œè™½ç„¶åŒ…å«ä¸€äº›çš„å¯„å­˜å™¨ä¿¡æ¯ï¼Œä½†æ˜¯ä¹Ÿè¶³ä»¥åˆ†æäº†ã€‚åŒæ—¶åŒå‡»å¯ä»¥è·³è½¬åˆ°å¯¹åº”çš„å‡½æ•°å†…éƒ¨ã€‚&lt;/p&gt;
&lt;h2 id=&#34;æœ€å&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#æœ€å&#34;&gt;#&lt;/a&gt; æœ€å&lt;/h2&gt;
&lt;p&gt;ä»¥ä¸Šå°±æ˜¯ç›®å‰çš„é€†å‘è°ƒç ”è¿‡ç¨‹ï¼Œè¿™é‡Œå…ˆè®°å½•ä¸‹ï¼Œåé¢è¿˜ä¼šæ·±å…¥ç ”ç©¶ï¼Œæœ‰æ–°çš„å‘ç°ä¼šåŒæ­¥æ›´æ–°æ­¤æ–‡ç« ã€‚&lt;/p&gt;
 ]]></description>
        </item>
        <item>
            <guid isPermalink="true">https://oliverqueen.cn/2022-08-24-WWDC22%EF%BC%9ARuntime%E7%9A%84%E6%80%A7%E8%83%BD%E4%BC%98%E5%8C%96%E5%92%8CApp%E5%87%8F%E5%8C%85/</guid>
            <title>WWDC22ï¼šRuntimeçš„æ€§èƒ½ä¼˜åŒ–å’ŒAppå‡åŒ…</title>
            <link>https://oliverqueen.cn/2022-08-24-WWDC22%EF%BC%9ARuntime%E7%9A%84%E6%80%A7%E8%83%BD%E4%BC%98%E5%8C%96%E5%92%8CApp%E5%87%8F%E5%8C%85/</link>
            <category>iOS</category>
            <category>WWDC2022</category>
            <pubDate>Wed, 24 Aug 2022 15:04:39 +0800</pubDate>
            <description><![CDATA[ &lt;link rel=&#34;stylesheet&#34; class=&#34;aplayer-secondary-style-marker&#34; href=&#34;/assets/css/APlayer.min.css&#34;&gt;&lt;script src=&#34;/assets/js/APlayer.min.js&#34; class=&#34;aplayer-secondary-script-marker&#34;&gt;&lt;/script&gt;&lt;p&gt;æœ¬ Session è®²äº†ä¸ºäº†è®©ä½ çš„åº”ç”¨åŒ…ä½“ç§¯æ›´å°ï¼Œè¿è¡Œæ›´å¿«ï¼Œå¯åŠ¨é€Ÿåº¦æ›´å¿«ï¼Œæˆ‘ä»¬å¯¹ Swift å’Œ Objective-C è¿è¡Œæ—¶åšäº†æ€æ ·çš„ä¼˜åŒ–ã€‚åŒæ—¶é€šè¿‡æœ¬ Session ä½ å°†å‘ç°å¦‚ä½•é€šè¿‡é«˜æ•ˆçš„åè®®æ£€æŸ¥ï¼Œæ›´å°çš„æ¶ˆæ¯å‘é€ï¼Œä»¥åŠä¼˜åŒ–åçš„ ARC æœºåˆ¶ï¼Œæ¥æé«˜ä½ çš„ App æ€§èƒ½ã€‚&lt;/p&gt;
&lt;p&gt;&lt;img data-src=&#34;https://cdn.jsdelivr.net/gh/MolierQueen/resource@main/202301102018054.png&#34; alt=&#34;&#34; /&gt;&lt;/p&gt;
&lt;p&gt;&lt;span id=&#34;more&#34;&gt;&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&lt;div class=&#34;media-container&#34;&gt;&lt;div class=&#34;player&#34; data-type=&#34;audio&#34; data-src=&#39;[&#34;https://music.163.com/#/song?id=1929370102&#34;]&#39;&gt;&lt;/div&gt;&lt;/div&gt;&lt;/p&gt;
&lt;h2 id=&#34;å‰è¨€&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#å‰è¨€&#34;&gt;#&lt;/a&gt; å‰è¨€&lt;/h2&gt;
&lt;p&gt;WWDC2022 ä¸Šè‹¹æœæ›´æ–°äº† Xcode14ï¼Œé‡Œé¢æåˆ°äº†ä¸€äº›ç›¸å…³çš„ä¼˜åŒ–ã€‚å…¶ä¸­è®²äº†é€šè¿‡å¯¹ Swift å’Œ Objective-C è¿è¡Œæ—¶åšäº†ä¸€äº›ä¼˜åŒ–ï¼Œè¾¾åˆ°äº†åŒ…ä½“ç§¯å˜å¾—æ›´å°ã€è¿è¡Œé€Ÿåº¦æ›´å¿«ï¼Œå¯åŠ¨é€Ÿåº¦æ›´å¿«çš„ç›®çš„ã€‚å¦‚æœä½ æ˜¯ç”¨ Xcode14 æ¥æ„å»º Appï¼Œé‚£ä¹ˆä¼šæœ‰å…¶ä¸­ä¸‰ç‚¹ä¼˜åŒ–&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;é«˜æ•ˆçš„åè®®æ£€æŸ¥ï¼ˆé’ˆå¯¹ Swift protocol checkï¼‰&lt;/li&gt;
&lt;li&gt;æ›´å¿«çš„æ¶ˆæ¯å‘é€æœºåˆ¶ï¼ˆmessage sendï¼‰&lt;/li&gt;
&lt;li&gt;release å’Œ retain è°ƒç”¨ä¼˜åŒ–ï¼ˆrelease &amp;amp; retainï¼‰&lt;/li&gt;
&lt;li&gt;Autorelease elision çš„ä¼˜åŒ–ï¼ˆè‡ªåŠ¨é‡Šæ”¾çœç•¥ï¼‰&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;img data-src=&#34;https://cdn.jsdelivr.net/gh/MolierQueen/resource@main/202301102019048.png&#34; alt=&#34;&#34; /&gt;&lt;/p&gt;
&lt;p&gt;å½“ä½ ç”¨ Swift æˆ– Objective-C ç¼–å†™ä»£ç æ—¶ï¼Œå…¶å®æ˜¯ä¼šç»å†ä¸‰ä¸ªä¸ªæ­¥éª¤ã€‚&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;ç¼–ç ï¼Œé€šè¿‡ Xcode ç¼–å†™ä»£ç &lt;/li&gt;
&lt;li&gt;ç¼–è¯‘ï¼Œä½¿ç”¨äº† Swift å’Œ Clang ç¼–è¯‘å™¨&lt;/li&gt;
&lt;li&gt;è¿è¡Œï¼Œé€šè¿‡ Swift å’Œ Objective-C è¿è¡Œæ—¶ä¸­å®Œæˆ&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;img data-src=&#34;https://cdn.cdnjson.com/tva1.sinaimg.cn/large/e6c9d24egy1h5gp9rcbq1j215t0u0754.jpg&#34; alt=&#34;image-20220823144936761&#34; /&gt;&lt;/p&gt;
&lt;p&gt;æ­¤æ¬¡çš„è¿™äº›å…³é”®ä¼˜åŒ–å…¶å®å°±æ˜¯åœ¨ç¬¬ä¸‰æ­¥éª¤è¿è¡Œæ—¶æ¥å®Œæˆçš„ï¼Œè¿è¡Œæ—¶åµŒå…¥åœ¨æˆ‘ä»¬æ‰€æœ‰å¹³å°çš„æ“ä½œç³»ç»Ÿä¸­ã€‚ç¼–è¯‘å™¨åœ¨æ„å»ºæ—¶ä¸èƒ½åšçš„äº‹æƒ…ï¼Œè¿è¡Œæ—¶å¯ä»¥åšã€‚è€Œæ­¤æ¬¡æ‰€æœ‰çš„ä¿®æ”¹å…¶å®å¯¹äºå¼€å‘è€…æ¥è¯´æ˜¯æ— æ„Ÿé€æ˜çš„ï¼Œæ‰€ä»¥ä»»ä½•ä»£ç éƒ½ä¸ç”¨æ”¹åŠ¨ï¼Œåªè¦ä½ ä½¿ç”¨ Xcode14 æ¥è¿›è¡Œæ‰“åŒ…ç¼–è¯‘ï¼Œä¾¿ä¼šäº«å—çš„è¿™äº›ä¼˜åŒ–ç‚¹ã€‚&lt;/p&gt;
&lt;h2 id=&#34;swiftåè®®æ£€æŸ¥protocol-checks&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#swiftåè®®æ£€æŸ¥protocol-checks&#34;&gt;#&lt;/a&gt; Swift åè®®æ£€æŸ¥ï¼ˆProtocol checksï¼‰&lt;/h2&gt;
&lt;p&gt;å…ˆæ¥çœ‹ä¸€ä¸ªä¾‹å­ï¼&lt;/p&gt;
&lt;p&gt;&lt;figure class=&#34;highlight swift&#34;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&#34;gutter&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;8&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;9&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;10&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;11&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;12&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;13&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;14&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;15&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;16&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;17&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;18&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;19&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;20&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;21&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;22&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;23&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;24&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;25&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&#34;code&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;comment&#34;&gt;// å®šä¹‰ä¸€ä¸ªåè®®&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;keyword&#34;&gt;protocol&lt;/span&gt; &lt;span class=&#34;title class_&#34;&gt;CustomLoggable&lt;/span&gt; &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;  &lt;span class=&#34;comment&#34;&gt;// åè®®ä¸­å®šä¹‰ä¸€ä¸ªå±æ€§ customStringï¼Œåªè¯»å±æ€§&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;    &lt;span class=&#34;keyword&#34;&gt;var&lt;/span&gt; customLogString: &lt;span class=&#34;type&#34;&gt;String&lt;/span&gt; &amp;#123; &lt;span class=&#34;keyword&#34;&gt;get&lt;/span&gt; &amp;#125;        &lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&amp;#125;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;comment&#34;&gt;// å®šä¹‰ä¸€ä¸ªlogå‡½æ•°ï¼Œå‚æ•°ä¸ºAnyç±»å‹&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;keyword&#34;&gt;func&lt;/span&gt; &lt;span class=&#34;title function_&#34;&gt;log&lt;/span&gt;(&lt;span class=&#34;params&#34;&gt;value&lt;/span&gt;: &lt;span class=&#34;keyword&#34;&gt;Any&lt;/span&gt;) &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;comment&#34;&gt;//å¦‚æœvalueéµå¾ªCustomLoggableåè®®ï¼Œå°±è¾“å‡ºå­—ç¬¦ä¸²&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;    &lt;span class=&#34;keyword&#34;&gt;if&lt;/span&gt; &lt;span class=&#34;keyword&#34;&gt;let&lt;/span&gt; value &lt;span class=&#34;operator&#34;&gt;=&lt;/span&gt; value &lt;span class=&#34;keyword&#34;&gt;as?&lt;/span&gt; &lt;span class=&#34;type&#34;&gt;CustomLoggable&lt;/span&gt; &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;        &lt;span class=&#34;built_in&#34;&gt;debugPrint&lt;/span&gt;(value.customLogString)        &lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;    &amp;#125; &lt;span class=&#34;keyword&#34;&gt;else&lt;/span&gt; &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;        &lt;span class=&#34;operator&#34;&gt;...&lt;/span&gt;        &lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;    &amp;#125;       &lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&amp;#125;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;comment&#34;&gt;// å®šä¹‰ä¸€ä¸ªEventç±»å‹ éµå¾ªåè®®ï¼Œå¹¶å®ç°customLogString&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;keyword&#34;&gt;struct&lt;/span&gt; &lt;span class=&#34;title class_&#34;&gt;Event&lt;/span&gt;: &lt;span class=&#34;title class_&#34;&gt;CustomLoggable&lt;/span&gt; &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;    &lt;span class=&#34;keyword&#34;&gt;var&lt;/span&gt; name: &lt;span class=&#34;type&#34;&gt;String&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;    &lt;span class=&#34;keyword&#34;&gt;var&lt;/span&gt; date: &lt;span class=&#34;type&#34;&gt;String&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;    &lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;    &lt;span class=&#34;keyword&#34;&gt;var&lt;/span&gt; customLogString: &lt;span class=&#34;type&#34;&gt;String&lt;/span&gt; &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;        &lt;span class=&#34;keyword&#34;&gt;return&lt;/span&gt; &lt;span class=&#34;string&#34;&gt;&amp;quot;&lt;span class=&#34;subst&#34;&gt;\(&lt;span class=&#34;keyword&#34;&gt;self&lt;/span&gt;.name)&lt;/span&gt;, on &lt;span class=&#34;subst&#34;&gt;\(&lt;span class=&#34;keyword&#34;&gt;self&lt;/span&gt;.date)&lt;/span&gt;&amp;quot;&lt;/span&gt;    &lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;    &amp;#125;        &lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&amp;#125;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;/p&gt;
&lt;p&gt;çœ‹ä¸Šé¢ä»£ç ï¼Œå› ä¸º log å‡½æ•°çš„å‚æ•°éœ€è¦è¾“å‡ºå­—ç¬¦ä¸²ï¼Œæ‰€ä»¥åœ¨è¾“å‡ºå‰è¦å…ˆåˆ¤æ–­è¿™ä¸ª value æ˜¯å¦éµå¾ª CustomLoggable åè®®ï¼ŒSwift æ˜¯é™æ€è¯­è¨€ï¼Œæ‰€ä»¥ä¸€èˆ¬æ¥è¯´è¿™æ ·çš„æ£€æŸ¥éƒ½æ˜¯å‘ç”Ÿåœ¨ç¼–è¯‘æ—¶æœŸã€‚ä½†æ˜¯ç¼–è¯‘å™¨ä¸ä¸€å®šèƒ½æ‹¿åˆ°è¶³å¤Ÿçš„åè®®å…ƒæ•°æ®ä¿¡æ¯æ¥å®Œæˆæ£€æŸ¥ã€‚æ¯”å¦‚è¿™é‡Œå¹¶ä¸çŸ¥é“æ¯æ¬¡ä¼ å…¥çš„ Any ç±»å‹æ˜¯å“ªä¸ªç¡®å®šç±»å‹ï¼Œä¹Ÿå°±æ— æ³•ç¡®å®šæ˜¯å¦éµå¾ª  &lt;code&gt;CustomLoggable&lt;/code&gt;  åè®®ã€‚æ‰€ä»¥è¿™ç§æ£€æŸ¥å¸¸å¸¸å‘ç”Ÿè¿è¡Œæ—¶ï¼Œç³»ç»Ÿå€ŸåŠ©è®¡ç®—å¥½çš„åè®®æ£€æŸ¥å…ƒæ•°æ® (protocol check metadata)ï¼Œè¿è¡Œåº“çŸ¥é“è¿™ä¸ªç‰¹æ®Šå¯¹è±¡æ˜¯å¦ç¬¦åˆåè®®ã€‚&lt;/p&gt;
&lt;p&gt;è¿™äº›å…ƒæ•°æ®çš„æ„å»ºè™½ç„¶å¤§éƒ¨åˆ†åœ¨ç¼–è¯‘æœŸé—´ï¼Œä½†æ˜¯è¿˜æ˜¯æœ‰ä¸€éƒ¨åˆ†æ˜¯è¦åœ¨è¿è¡Œæ—¶å®Œæˆï¼Œæ¯”å¦‚ä¸Šé¢çš„ä¾‹å­ï¼Œè€Œä¸”ä¸€ä¸ªé¡¹ç›®ä¸­è‚¯å®šä¸æ­¢æœ‰ä¸€ä¸ªåè®®ï¼Œæ‰€ä»¥éšç€åè®®è¶Šå¤šè¿è¡Œæ—¶çš„æ•ˆç‡å°±è¶Šä½ï¼Œå¯¹äºç”¨æˆ·æ¥è¯´è¿™ä¸ªæ—¶é—´å¤§éƒ¨åˆ†æ˜¯å¯åŠ¨æ—¶é—´ï¼Œæ‰€ä»¥ç”¨æˆ·æ„ŸçŸ¥ä¸ºå¯åŠ¨æ—¶é—´å˜é•¿ã€‚è€Œ Xcode14 æ–°æ¨çš„çš„ Swift Runtime è§£å†³äº†è¿™ä¸ªé—®é¢˜ï¼Œåªè¦ä½ æ˜¯ç”¨ Xcode14 ç¼–è¯‘ä¸”è¿è¡Œåœ¨ iOS16 åŠä»¥ä¸Šç‰ˆå³å¯ã€‚&lt;/p&gt;
&lt;p&gt;æŒ‰ç…§è‹¹æœçš„è¯´æ³•ï¼Œä»–ä»¬ä¼šæŠŠ &lt;code&gt;æ˜¯å¦éµå¾ªåè®®&lt;/code&gt; çš„è¿™ä¸ªåˆ¤æ–­å‰ç½®åˆ° build æ—¶æœŸï¼Œä¹Ÿå°±æ˜¯æŠŠ &lt;code&gt;åè®®å…ƒæ•°æ®è®¡ç®—&lt;/code&gt; çš„æ­¥éª¤å‰ç½®åˆ° build ä¸­ï¼Œå…·ä½“å°±æ˜¯ä»–æŠŠè¿™äº›æ“ä½œæ”¾åœ¨ App å¯æ‰§è¡Œæ–‡ä»¶å’Œå¯åŠ¨æ—¶ä»»ä½•åŠ¨æ€åº“çš„ dyld é—­åŒ…çš„ä¸€éƒ¨åˆ†&lt;/p&gt;
&lt;p&gt;ä¸ºä»€ä¹ˆè¿™æ ·åšå¯ä»¥èŠ‚çœå¯åŠ¨æ—¶é—´ï¼Œéœ€è¦å…ˆäº†è§£ä¸‹ app å¯åŠ¨æµç¨‹ï¼Œéœ€è¦ä¸€ä¸ªçŸ¥è¯†èƒŒæ™¯ &lt;code&gt;ä»iOS11å¼€å§‹dyld3è¢«åŠ å…¥ï¼ŒiOS13ç¬¬ä¸‰æ–¹åº“ä¹Ÿå¼€å§‹ä½¿ç”¨dyld3åŠ è½½ã€‚&lt;/code&gt; æ‰€ä»¥æˆ‘ä»¬è¦çœ‹ä¸‹ dyld3 çš„åŠ è½½æµç¨‹&lt;/p&gt;
&lt;p&gt;&lt;img data-src=&#34;https://upload-images.jianshu.io/upload_images/2438680-b5edfa4c2bcdb205.jpg?imageMogr2/auto-orient/strip%7CimageView2/2/w/1044/format/webp&#34; alt=&#34;img&#34; /&gt;&lt;/p&gt;
&lt;p&gt;&lt;em&gt;dyld 3&lt;/em&gt; ä¸»è¦åŒ…å«äº†ä¸¤ä¸ªè¿‡ç¨‹ è¿›ç¨‹å¤–ï¼ˆå¯åŠ¨å‰ï¼‰å’Œè¿›ç¨‹å†…ï¼ˆå¯åŠ¨åï¼‰ï¼Œæˆ‘ä»¬æ¥çœ‹å¯åŠ¨å‰åšäº†é‚£äº›äº‹æƒ…&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;è¿›ç¨‹å¤– &lt;em&gt;Mach-O&lt;/em&gt; åˆ†æå™¨å’Œç¼–è¯‘å™¨ ï¼ˆ&lt;em&gt;out-of-process mach-o parser&lt;/em&gt;ï¼‰&lt;br /&gt;
&lt;em&gt;dyld 3&lt;/em&gt; ä¸­å°†é‡‡ç”¨æå‰å†™å…¥æŠŠç»“æœæ•°æ®ç¼“å­˜æˆæ–‡ä»¶çš„æ–¹å¼æ„æˆä¸€ä¸ª &lt;em&gt;lauch closure&lt;/em&gt;ï¼ˆå¯ä»¥ç†è§£ä¸ºç¼“å­˜æ–‡ä»¶ï¼‰&lt;/li&gt;
&lt;li&gt;åˆ†æä¾èµ–åº“&lt;/li&gt;
&lt;li&gt;æ‰§è¡Œç¬¦å·æŸ¥æ‰¾&lt;/li&gt;
&lt;li&gt;&lt;em&gt;Write closure&lt;/em&gt; ç¼“å­˜æœåŠ¡ (&lt;em&gt;launch closure cache&lt;/em&gt; )&lt;br /&gt;
 ç³»ç»Ÿç¨‹åºçš„ &lt;em&gt;closure&lt;/em&gt; ç›´æ¥å†…ç½®åœ¨ &lt;em&gt;shared cache&lt;/em&gt; ä¸­ï¼Œè€Œå¯¹äºç¬¬ä¸‰æ–¹ APPï¼Œå°†åœ¨ APP å®‰è£…æˆ–æ›´æ–°æ—¶ç”Ÿæˆï¼Œè¿™æ ·å°±èƒ½ä¿è¯ &lt;em&gt;closure&lt;/em&gt; æ€»æ˜¯åœ¨ APP æ‰“å¼€ä¹‹å‰å‡†å¤‡å¥½ã€‚è¯´ç™½äº†å°±æ˜¯æŠŠä¸Šé¢åšçš„ç»“æœå…¨éƒ½ç¼“å­˜èµ·æ¥&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;ç»¼ä¸Šçœ‹æ¥ä»¥å‰éœ€è¦åœ¨ in-process ä¸­åšçš„äº‹æƒ…ï¼Œç°åœ¨åœ¨ out-of-process å°±å¯ä»¥å®Œæˆï¼Œå¯åŠ¨æ—¶æˆ–è€…è¿è¡Œæ—¶ç›´æ¥è¯»å–ç¼“å­˜æ•°æ®å³å¯ï¼ŒåŠ å¿«äº†å¯åŠ¨é€Ÿåº¦å’Œè¿è¡Œæ—¶çš„æ€§èƒ½ã€‚å…¶å®åœ¨ç¬”è€…çœ‹æ¥å½“æˆ‘ä»¬ä¸‹è½½æˆ–è€…æ›´æ–° App çš„æ—¶å€™ App ä¸Šçš„è¿›åº¦æ¡å…¶å®æ˜¯åˆ†ä¸¤éƒ¨åˆ† &lt;code&gt;æ­£åœ¨ä¸‹è½½&lt;/code&gt; å’Œ &lt;code&gt;æ­£åœ¨å®‰è£…&lt;/code&gt; ï¼Œæ­¤æ¬¡çš„ä¼˜åŒ–å¯èƒ½ç•¥å¾®æé«˜å®‰è£…çš„æ—¶é•¿æ¥é™ä½å¯åŠ¨é€Ÿåº¦ï¼Œæé«˜è¿è¡Œæ—¶æ€§èƒ½ã€‚&lt;/p&gt;
&lt;p&gt;&lt;code&gt;on apps that rely heavily in Swift, this could add up to half the launch time&lt;/code&gt;  å¦‚æœæœ‰æ¡ä»¶çš„åŒå­¦å¯ä»¥è¯•ä¸‹æ˜¯å¦å¯ä»¥æé«˜è¿™ä¹ˆå¤šçš„å¯åŠ¨è€—æ—¶ã€‚&lt;/p&gt;
&lt;h2 id=&#34;æ¶ˆæ¯å‘é€ä¼˜åŒ–message-send&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#æ¶ˆæ¯å‘é€ä¼˜åŒ–message-send&#34;&gt;#&lt;/a&gt; æ¶ˆæ¯å‘é€ä¼˜åŒ–ï¼ˆMessage sendï¼‰&lt;/h2&gt;
&lt;p&gt;ç›´æ¥æŠ›ç»“æœï¼Œè‹¹æœè¿™è¾¹ç»™åˆ°çš„æ•°æ®æ˜¯ä½¿ç”¨ Xcode14 ç¼–è¯‘æ‰“åŒ…çš„æ•°æ®å¯ä»¥è®© ARM64 ä¸Šå‘é€æ¶ˆæ¯æ¶ˆè€—ä» 12 å­—èŠ‚é™ä½åˆ° 8 å­—èŠ‚ï¼ŒäºŒè¿›åˆ¶å¤§å°ä¹Ÿæœ‰ 2% çš„é™ä½ï¼Œä¹Ÿå°±æ˜¯è‹¹æœå¯¹åŒ…å¤§å°å’Œæ€§èƒ½éƒ½åšäº†ä¼˜åŒ–ï¼Œé»˜è®¤æ˜¯åŒæ—¶å¼€å¯çš„ï¼Œç”±è‹¹æœæ¥å¹³è¡¡ä¸¤è€…çš„å…³ç³»ï¼Œå½“ç„¶ä¹Ÿå¯ä»¥ä½¿ç”¨ &lt;code&gt;objc_stubs_small&lt;/code&gt;  æ¥ä»…ä»…ä¼˜åŒ–åŒ…å¤§å°ã€‚&lt;/p&gt;
&lt;p&gt;&lt;img data-src=&#34;https://cdn.cdnjson.com/tva1.sinaimg.cn/large/e6c9d24egy1h5grqpljrej215t0u0aax.jpg&#34; alt=&#34;image-20220823161510950&#34; /&gt;&lt;/p&gt;
&lt;p&gt;ä¸‹é¢æˆ‘ä»¬çœ‹ä¸‹æ˜¯æ€ä¹ˆä¼˜åŒ–çš„ï¼ŒåŒæ ·ä½¿ç”¨å®˜æ–¹ä»£ç ä¸¾ä¾‹&lt;/p&gt;
&lt;p&gt;&lt;figure class=&#34;highlight plaintext&#34;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&#34;gutter&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;8&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;9&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;10&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;11&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;12&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;13&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;14&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&#34;code&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;// å£°æ˜ä¸€ä¸ªæ—¥å†å¯¹è±¡&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;NScalendar *cal = [self makeCalendar];&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;// å£°æ˜ä¸€ä¸ªæ—¥æœŸå¯¹è±¡å¹¶èµ‹å€¼&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;NSDateComponents *dateComponents = [[NSDateComponents alloc] init];&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;dateComponents.year = 2022;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;dateComponents.month = 2022;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;dateComponents.day = 2022;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;S&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;// æŠŠæ—¥æœŸè½¬æ¢ä¸ºdate&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;NSDate *theDate = [cal dateFromComponents: dateComponents];&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;// è¿”å›date&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;return theDate;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;/p&gt;
&lt;p&gt;å¤§å®¶çŸ¥é“ OC è°ƒç”¨æ–¹æ³•æœ€ç»ˆä¼šèµ°åˆ° &lt;code&gt;_objc_msgSend&lt;/code&gt; ï¼Œæ‰€ä»¥ä¸Šé¢ä»£ç ä¸ç®—æœ€ç»ˆçš„ returnï¼Œä¼šèµ° 7 ä¸ª  &lt;code&gt;_objc_msgSend&lt;/code&gt; ï¼Œå…¶ä¸­æ¯ä¸€ä¸ªéƒ½éœ€è¦ä¸€æ¡æŒ‡ä»¤æ¥è°ƒç”¨å°±æ˜¯ bl å¦‚ä¸‹å›¾&lt;/p&gt;
&lt;p&gt;&lt;img data-src=&#34;https://cdn.cdnjson.com/tva1.sinaimg.cn/large/e6c9d24egy1h5gsa0ef9kj20n00gidgx.jpg&#34; alt=&#34;image-20220823163343886&#34; /&gt;&lt;/p&gt;
&lt;p&gt;è¯¥å‡½æ•°å®šä¹‰ä¸º &lt;code&gt;Id objc_msgSend(id self, SEL _cmd, ...) &lt;/code&gt; ï¼Œå‚æ•°å®šä¹‰ä¸º self æ˜¯å‡½æ•°çš„è°ƒç”¨æ–¹ï¼ŒSEL ä¸ºå…·ä½“è°ƒç”¨å“ªä¸ªå‡½æ•°ï¼Œå…·ä½“çš„æ–¹æ³•æŸ¥æ‰¾æµç¨‹å°±ä¸åœ¨è¿™é‡Œèµ˜è¿°ã€‚&lt;/p&gt;
&lt;p&gt;æˆ‘ä»¬æ‹¿å…¶ä¸­å…·ä½“çš„ä¸€ä¸ªå‡½æ•°è°ƒç”¨æ¥åˆ†æ&lt;/p&gt;
&lt;p&gt;&lt;figure class=&#34;highlight plaintext&#34;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&#34;gutter&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;1&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&#34;code&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;NSDate *theDate = [cal dateFromComponents: dateComponents]; &lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;/p&gt;
&lt;p&gt;æ¯”å¦‚è¿™ä¸ªå‡½æ•°è°ƒç”¨ï¼Œè½¬åŒ–ä¸º mesagesend çš„æ—¶å€™å°±å˜æˆè¿™æ ·&lt;/p&gt;
&lt;p&gt;&lt;figure class=&#34;highlight c&#34;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&#34;gutter&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;1&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&#34;code&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;objc_msgSend(cal, @selector(dateFromComponents))&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;/p&gt;
&lt;p&gt;ä¸ºäº†å‘Šè¯‰è¿è¡Œæ—¶è°ƒç”¨å“ªä¸ªæ–¹æ³•ï¼Œæˆ‘ä»¬å¿…é¡»ä¼ é€’ä¸€ä¸ª Selector ç»™è¿™äº› objc_msgSend è°ƒç”¨ï¼Œå°±å¦‚ä¸Šå›¾çš„ &lt;code&gt;@selector(dateFromComponents)&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;æˆ‘ä»¬å†æ¥çœ‹ &lt;code&gt;Id objc_msgSend(id self, SEL _cmd, ...)&lt;/code&gt;  æ‰§è¡Œåä»–æ˜¯æ€ä¹ˆæ‰§è¡Œæ±‡ç¼–æŒ‡ä»¤çš„ã€‚&lt;/p&gt;
&lt;p&gt;&lt;figure class=&#34;highlight plaintext&#34;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&#34;gutter&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;8&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&#34;code&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;// ä½¿ç”¨adrpæ‰¾åˆ°è¯¥æ–¹æ³•çš„åœ°å€   æ¶ˆè€—4å­—èŠ‚&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;adrp x1, [selector &amp;quot;dateFromComponents&amp;quot;]  &lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;// å°† åœ°å€åŠ è½½åˆ°X1å¯„å­˜å™¨ä¸­  æ¶ˆè€—4å­—èŠ‚&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;ldr  x1, [x1, selector &amp;quot;dateFromComponents&amp;quot;] &lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;// æ‰§è¡ŒblæŒ‡ä»¤è·³è½¬åˆ°è¯¥æ–¹æ³•å¹¶æ‰§è¡Œ  æ¶ˆè€—4å­—èŠ‚&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;bl _objc_msgSend&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;/p&gt;
&lt;p&gt;ä»ä¸Šé¢çš„ä»£ç çœ‹å‡ºæ¯æ¬¡æ‰§è¡Œæ–¹æ³•è°ƒç”¨éƒ½ä¼š èµ°ä»¥ä¸Šä¸‰ä¸ªæ­¥éª¤ï¼Œæ¯ä¸ªæ­¥éª¤æ¶ˆè€— 4 å­—èŠ‚ ä¸€å…±æ¶ˆè€— 12 å­—èŠ‚ï¼Œè€Œå‰ä¸¤æ­¥æ˜¯å‡†å¤‡ selectorï¼Œä»»ä½•ä¸€æ¬¡æ–¹æ³•è°ƒç”¨éƒ½ä¼šæ‰§è¡Œä»–ï¼Œç›®å‰çš„ç­–ç•¥æ˜¯æ¯è°ƒä¸€ä¸ªæ–¹æ³•éƒ½ä¼šç”Ÿæˆä¸Šé¢ä¸‰æ­¥ï¼Œé‚£ä¹ˆæ­¤æ—¶ä¼˜åŒ–ç©ºé—´å°±æ¥äº†ã€‚&lt;/p&gt;
&lt;p&gt;å› ä¸ºè¿™é‡Œå­˜åœ¨ç›¸åŒçš„ä»£ç ï¼ˆå‰ä¸¤æ­¥ï¼‰ï¼Œ &lt;code&gt;æˆ‘ä»¬å¯ä»¥è€ƒè™‘å…±äº«å®ƒï¼Œå¹¶ä¸”åªåœ¨æ¯ä¸ª selector ä¸­è§¦å‘å®ƒä¸€æ¬¡ï¼Œè€Œä¸æ˜¯æ¯æ¬¡å‘é€æ¶ˆæ¯æ—¶éƒ½ç”Ÿæˆè¿™æ®µæŒ‡ä»¤ä»£ç &lt;/code&gt; ã€‚æ‰€ä»¥æˆ‘ä»¬å¯ä»¥æŠŠè¿™éƒ¨åˆ†ç›¸åŒä»£ç æå–å‡ºæ¥ï¼Œæ”¾åˆ°ä¸€ä¸ªå°åŠ©æ‰‹å‡½æ•°ä¸­ (helper function), å¹¶è°ƒç”¨è¯¥å‡½æ•°ã€‚é€šè¿‡ä½¿ç”¨åŒä¸€ selector è¿›è¡Œå¤šæ¬¡è°ƒç”¨ (é€šè¿‡ä¼ é€’å‚æ•°ä¸åŒï¼Œå†…éƒ¨æŒ‡ä»¤æ˜¯ç›¸åŒçš„ï¼Œç°åœ¨å°è£…æˆä¸€ä¸ªå­˜æ ¹å‡½æ•°ï¼Œä»¥å‰æ˜¯æ•£è½åœ¨å„ä¸ª _objc_msgSend è°ƒç”¨å¤„)ï¼Œæˆ‘ä»¬å¯ä»¥ä¿å­˜æ‰€æœ‰è¿™äº›æŒ‡ä»¤å­—èŠ‚ã€‚æ‰€ä»¥å¯ä»¥ç†è§£ä¸º &lt;code&gt;æŠŠå‰ä¸¤æ­¥å°è£…ä¸€ä¸‹&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;&lt;img data-src=&#34;https://cdn.cdnjson.com/tva1.sinaimg.cn/large/e6c9d24egy1h5gvtbfnh1j20n00git9h.jpg&#34; alt=&#34;image-20220823183604633&#34; /&gt;&lt;/p&gt;
&lt;p&gt;æ‰€ä»¥åŸæ¥çš„è°ƒç”¨å°±å˜æˆäº†&lt;/p&gt;
&lt;p&gt;&lt;figure class=&#34;highlight plaintext&#34;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&#34;gutter&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;2&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&#34;code&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;bl _objc_msgSend$dateFromComponents 4å­—èŠ‚&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;bl _objc_msgSend    4å­—èŠ‚&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;/p&gt;
&lt;p&gt;è¿™ä¹Ÿå°±æ˜¯è‹¹æœè¯´çš„ä» 12 å­—èŠ‚ä¼˜åŒ–åˆ° 8 å­—èŠ‚ï¼Œå…¶ä¸­ &lt;code&gt;_objc_msgSend$dateFromComponents&lt;/code&gt;  ä¹Ÿè¢«ç§°ä¸º &lt;code&gt;selector stub å­˜æ ¹å‡½æ•°&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;åŒæ · &lt;code&gt;_objc_msgSend&lt;/code&gt;  æœ¬èº«ä¹Ÿæœ‰ä¸€ä¸ªå­˜æ ¹å‡½æ•°å†™æ³•&lt;/p&gt;
&lt;p&gt;&lt;img data-src=&#34;https://cdn.cdnjson.com/tva1.sinaimg.cn/large/e6c9d24egy1h5gw1kpzuzj20n00giwfd.jpg&#34; alt=&#34;image-20220823184401200&#34; /&gt;&lt;/p&gt;
&lt;p&gt;è¿™æ ·ä¸€æ¥æˆ‘ä»¬ç°åœ¨å°±æœ‰ä¸¤ä¸ªå­˜æ ¹å‡½æ•°&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;_objc_msgSend$dateFromComponents:&lt;/li&gt;
&lt;li&gt;_objc_msgSend:&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;è¿™ä¸¤ä¸ªå‡½æ•°å°è£…äº†ä¸€äº›é€šç”¨çš„ä¸œè¥¿ï¼Œå…±äº«äº†æœ€å¤šçš„ä»£ç ï¼Œä½¿ä»£ç å°½å¯èƒ½çš„å°ï¼Œä½†æ˜¯è¿™æ ·å¸¦æ¥çš„ä¸è¶³æ˜¯æˆ‘éœ€è¦è¿ç€ä¸¤ä¸ª bl è·³è½¬ï¼Œè¿™å¯¹æ“ä½œç³»ç»Ÿæ¥è¯´å¼€é”€è¾ƒå¤§ã€‚æ‰€ä»¥ä¸ºäº†å¹³è¡¡åŒ…ä½“ç§¯å’Œæ€§èƒ½ï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨ä¸‹é¢è¿™ç§æ–¹æ³•æ¥æå‡è¿™ä¸€ç‚¹ã€‚æˆ‘ä»¬å¯ä»¥æŠŠå‰é¢è°ƒç”¨çš„ä¸¤ä¸ªå­˜æ ¹å‡½æ•°å°è£…æˆä¸€ä¸ª (éƒ½å°è£…æˆ_objc_msgSend$dateFromComponents)ï¼Œè¿™æ ·ï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ä»£ç æ›´ç´§å‡‘ï¼Œä¸éœ€è¦é‚£ä¹ˆå¤šè°ƒç”¨ã€‚å¦‚ä¸‹å›¾è¿™æ ·&lt;/p&gt;
&lt;p&gt;&lt;img data-src=&#34;https://cdn.cdnjson.com/tva1.sinaimg.cn/large/e6c9d24egy1h5gwei63esj20bo07u74l.jpg&#34; alt=&#34;image-20220823185626349&#34; /&gt;&lt;/p&gt;
&lt;p&gt;è¿™å°±å›åˆ°äº†ä¹‹å‰çš„é—®é¢˜ï¼Œä½ å¯ä»¥é€šè¿‡ &lt;code&gt;_objc_stubs_small&lt;/code&gt;  æ ‡è®°äº†åªé™ä½åŒ…å¤§å°ï¼Œæˆ–è€…é‡‡ç”¨é»˜è®¤çš„æ–¹å¼è®©ç³»ç»Ÿè‡ªåŠ¨å¹³è¡¡ï¼Œä¸¤è€…çš„åŒºåˆ«åœ¨æ±‡ç¼–å±‚é¢å°±ä½“ç°åœ¨å¦‚ä¸‹å›¾&lt;/p&gt;
&lt;p&gt;&lt;img data-src=&#34;https://cdn.cdnjson.com/tva1.sinaimg.cn/large/e6c9d24egy1h5gwg7hnugj20n00gidhc.jpg&#34; alt=&#34;image-20220823185804687&#34; /&gt;&lt;/p&gt;
&lt;p&gt;ç»¼ä¸Šï¼šè¿™å°±æ˜¯ Meesage send å ç”¨ä» 12 bytes é™ä½åˆ° 8 bytes å’ŒäºŒè¿›åˆ¶å¤§å°ä¸‹é™ 12% çš„åŸå› &lt;/p&gt;
&lt;h2 id=&#34;retain-and-release&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#retain-and-release&#34;&gt;#&lt;/a&gt; Retain and release&lt;/h2&gt;
&lt;p&gt;è¿™ä¸ªä¼˜åŒ–æ˜¯è‹¹æœè¿™è¾¹ä½¿ Retain and release çš„å¼€é”€æ›´å°ï¼Œè‹¹æœçš„è¯´æ³•æ˜¯ Retain and release çš„è°ƒç”¨å¼€é”€ä» 8 å­—èŠ‚é™ä½åˆ° 4 å­—èŠ‚ï¼ŒåŒæ—¶åŒ…ä½“ç§¯ä¹Ÿä¼šæœ‰ 2% çš„ä¼˜åŒ–&lt;/p&gt;
&lt;p&gt;&lt;img data-src=&#34;https://cdn.cdnjson.com/tva1.sinaimg.cn/large/e6c9d24egy1h5gwkqxaenj20n00gidg9.jpg&#34; alt=&#34;image-20220823190226429&#34; /&gt;&lt;/p&gt;
&lt;p&gt;æˆ‘ä»¬çŸ¥é“ ARC ç›¸æ¯”äº MRC æ˜¯å¼€å‘è€…ä¸éœ€è¦å†å†™ retainã€release è¿™äº›ä»£ç ï¼Œå…¶å®å¹¶ä¸æ˜¯ä¸éœ€è¦ï¼Œè€Œæ˜¯ç¼–è¯‘å™¨å¸®æˆ‘ä»¬è‡ªåŠ¨åœ¨éœ€è¦çš„ä½ç½®æ’å…¥äº†è¿™äº›ä»£ç ï¼Œæ‰€ä»¥æ¢å¥è¯è¯´ä»–ä»¬è¿˜æ˜¯å­˜åœ¨çš„ï¼Œåªæ˜¯ä½ çœ‹ä¸åˆ°ä¹Ÿä¸ç”¨åœ¨å…³å¿ƒä»–ä»¬ã€‚&lt;/p&gt;
&lt;p&gt;è¿˜æ˜¯æ‹¿ä¹‹å‰çš„ä¾‹å­æ¥è¯´&lt;/p&gt;
&lt;p&gt;&lt;figure class=&#34;highlight plaintext&#34;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&#34;gutter&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;8&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;9&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;10&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;11&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;12&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;13&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&#34;code&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;// Retain/release calls inserted by ARC&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;NScalendar *cal = [self makeCalendar]; // bl    _objc_retain&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;NSDateComponents *dateComponents = [[NSDateComponents alloc] init]; // bl    _objc_retain&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;dateComponents.year = 2022; &lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;dateComponents.month = 2022;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;dateComponents.day = 2022;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;NSDate *theDate = [cal dateFromComponents: dateComponents]; // bl    _objc_retain&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;return theDate;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;// bl    _objc_release &lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;// bl    _objc_release &lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;// bl    _objc_release &lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;/p&gt;
&lt;p&gt;åœ¨å˜é‡åˆ›å»ºçš„æ—¶å€™æˆ‘ä»¬ä½¿ç”¨ retain æ¥å¢åŠ çš„ä»–çš„å¼•ç”¨è®¡æ•°ä¸è¢«é”€æ¯ï¼Œåœ¨æ–¹æ³•ç»“æŸåæˆ‘ä»¬ä½¿ç”¨ release æ¥é”€æ¯ä¸éœ€è¦çš„å˜é‡ï¼Œè¿™ä¹Ÿæ˜¯ iOS çš„å†…å­˜ç®¡ç†æœºåˆ¶ã€‚åœ¨ ARC ä¸‹è¿™äº›éƒ½æ˜¯ç¼–è¯‘å™¨æˆ‘ä»¬æ’å…¥çš„ä»£ç ï¼Œæˆ‘ä»¬æ— éœ€å…³å¿ƒã€‚&lt;/p&gt;
&lt;p&gt;retain å’Œ release éƒ½æ˜¯ C è¯­è¨€çš„å‡½æ•°ï¼Œä»–ä»¬æºå¸¦ä¸€ä¸ªå‚æ•°å°±æ˜¯è¢«æ“ä½œçš„å¯¹è±¡ï¼ŒåŒæ—¶ä»–éµå¾ª C è¯­è¨€çš„ ABIï¼Œæ‰€ä»¥å½“ä½ è°ƒç”¨è¿™äº›æ–¹æ³•çš„æ—¶å€™ç³»ç»Ÿè¿˜ä¼šä¸ºä½ åšä¸€äº›é¢å¤–çš„äº‹æƒ…ï¼Œæ¯”å¦‚ä¸‹å›¾ä¸­çš„ mov æ“ä½œï¼Œè€Œè¿™äº›æ“æ­£æ˜¯æˆ‘ä»¬ä¼˜åŒ–çš„ç”¨æ­¦ä¹‹åœ°ï¼Œé€šè¿‡è‡ªå®šä¹‰è°ƒç”¨é‡æ–°çº¦å®š retain/release æ¥å£ï¼Œæˆ‘ä»¬å¯ä»¥æ ¹æ®å¯¹è±¡æŒ‡é’ˆçš„ä½ç½®ï¼Œé€‚å½“çš„ä½¿ç”¨æ­£ç¡®çš„å˜é‡ï¼Œè¿™æ ·å°±å¯ä»¥ä¸ç”¨ç§»åŠ¨å®ƒã€‚ç®€å•çš„è¯´ï¼Œ &lt;code&gt;å°±æ˜¯ä¿®æ”¹äº†åº•å±‚ ABI&lt;/code&gt; ã€‚&lt;/p&gt;
&lt;p&gt;&lt;img data-src=&#34;https://cdn.cdnjson.com/tva1.sinaimg.cn/large/e6c9d24egy1h5gwylzjkuj20n00giab1.jpg&#34; alt=&#34;image-20220823191546398&#34; /&gt;&lt;/p&gt;
&lt;p&gt;æˆ‘ä»¬æ˜¯æ€ä¹ˆåšçš„ä¼˜åŒ–å‘¢ï¼Ÿçœ‹ä¸‹ä¹‹å‰çš„æµç¨‹ï¼Œæˆ‘ä»¬ç”¨ä¸‹é¢è¿™è¡Œä»£ç ä¸¾ä¾‹&lt;/p&gt;
&lt;p&gt;&lt;figure class=&#34;highlight c&#34;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&#34;gutter&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;3&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&#34;code&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;objc_release(dateComponents); &lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;comment&#34;&gt;// mov  x0, x20                    æ¶ˆè€—4 å­—èŠ‚                                                                                                                                                           &lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;comment&#34;&gt;// bl    _objc_release         æ¶ˆè€—4å­—èŠ‚&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;/p&gt;
&lt;p&gt;æµç¨‹ä¸º&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;å…ˆæ‰§è¡Œ mov æŠŠå‰¯æœ¬åœ°å€ï¼ˆX20, ä¹Ÿå°±æ˜¯å¯¹è±¡çš„åœ°å€ï¼‰å­˜åˆ°å¯„å­˜å™¨ x0&lt;/li&gt;
&lt;li&gt;ç„¶å bl è·³è½¬åˆ° &lt;code&gt;_objc_release&lt;/code&gt;  å‡½æ•°è¿›è¡Œé‡Šæ”¾&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;æ ¹æ®ä¹‹å‰è®²çš„æ¯ä¸ªæŒ‡ä»¤æ¶ˆè€— 4 å­—èŠ‚ï¼Œæ‰€ä»¥è¿™é‡Œæ¶ˆè€— 8 å­—èŠ‚&lt;/p&gt;
&lt;p&gt;æˆ‘ä»¬ä¿®æ”¹ ABI ä¹‹åå…¶çœæ‰è°ƒç”¨ mov æŒ‡ä»¤ ç„¶ååŸæœ¬è·³è½¬åˆ°_objc_release å‡½æ•° æ”¹ä¸ºè·³è½¬åˆ° &lt;code&gt;_objc_release_x20&lt;/code&gt;  å‡½æ•°ï¼Œè€Œ mov çš„æŒ‡ä»¤æ”¾åˆ° C è¯­è¨€æ›´åº•å±‚çš„ ABI é‡Œé¢å»åšï¼Œä½ å¯ä»¥ç†è§£ä¸º &lt;code&gt;æˆ‘ä»¬å°è£…äº†ä¸€ä¸ªæ–°çš„retainã€releaseå‡½æ•°ï¼Œä½ åªè¦ä¼ å…¥ä¸€ä¸ªå¯„å­˜å™¨åœ°å€æˆ‘å°±å»æ›´åº•å±‚çš„åœ°æ–¹å®Œæˆmovæ“ä½œï¼Œæ‰€ä»¥æ•ˆç‡æ›´é«˜äº†&lt;/code&gt; ã€‚ç°åœ¨å› ä¸ºåªç”¨æ‰§è¡Œä¸€æ¡æŒ‡ä»¤ï¼Œæ‰€ä»¥å†…å­˜æ¶ˆè€—ä¸º 4 å­—èŠ‚ã€‚ç°åœ¨çš„æµç¨‹çœ‹èµ·æ¥ä¸º&lt;/p&gt;
&lt;p&gt;&lt;img data-src=&#34;https://cdn.cdnjson.com/tva1.sinaimg.cn/large/e6c9d24egy1h5gx83ebs8j20n00giab9.jpg&#34; alt=&#34;image-20220823192452605&#34; /&gt;&lt;/p&gt;
&lt;p&gt;è¿™ä¹ˆçœ‹æ¥æˆ‘ä»¬ä»£ç é‡Œå¤§é‡çš„ release å’Œ retain éƒ½ç»è¿‡è¿™æ ·çš„æ ·çš„ä¼˜åŒ–æ‰€ä»¥æ•´ä½“çš„äºŒè¿›åˆ¶åŒ…é™ä½ 2% åŒæ—¶è°ƒç”¨å†…å­˜æ¶ˆè€—æ¸¸ 8 å­—èŠ‚å˜ä¸º 4 å­—èŠ‚ï¼ŒåŒæ—¶ ABI æ¥å£ä¿®æ”¹ï¼Œå»é™¤å†—ä½™ mov æŒ‡ä»¤è°ƒç”¨ï¼Œä¸‹æ²‰åˆ° ABIã€‚ &lt;code&gt;ç”±äº ABI æ˜¯å†…åµŒç³»ç»Ÿ&lt;/code&gt; ï¼Œè¿™é‡Œæ–°å¢ mov æŒ‡ä»¤å ç”¨å¯ä»¥å¿½ç•¥ä¸è®¡ã€‚&lt;/p&gt;
&lt;p&gt;&lt;code&gt;Apple æœç„¶æ˜¯åšæŒç”¨æˆ·ä½“éªŒä¼˜å…ˆï¼Œä¸ºäº†æ›´å¥½ä½“éªŒä¸æƒœä¿®æ”¹ c çš„ ABI&lt;/code&gt;&lt;/p&gt;
&lt;h2 id=&#34;autorelease-elisionè‡ªåŠ¨é‡Šæ”¾çœç•¥ä¼˜åŒ–&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#autorelease-elisionè‡ªåŠ¨é‡Šæ”¾çœç•¥ä¼˜åŒ–&#34;&gt;#&lt;/a&gt; Autorelease elisionï¼ˆè‡ªåŠ¨é‡Šæ”¾çœç•¥ä¼˜åŒ–ï¼‰&lt;/h2&gt;
&lt;p&gt;iOS ä¸­é™¤äº†ä½¿ç”¨ release ä¹‹å¤–è¿˜æœ‰å¦ä¸€ä¸ª å°±æ˜¯ autorelease è‡ªåŠ¨é‡Šæ”¾æœºåˆ¶ï¼ŒåŒæ ·åœ¨è¿™ä¸ªåœ°æ–¹è‹¹æœä¹Ÿåšäº†è‡ªåŠ¨é‡Šæ”¾çœç•¥çš„ä¼˜åŒ–è®©è‡ªåŠ¨é‡Šæ”¾æœºåˆ¶æ•ˆç‡æ›´é«˜ã€‚æˆ‘ä»¬æ¥çœ‹ä¸‹é¢è¿™ä¸ªä¾‹å­&lt;/p&gt;
&lt;p&gt;&lt;figure class=&#34;highlight plaintext&#34;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&#34;gutter&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;8&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&#34;code&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;// Return Value Autoreleases &lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;theWWDCDate = [event getWWDCDate];&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;-(NSDate*)getWWDCDate &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;    ...&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;    return theDate;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&amp;#125;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;/p&gt;
&lt;p&gt;åˆ›å»ºä¸€ä¸ªä¸´æ—¶å¯¹è±¡ (theDate)ï¼Œå¹¶å°†å…¶è¿”å›ç»™è°ƒç”¨æ–¹ (event)ã€‚ &lt;code&gt;getWWDCDate()&lt;/code&gt;  æ–¹æ³•ä¸­è¿”å›ä¸´æ—¶çš„ theDateï¼Œç„¶åè°ƒç”¨å®Œæˆ (è¿”å› theDate ä¹‹åï¼ŒgetWWDCDate å°±è°ƒç”¨å®Œæˆ)ã€‚è¿™æ—¶è°ƒç”¨æ–¹ï¼ˆeventï¼‰å°†å…¶ä¿å­˜åˆ°è‡ªå·±çš„å˜é‡ä¸­ï¼ˆtheWWDCDate ä¸­ï¼‰ã€‚&lt;/p&gt;
&lt;p&gt;æ ¹æ®ç³»ç»Ÿæ’å…¥ retain å’Œ release çš„æœºåˆ¶æ¥è¯´åº”è¯¥æ˜¯è¿™æ ·çš„ï¼Œä½†æ˜¯æ˜æ˜¾ retain å¤„ä¸èƒ½è¿›è¡Œ releaseï¼Œå› ä¸ºæˆ‘éœ€è¦å§ theDate è¿”å›å›å»ï¼Œå¦‚æœè¿™é‡Œé‡Šæ”¾äº†æˆ‘å°±æ²¡åŠæ³•å‘¢è¿”å›äº†ã€‚&lt;/p&gt;
&lt;p&gt;&lt;img data-src=&#34;https://cdn.cdnjson.com/tva1.sinaimg.cn/large/e6c9d24egy1h5gy19928nj20n00gi3yz.jpg&#34; alt=&#34;image-20220823195254398&#34; /&gt;&lt;/p&gt;
&lt;p&gt;å› æ­¤ï¼Œä¸ºäº†è§£å†³ä¸Šè¿°é—®é¢˜ï¼Œéœ€è¦ä½¿ç”¨ä¸€ä¸ªç‰¹æ®Šçš„çº¦å®šç”¨æ¥è¿”å›è¿™ä¸ªä¸´æ—¶è¿”å›å€¼ã€‚è¿™å°±å¼•å…¥äº† Autoreleaseï¼Œè¿™æ ·è°ƒç”¨è€…èƒ½å¤Ÿ retain å®ƒã€‚autorelease åœ¨è¿™é‡Œä¿è¯åœ¨è°ƒç”¨æ–¹å¯ä»¥æ­£å¸¸è¿”å›è¯¥å€¼ï¼Œè€Œä¸è¢«æå‰é‡Šæ”¾ï¼Œå»¶é•¿é‡Šæ”¾ç”Ÿå‘½å‘¨æœŸã€‚ä½ ä¹‹å‰å¯èƒ½çœ‹åˆ°è¿‡ autorelease å’Œ autoreleasePoolsï¼šå…¶å®è¿™æ˜¯ä¸€ç§å°† release æ“ä½œæ¨è¿Ÿåˆ°ç¨åæŸä¸ªæ—¶é—´çš„æ–¹æ³•ã€‚æ‰€ä»¥ä¸Šé¢çš„ä»£ç æ”¹ä¸º Autorelease&lt;/p&gt;
&lt;p&gt;&lt;figure class=&#34;highlight plaintext&#34;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&#34;gutter&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;8&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&#34;code&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;// Return Value Autoreleases &lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;theWWDCDate = [[event getWWDCDate] retain];&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;-(NSDate*)getWWDCDate &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;    ...&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;    return [theDate autorelease]; &lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&amp;#125;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;/p&gt;
&lt;p&gt;ç³»ç»Ÿå¹¶ä¸çŸ¥é“ä»–åœ¨ä»€ä¹ˆæ—¶å€™ä¼šè¢«é‡Šæ”¾ï¼Œåæ­£åªè¦ä¸åœ¨ retain çš„æ—¶å€™é‡Šæ”¾å°±è¡Œï¼Œæ‰€ä»¥æˆ‘åœ¨ retain çš„æ—¶å€™å…ˆæ‰“ä¸ªæ ‡è®°ï¼Œæ ‡è®°ä»–ä¹‹åå¯èƒ½ä¼šè¢«é‡Šæ”¾ã€‚ä½†æ˜¯è¿™æ ·çš„æ“ä½œç›®å‰ä¼šå¸¦æ¥ä¸€äº›å¼€é”€ï¼Œå…¶å®å°±æ˜¯ &lt;code&gt;æˆ‘è™½ç„¶æ‰“äº†releaseæ ‡è®°ï¼Œä½†æ˜¯æˆ‘æ˜æ˜ä¸€ä¼šè¿˜è¦retainï¼Œæ²¡å¿…è¦å¤šæ­¤ä¸€ä¸¾&lt;/code&gt; ï¼Œæ‰€ä»¥åŸºäºæ­¤æˆ‘ä»¬ä¹‹å‰å¼•å…¥äº† &lt;code&gt;Autorelease elision&lt;/code&gt;  æ¥å‡å°‘è¿™éƒ¨åˆ†å¼€é”€ï¼ˆ &lt;code&gt;å¦‚æœAutoreleaseåç´§æ¥ä¸€ä¸ªretainæˆ‘å°±éƒ½ä¸åšäº†&lt;/code&gt; ï¼‰ã€‚æˆ‘ä»¬å…ˆä»æ±‡ç¼–å±‚é¢çœ‹ä¸‹ Autorelease elision åšäº†ä»€ä¹ˆ&lt;/p&gt;
&lt;p&gt;&lt;img data-src=&#34;https://cdn.cdnjson.com/tva1.sinaimg.cn/large/e6c9d24egy1h5gy8n9wnzj20n00giwf7.jpg&#34; alt=&#34;image-20220823195959365&#34; /&gt;&lt;/p&gt;
&lt;p&gt;æç‚¼å‡ºä»¥ä¸‹ä»£ç &lt;/p&gt;
&lt;p&gt;&lt;figure class=&#34;highlight c&#34;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&#34;gutter&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;6&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&#34;code&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;comment&#34;&gt;// What the compiler emits&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt; bl    _getWWDCDate &lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt; mov   x29, x29&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt; bl    _objc_retainAutoreleasedReturnValue&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt; b    _objc_autoreleaseReturnValue   &lt;span class=&#34;comment&#34;&gt;// autorelease -&amp;gt; runtime -&amp;gt; _objc_autoreleaseReturnValue&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;/p&gt;
&lt;p&gt;å…¶å®å°±æ˜¯ä»¥ä¸‹æ­¥éª¤&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;å½“æˆ‘ä»¬è¿”å›å€¼è°ƒç”¨ Autorelease æ—¶å€™ç³»ç»Ÿä¼šè°ƒç”¨ &lt;code&gt;_objc_autoreleaseReturnValue&lt;/code&gt;  æ¥è¿”å›ä¸€ä¸ª &lt;code&gt;autoreleased value&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;æ‰§è¡Œ Autorelease åç¼–è¯‘å™¨ä¼šæ·»åŠ ä¸ªæ ‡è®° &lt;code&gt;mov x29, x29&lt;/code&gt;   è€Œè¿™å¥æŒ‡ä»¤åœ¨å®é™…è¿è¡Œä¸­è¿™ä¸ªæŒ‡ä»¤ä¼šå˜ä¸ºäºŒè¿›åˆ¶çš„å½¢å¼å˜ä¸º &lt;code&gt;0xAA1D03FD&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;åç»­çš„æ“ä½œå°±è¿è¡Œæ—¶ä¼šå…ˆåˆ¤æ–­æ˜¯å¦æœ‰å¯¹åº”çš„æ ‡è®° &lt;code&gt;0xAA1D03FD&lt;/code&gt; ï¼Œå¦‚æœæœ‰ï¼Œè¿™æ„å‘³ç€ç¼–è¯‘å™¨å‘Šè¯‰ runtime, æˆ‘ä»¬å°†è¿”å›ä¸€ä¸ªå·²ç»è¢«æ ‡è®°ï¼Œä½†æ˜¯å°†ç«‹å³è¢«æŒæœ‰ï¼ˆretainï¼‰ çš„ä¸´æ—¶å˜é‡ï¼Œåé¢å°±ä¸éœ€è¦å† retain æ“ä½œäº†&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;img data-src=&#34;https://cdn.cdnjson.com/tva1.sinaimg.cn/large/e6c9d24egy1h5h056kleej20n00gigm5.jpg&#34; alt=&#34;image-20220823210550374&#34; /&gt;&lt;/p&gt;
&lt;p&gt;&lt;figure class=&#34;highlight plaintext&#34;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&#34;gutter&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;8&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;9&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;10&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;11&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&#34;code&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;static ALWAYS_INLINE bool &lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;callerAcceptsOptimizedReturn(const void *ra)&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;    // fd 03 1d aa    mov fp, fp&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;    // arm64 instructions are well-aligned&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;    if (*(uint32_t *)ra == 0xaa1d03fd) &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;        return true;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;        // è¿”å›true éœ€è¦ä¼˜åŒ– æŠŠreleaseã€rentainåˆ æ‰&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;    &amp;#125;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;    return false;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&amp;#125;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;/p&gt;
&lt;p&gt;è¯´ç™½äº†å°±æ˜¯åœ¨è¿”å›å€¼èº«ä¸Šè°ƒç”¨ &lt;code&gt;objc_autoreleaseReturnValue&lt;/code&gt;  æ–¹æ³•æ—¶ï¼Œruntime å°†è¿™ä¸ªè¿”å›å€¼ object æ ‡è®°ï¼ˆå‚¨å­˜åœ¨ TLS ä¸­ï¼‰ï¼Œç„¶åç›´æ¥è¿”å›è¿™ä¸ª objectï¼ˆä¸è°ƒç”¨ autoreleaseï¼‰ï¼›åŒæ—¶ï¼Œåœ¨å¤–éƒ¨æ¥æ”¶è¿™ä¸ªè¿”å›å€¼çš„ &lt;code&gt;objc_retainAutoreleasedReturnValue&lt;/code&gt;  é‡Œï¼Œå‘ç°æœ‰ä¹‹å‰çš„æ ‡è®°ï¼ˆTLS ä¸­æ­£å¥½å­˜äº†è¿™ä¸ªå¯¹è±¡ï¼‰ï¼Œé‚£ä¹ˆç›´æ¥è¿”å›è¿™ä¸ª objectï¼ˆæ¸…æ¥šä¹‹å‰çš„æ ‡è®°ä¸”ä¸å†è°ƒç”¨ retainï¼‰ã€‚&lt;/p&gt;
&lt;p&gt;æ³¨æ„ï¼šTLS ç›¸å…³çš„å«ä¹‰å¯ä»¥å‚è€ƒ [è¿™é‡Œ](&lt;span class=&#34;exturl&#34; data-url=&#34;aHR0cDovL3NlYW5jaGVuc2UuZ2l0aHViLmlvLzIwMTgvMDkvMjAvZWFybGdyZXktc291cmNlLWNvZGUtcmVhZC0xLyNUTFM=&#34;&gt;EarlGrey æºç é˜…è¯»ï¼ˆä¸€ï¼‰ | SeanChense&lt;/span&gt;)&lt;/p&gt;
&lt;p&gt;ä½†æ˜¯è¿™é‡Œæœ‰ä¸€ä¸ªé—®é¢˜ï¼Œä»¥äºŒè¿›åˆ¶çš„å½¢å¼æ¥åŠ è½½ä»£ç å¹¶ä¸æ˜¯å¾ˆå¸¸è§ï¼Œè€Œä¸”æˆ‘ä»¬ä¸ä½†è¦åŠ è½½å®ƒè¿˜è¦æ¯”è¾ƒä»–å°¤å…¶åœ¨ CPU ä¸Šå¹¶ä¸æ˜¯æœ€ä¼˜ç­–ç•¥ï¼Œæ‰€ä»¥è¿™é‡Œè¿˜æ˜¯æœ‰å¼€é”€çš„ï¼Œå› æ­¤æˆ‘ä»¬çœ‹ä¸‹å¦‚ä½•ä¼˜åŒ–ã€‚&lt;/p&gt;
&lt;p&gt;åŒæ ·æ‰§è¡Œæµç¨‹ï¼Œå½“æ‰§è¡Œå®Œ &lt;code&gt; _objc_autoreleaseReturnValue&lt;/code&gt;  å‡½æ•°æ—¶å€™æˆ‘ä»¬ä¼šè·å¾—ä¸€ä¸ªè¿”å›åœ°å€ï¼Œè¿™ä¸ªåœ°å€æ˜¯ä¸€ä¸ªæŒ‡é’ˆï¼ŒæŒ‡å‘äº†è¢«æ ‡è®°ä¸º Autorelease çš„å¯¹è±¡ã€‚ç„¶åä»£ç ç»§ç»­æ‰§è¡Œåˆ° &lt;code&gt;_objc_retainAutoreleasedReturnValue&lt;/code&gt;  è¿™é‡Œè¦è¿›è¡Œ reatinï¼Œè€Œè¢« reatain çš„å˜é‡åœ°å€æˆ‘ä»¬ä¹Ÿå¯ä»¥æ‹¿åˆ°ï¼Œæ‰€ä»¥åªè¦æ¯”è¾ƒè¿™ä¸¤ä¸ªæŒ‡é’ˆå³å¯ï¼Œè¿™æ ·ä¸€æ¥æˆ‘ä»¬ä¹Ÿä¸å†éœ€è¦ mov æ“ä½œ&lt;/p&gt;
&lt;p&gt;&lt;img data-src=&#34;https://cdn.cdnjson.com/tva1.sinaimg.cn/large/e6c9d24egy1h5h0ws62g0j20n00gidg3.jpg&#34; alt=&#34;image-20220823213224122&#34; /&gt;&lt;/p&gt;
&lt;p&gt;ä¼˜åŒ–ç‚¹&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;æŠŠåŸæ¥çš„æ¯”è¾ƒäºŒè¿›åˆ¶æ•°æ®æ”¹ä¸ºæ¯”è¾ƒæŒ‡é’ˆã€‚é€Ÿåº¦æ›´å¿«æ•ˆç‡æ›´é«˜&lt;/li&gt;
&lt;li&gt;å‡å°‘ mov æŒ‡ä»¤ å‡å°‘ 4 å­—èŠ‚ï¼ŒäºŒè¿›åˆ¶å¤§å°é¢„è®¡é™ä½ 2%&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&#34;æ€»ç»“&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#æ€»ç»“&#34;&gt;#&lt;/a&gt; æ€»ç»“&lt;/h2&gt;
&lt;p&gt;è¿™å°±æ˜¯ Xcode14+iOS16 çš„ç¼–è¯‘æœŸé—´ä¼˜åŒ–ï¼Œå¯ä»¥çœ‹å‡ºè‹¹æœä¹Ÿåœ¨å¸®æˆ‘ä»¬å®Œæˆ OKR å‡å°‘åŒ…ä½“ç§¯ï¼Œæé«˜å¯åŠ¨é€Ÿåº¦ï¼Œå¢åŠ ä»£ç æ‰§è¡Œæ•ˆç‡ï¼ŒåŒæ—¶ä¹Ÿèƒ½çœ‹å‡ºè‹¹æœåœ¨è¿½æ±‚æè‡´ç”¨æˆ·ä½“éªŒé“è·¯ä¸Šæ‰€åšçš„äº‹æƒ…ã€‚æœ¬æ–‡éƒ¨åˆ†ç¿»è¯‘è‡ª&lt;span class=&#34;exturl&#34; data-url=&#34;aHR0cHM6Ly9kZXZlbG9wZXIuYXBwbGUuY29tL3ZpZGVvcy9wbGF5L3d3ZGMyMDIyLzExMDM2My8=&#34;&gt; Improve app size and runtime performance&lt;/span&gt;ï¼ŒåŒæ—¶ä¹Ÿæ·»åŠ äº†è‡ªå·±çš„æ€è€ƒã€‚&lt;/p&gt;
 ]]></description>
        </item>
        <item>
            <guid isPermalink="true">https://oliverqueen.cn/2022-06-13-WWDC2022-iOS%E7%AF%87%E5%AE%8C%E5%85%A8%E8%A7%A3%E6%9E%90/</guid>
            <title>WWDC2022-iOSç¯‡å®Œå…¨è§£æ</title>
            <link>https://oliverqueen.cn/2022-06-13-WWDC2022-iOS%E7%AF%87%E5%AE%8C%E5%85%A8%E8%A7%A3%E6%9E%90/</link>
            <category>iOS</category>
            <category>WWDC2022</category>
            <pubDate>Mon, 13 Jun 2022 17:05:31 +0800</pubDate>
            <description><![CDATA[ &lt;link rel=&#34;stylesheet&#34; class=&#34;aplayer-secondary-style-marker&#34; href=&#34;/assets/css/APlayer.min.css&#34;&gt;&lt;script src=&#34;/assets/js/APlayer.min.js&#34; class=&#34;aplayer-secondary-script-marker&#34;&gt;&lt;/script&gt;&lt;h1 id=&#34;èƒŒæ™¯&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#èƒŒæ™¯&#34;&gt;#&lt;/a&gt; èƒŒæ™¯&lt;/h1&gt;
&lt;p&gt;Apple äºåŒ—äº¬æ—¶é—´ 2022 å¹´ 6 æœˆ 7 æ—¥ä¸¾åŠäº† WWDC2022ï¼Œä½œä¸ºä¸€å Apple å¼€å‘è€…ï¼Œä¸ä»…ä»…æ˜¯ä¸ºäº†ä¿æŒæŠ€æœ¯æ•æ„Ÿåº¦ï¼ŒåŒæ—¶ä¹Ÿå¸Œæœ›åœ¨ç¬¬ä¸€æ—¶é—´å°†æ–°çš„å†…å®¹å‘ˆç°åœ¨å¤§å®¶çœ¼å‰ã€‚æœ¬æ–‡å¯¹å‘å¸ƒä¼šå†…å®¹åšäº†æ•´ç†å½’çº³ï¼Œå¹¶ç€é‡å¯¹ iOS çš„æ–°å†…å®¹è¿›è¡Œåˆ†æã€‚å¸Œæœ›è¿™ç¯‡æ–‡ç« å¯¹å¤§å®¶æœ‰æ‰€å¸®åŠ©çš„åŒæ—¶ä¹Ÿç»™æˆ‘ä»¬çš„äº§å“å¸¦æ¥æ›´å¤šçš„å¯èƒ½æ€§ã€‚&lt;/p&gt;
&lt;p&gt;&lt;img data-src=&#34;https://cdn.cdnjson.com/tva1.sinaimg.cn/large/e6c9d24egy1h344hz8cl3j21g20pswhk.jpg&#34; alt=&#34;9690f67c1bc2cc62bd8729e5182ef19a&#34; /&gt;&lt;/p&gt;
&lt;p&gt;&lt;span id=&#34;more&#34;&gt;&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;ç›¸å¯¹äº iOS15 æ¥è¯´ï¼ŒiOS16 çš„æ•´ä½“å˜åŒ–æ¯”è¾ƒå¤§ï¼Œå°¤å…¶æ˜¯åœ¨æˆ‘ä»¬çœ‹å¾—è§çš„åœ°æ–¹ï¼Œæ¯”å¦‚ä¸€äº› UI æ ·å¼ï¼Œäº¤äº’è¡Œä¸ºå’Œä¸€äº›æ–°å¢çš„åŠŸèƒ½ã€‚ä¸‹é¢ä¼šæŒ‰ç…§ WWDC çš„å‡ºå‚é¡ºåºæ¥ä»‹ç»ï¼Œå…¶ä¸­åŒ…å«äº†æ¯ä¸ªæ”¹åŠ¨ç‚¹çš„ç»†èŠ‚ä»¥åŠä¸ªäººçš„ç†è§£å’Œåé¢çš„å±•æœ›ã€‚&lt;/p&gt;
&lt;h1 id=&#34;developer&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#developer&#34;&gt;#&lt;/a&gt; Developer&lt;/h1&gt;
&lt;h2 id=&#34;xcodeç›¸å…³&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#xcodeç›¸å…³&#34;&gt;#&lt;/a&gt; Xcode ç›¸å…³&lt;/h2&gt;
&lt;p&gt;æ–°ç‰ˆçš„ Xcode åŒæ ·ä¹Ÿè·Ÿæ–°äº†ç›¸å…³çš„å†…å®¹ï¼Œå¸®åŠ©å¼€å‘è€…æé«˜å¼€å‘æ•ˆç‡ã€‚&lt;/p&gt;
&lt;h4 id=&#34;æ–¹æ³•å¸é¡¶ä»¥åŠä»£ç æç¤º&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#æ–¹æ³•å¸é¡¶ä»¥åŠä»£ç æç¤º&#34;&gt;#&lt;/a&gt; æ–¹æ³•å¸é¡¶ä»¥åŠä»£ç æç¤º&lt;/h4&gt;
&lt;p&gt;åœ¨ä¹‹å‰çš„ç‰ˆæœ¬ä¸­ï¼Œå¦‚æœæ–¹æ³•å‡½æ•°è¿‡å¤šè¶…äº†ä¸€å±å±•ç¤ºï¼Œéšç€æ»šåŠ¨å‡½æ•°åä¸å¯è§ï¼Œè€Œæ–°ç‰ˆçš„ Xcode æä¾›äº†ç±»ä¼¼ TableViewHeader çš„æ•ˆæœï¼Œè®©æ–¹æ³•åå’Œå®ç°åå­—å›ºå®šåœ¨é¡¶éƒ¨ï¼Œæ–¹ä¾¿éšæ—¶æŸ¥çœ‹å’Œå¤åˆ¶ã€‚å¯¹å°å±è¿˜æ˜¯æ¯”è¾ƒå‹å¥½çš„ã€‚&lt;/p&gt;
&lt;p&gt;&lt;img data-src=&#34;https://cdn.cdnjson.com/tva1.sinaimg.cn/large/e6c9d24egy1h342t0jx5qj215h0u040m.jpg&#34; alt=&#34;enter image description here&#34; /&gt;&lt;/p&gt;
&lt;p&gt;åŒæ ·åœ¨ä½¿ç”¨åˆå§‹åŒ–æ–¹æ³•çš„æ—¶å€™å¦‚æœæ˜¯æ”¯æŒä¼ å…¥å‚æ•°çš„åˆå§‹åŒ–æ–¹æ³•ä¹Ÿä¼šé€šè¿‡æ–œä½“æ¥è¿›è¡Œå‚æ•°æç¤º (Swift ä¸“å±)&lt;/p&gt;
&lt;p&gt;&lt;img data-src=&#34;https://cdn.cdnjson.com/tva1.sinaimg.cn/large/e6c9d24egy1h342t2czj8j20u00akt9s.jpg&#34; alt=&#34;enter image description here&#34; /&gt;&lt;/p&gt;
&lt;h4 id=&#34;xcodeå®‰è£…ä½“ç§¯&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#xcodeå®‰è£…ä½“ç§¯&#34;&gt;#&lt;/a&gt; Xcode å®‰è£…ä½“ç§¯&lt;/h4&gt;
&lt;p&gt;æ–°ç‰ˆçš„ Xcode ä¼˜åŒ–äº†åŒ…ä½“ç§¯ï¼ŒåŒæ—¶åœ¨è¿›è¡Œå®‰è£…çš„æ—¶å€™å¯ä»¥è‡ªå®šä¹‰éœ€è¦å“ªäº›å¹³å°ï¼Œéœ€è¦å“ªäº›æ¨¡æ‹Ÿå™¨ï¼Œç¬”è€…äº²æµ‹ç›¸æ¯”ä¹‹å‰çš„æ— è„‘æŠŠ AppleTVã€Apple Watchã€ipad ç­‰éƒ½å®‰è£…ä¸‹æ¥çš„æƒ…å†µæ¥çœ‹ï¼Œæ•´ä¸ªåŒ…ä½“ç§¯å‡å°‘äº†åå‡ ä¸ª G å·¦å³ã€‚å¯¹äºå°å­˜å‚¨çš„ MacBook æ˜¯ä¸€ä¸ªç¦éŸ³ã€‚&lt;/p&gt;
&lt;h4 id=&#34;xcodeç¼–è¯‘ä¸è°ƒè¯•&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#xcodeç¼–è¯‘ä¸è°ƒè¯•&#34;&gt;#&lt;/a&gt; Xcode ç¼–è¯‘ä¸è°ƒè¯•&lt;/h4&gt;
&lt;p&gt;æ ¹æ®è‹¹æœçš„æè¿°æ–°ç‰ˆ Xcode ä¼˜åŒ–é¡¹ç›®çš„ç¼–è¯‘é€Ÿåº¦ï¼Œ &lt;code&gt;å¾—ç›Šäºæ›´å¼ºå¤§çš„å¹¶è¡Œç¼–è¯‘èƒ½åŠ›ï¼Œé¡¹ç›®æ„å»ºé€Ÿåº¦æå‡è‡³é«˜å¯è¾¾ 25%&lt;/code&gt; ã€‚&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;æ”¹å–„å‰ï¼šå…ˆç¼–è¯‘ framework é‡Œçš„ä»£ç ï¼Œç„¶åç”Ÿæˆ moduleï¼Œç„¶åç¼–è¯‘ app é‡Œçš„ä»£ç ï¼Œæœ€ç»ˆç»è¿‡é“¾æ¥å®Œæˆäº†æ„å»ºã€‚&lt;/li&gt;
&lt;li&gt;æ”¹å–„åï¼šé€šè¿‡æé«˜å¹¶å‘ï¼Œç¼©çŸ­äº†æ„å»ºçš„å…³é”®çš„è·¯å¾„&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;img data-src=&#34;https://cdn.cdnjson.com/tva1.sinaimg.cn/large/e6c9d24egy1h342tn4mxij20yl0u0415.jpg&#34; alt=&#34;enter image description here&#34; /&gt;&lt;/p&gt;
&lt;p&gt;åŒæ—¶å•å…ƒæµ‹è¯•çš„æ•ˆç‡ä¹Ÿæé«˜äº† 30%&lt;/p&gt;
&lt;p&gt;Xcode14 è¿˜æ”¯æŒè¾“å‡ºç¼–è¯‘æœŸé—´æ¯ä¸ªé˜¶æ®µçš„è€—æ—¶å’Œè¯¦ç»†ä¿¡æ¯ï¼Œç›¸æ¯”ä¹‹å‰çš„åªèƒ½é€šè¿‡æ§åˆ¶å°çš„åå­—æè¿°è¦ç›´è§‚ä¸å°‘ã€‚&lt;br /&gt;
&lt;img data-src=&#34;https://cdn.cdnjson.com/tva1.sinaimg.cn/large/e6c9d24egy1h342x91jz4j21910u0wir.jpg&#34; alt=&#34;ç¼–è¯‘è€—æ—¶&#34; /&gt;&lt;/p&gt;
&lt;p&gt;å¯¹äº LLDBï¼Œç°åœ¨è¿˜å¯ä»¥çœ‹åˆ°æ‰§è¡Œçš„è¿‡ç¨‹å’Œä¿¡æ¯ï¼Œå¯¹äºä¸€äº›éœ€è¦é•¿æ—¶é—´è·‘çš„å‘½ä»¤è¾ƒä¸ºå‹å¥½ï¼Œç±»ä¼¼äº &lt;code&gt;--verbose&lt;/code&gt;  å‚æ•°çš„å«ä¹‰&lt;/p&gt;
&lt;p&gt;&lt;img data-src=&#34;https://cdn.cdnjson.com/tva1.sinaimg.cn/large/e6c9d24egy1h342tgt828j21dg0323yy.jpg&#34; alt=&#34;enter image description here&#34; /&gt;&lt;/p&gt;
&lt;p&gt;åœ¨æ–°ç‰ˆçš„ Xcode ä¸­é™¤äº† App å’Œç³»ç»Ÿçš„æ—¥å¿—ï¼ŒåŒæ ·æ”¯æŒ LLDB çš„æ—¥å¿—è¾“å‡ºï¼Œå½“æ—¶åœ¨ç”¨ LLDB è°ƒè¯•çš„æ—¶å€™å‘ç”Ÿ Crashï¼Œä¾¿å¯ä»¥åˆ°ç›¸å…³è·¯å¾„ä¸­æ‰¾åˆ°å¯¹åº”æ—¥å¿—ã€‚&lt;br /&gt;
&lt;img data-src=&#34;https://cdn.cdnjson.com/tva1.sinaimg.cn/large/e6c9d24egy1h342t3pka9j21ay02kjrp.jpg&#34; alt=&#34;enter image description here&#34; /&gt;&lt;/p&gt;
&lt;h2 id=&#34;å¼€å‘è€…æ¨¡å¼&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#å¼€å‘è€…æ¨¡å¼&#34;&gt;#&lt;/a&gt; å¼€å‘è€…æ¨¡å¼&lt;/h2&gt;
&lt;p&gt;æ–°ç‰ˆçš„ iOS å’Œ Watch OS å¼•å…¥äº†æ–°çš„å¼€å‘è€…æ¨¡å¼ï¼ŒåŸç†å’Œå®‰å“çš„å¼€å‘è€…æ¨¡å¼ç±»ä¼¼ï¼Œç”¨è‹¹æœçš„è¯è¯´æ˜¯ä¸ºäº† &lt;code&gt;å¼€å‘è€…æ¨¡å¼å¯é˜²æ­¢äººä»¬æ— æ„ä¸­åœ¨å…¶è®¾å¤‡ä¸Šå®‰è£…å¯èƒ½æœ‰å®³çš„è½¯ä»¶ï¼Œå¹¶å‡å°‘å¼€å‘è€…ä¸“ç”¨åŠŸèƒ½æ‰€æš´éœ²çš„æ”»å‡»åª’ä»‹ã€‚&lt;/code&gt; ï¼Œå¯¹äºæ™®é€šäººæ¥è¯´ç¡®å®å¯ä»¥æé«˜å®‰å…¨æ€§ï¼Œä¹‹å‰åªè¦æ˜¯åŠ å…¥äº†å¼€å‘è€…è´¦å·çš„æ‰‹æœºéƒ½å¯ä»¥ä» Xcode ç¼–è¯‘è¿è¡Œç¬¬ä¸‰æ–¹çš„ Appï¼Œæˆ–è€…æŒ‰ç…§ä¼ä¸šè¯ä¹¦çš„ç­¾ååŒ…ï¼Œè€Œä¸è¿™äº›æ‰‹æœºä¸»äººéƒ½æ˜¯æ— æ„Ÿçš„ï¼Œç°åœ¨éœ€è¦æ‰‹æœºä¸»äººé€šè¿‡å¤šé‡ç¡®è®¤æ¥æ‰“å¼€æ­¤åŠŸèƒ½åæ‰å¯ä»¥è¿›è¡Œå®‰è£…é &lt;code&gt;App Store&lt;/code&gt;  å’Œ &lt;code&gt;Testfilght&lt;/code&gt;  æ¸ é“çš„åŒ…ã€‚&lt;/p&gt;
&lt;p&gt;ä½†æ˜¯è¿™ä¸ªå¯¹äºå¼€å‘è€…æ¥è¯´å¹¶ä¸å‹å¥½ï¼Œé¦–å…ˆæ˜¯è°ƒè¯•è¿‡ç¨‹æœ‰ä¼šå¤šå¢åŠ ä¸€äº›æ­¥éª¤ï¼Œè€Œä¸”åœ¨è‡ªåŠ¨åŒ–æµ‹è¯•æ–¹é¢ï¼Œæ‰€æœ‰çš„æ‰‹æœºéƒ½è¦å…ˆé€šè¿‡å‘½ä»¤æ¥æ‰“å¼€å¼€å‘è€…æ¨¡å¼ï¼Œå¹¶ä¸”æ ¹æ®è‹¹æœçš„è¯´æ³•ï¼Œä½¿ç”¨å‘½ä»¤è¡Œè¿›è¡Œå¼€å…³è¦ç¡®ä¿æ‰‹æœºæ²¡æœ‰å¯†ç ï¼Œå¦åˆ™ä¼šè¢«æ‹’ç»è¿è¡Œã€‚è¿™é‡Œç¬”è€…ä¹Ÿå°è¯•åœ¨æœªæ‰“å¼€ &lt;code&gt;å¼€å‘è€…æ¨¡å¼&lt;/code&gt; çš„æƒ…å†µä¸‹è¿›è¡Œ Xcode ç¼–è¯‘ï¼Œç¡®å®ä¼šå¤±è´¥ã€‚&lt;/p&gt;
&lt;p&gt;&lt;img data-src=&#34;https://cdn.cdnjson.com/tva1.sinaimg.cn/large/e6c9d24egy1h342ygml7gj208y01kdfo.jpg&#34; alt=&#34;enter image description here&#34; /&gt;&lt;/p&gt;
&lt;p&gt;&lt;img data-src=&#34;https://cdn.cdnjson.com/tva1.sinaimg.cn/large/e6c9d24egy1h3358k3glij207s087aaa.jpg&#34; alt=&#34;&#34; /&gt;&lt;/p&gt;
&lt;p&gt;ç¬”è€…é¢„æµ‹è¯¥åŠŸèƒ½å¯èƒ½æ˜¯ä¸ºåç»­çš„ç¬¬ä¸‰æ–¹ App å¸‚åœºåšå‡†å¤‡ï¼Œå› ä¸ºç°åœ¨è™½ç„¶è‹¹æœä¸æ”¯æŒä¸‰æ–¹å¸‚åœºï¼Œä½†æ˜¯æ™®é€šç”¨æˆ·è¿˜æ˜¯å¯ä»¥é€šè¿‡ä¸€äº›ä¸‰æ–¹ç½‘ç«™å®‰è£…é‡ç­¾åŒ…ï¼ŒåŒæ—¶ä»–ä»¬å¹¶ä¸çŸ¥é“è¿™äº›åŒ…ä¼šå¸¦æ¥æ½œåœ¨çš„å±é™©ï¼Œå†åŠ ä¸Šæ¬§ç›Ÿä¸€äº›åå„æ–­æ”¿ç­–çš„æ–½å‹ï¼Œæ‰€ä»¥è‹¹æœå†³å®šé€æ­¥å¼€æ”¾ä¸‰æ–¹åº”ç”¨å¸‚åœºï¼Œè¿™åº”è¯¥å°±æ˜¯ç¬¬ä¸€æ­¥å§ï¼Œå…ˆè®©ç”¨æˆ·æ„è¯†åˆ°è¿™æ ·åšå¯èƒ½ä¼šæœ‰ä¸€äº›å±å®³ã€‚&lt;/p&gt;
&lt;p&gt;&lt;code&gt;æ— è®ºæ˜¯ç¾å›½çš„ã€Šç¾å›½é€‰æ‹©ä¸åˆ›æ–°æ³•æ¡ˆã€‹ã€è¿˜æ˜¯æ¬§ç›Ÿçš„ã€Šæ•°å­—å¸‚åœºæ³•æ¡ˆã€‹ï¼Œéƒ½è¦æ±‚è‹¹æœåœ¨App Storeä¹‹å¤–ä¸ºç”¨æˆ·æä¾›é¢å¤–çš„åº”ç”¨ä¸‹è½½æ¸ é“ã€‚ç°åœ¨çœ‹æ¥ï¼Œè‹¹æœæ–¹é¢å¯èƒ½å·²ç»è®¤ä¸ºæ”¹å˜æ¬§ç›Ÿä¸ç¾å›½çš„æ€åº¦å·²ç»ä¸å¤ªå¯èƒ½äº†ï¼Œé‚£ä¹ˆæ—¢ç„¶æ”¯æŒä¾§è½½æˆ–è®¸æ— æ³•é¿å…ï¼Œé‚£ä¹ˆè®©ç”¨æˆ·æ›´éš¾å‘ç°ä¾§è½½åŠŸèƒ½çš„å…¥å£å°±æˆä¸ºäº†å¤‡é€‰é¡¹ã€‚&lt;/code&gt;&lt;/p&gt;
&lt;h1 id=&#34;lockscreen&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#lockscreen&#34;&gt;#&lt;/a&gt; LockScreen&lt;/h1&gt;
&lt;h2 id=&#34;é”å±æ ·å¼&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#é”å±æ ·å¼&#34;&gt;#&lt;/a&gt; é”å±æ ·å¼&lt;/h2&gt;
&lt;p&gt;é‡æ–°ä¿®æ”¹äº†é”å±çš„æ ·å¼ï¼Œåœ¨ä¼˜åŒ–äº†æ—¶é—´æ˜¾ç¤ºçš„å­—ä½“çš„åŒæ—¶ä¹Ÿåœ¨é”å±ä¸Šæä¾›äº†æ›´å¤šèƒ½åŠ›ï¼Œå±•ç¤ºæ›´å¤šçš„ä¿¡æ¯ï¼Œå¹¶åŠ å…¥äº†ä¸€äº›æ–°çš„äº¤äº’æ ·å¼ï¼Œé€šè¿‡åœ¨é”å±ç•Œé¢é•¿æŒ‰æ¥è¿›å…¥é”å±ç•Œé¢çš„ç¼–è¾‘çŠ¶æ€ï¼Œè¿™ä¸ªåŠ¨ç”»æ•ˆæœæœ‰ç‚¹ç±»ä¼¼å®‰å“çš„ç¼–è¾‘æ¡Œé¢çš„æ•ˆæœã€‚&lt;/p&gt;
&lt;p&gt;&lt;img data-src=&#34;https://cdn.cdnjson.com/tva1.sinaimg.cn/large/e6c9d24egy1h3430h983bg208a0gnhe7.gif&#34; alt=&#34;image&#34; /&gt;&lt;/p&gt;
&lt;p&gt;iOS16 çš„é”å±æ ·å¼å¯ä»¥å¤§è‡´åˆ†ä¸ºä¸¤ç±»&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;åŠ¨æ€é”å±&lt;br /&gt;
æ¯”å¦‚åœ¨ Beta1 ä¸­å¯ä»¥çœ‹åˆ°çš„å¤©æ°”é”å±ï¼Œä¾èµ–äºå¤©æ°” App çš„ä¿¡æ¯ï¼Œåœ¨ç‚¹äº®å±å¹•çš„ä¸€ç¬é—´å¯ä»¥åœ¨é”å®šå±å¹•ä¸ŠåŠ¨æ€æ˜¾ç¤ºå¤©æ°”çš„æ•ˆæœï¼Œæ¯”å¦‚é›¨é›ªé£æ™´ç­‰ï¼ŒæŒç»­å‡ ç§’é’Ÿååœæ­¢ã€‚ç¬”è€…é¢„æµ‹è¯¥èƒ½åŠ›åç»­ä¼šå’Œ Livephoto å…³è”èµ·æ¥ï¼Œå®ç°ç”¨æˆ·è‡ªå®šä¹‰åŠ¨æ€ç…§ç‰‡ï¼Œæ¯•ç«Ÿç°åœ¨çš„ livephoto è®¾ç½®é”å±ä¹‹ååªæœ‰åœ¨é•¿æŒ‰æ‰ä¼šè§¦å‘æ’­æ”¾ï¼Œåˆ°æ—¶å€™é•¿æŒ‰çš„æ‰‹åŠ¿ä¼šå’Œè®¾ç½®é”å±çš„æ‰‹åŠ¿å†²çªï¼Œæ‰€ä»¥ livephoto å¿…ç„¶ä¼šå˜æˆè‡ªåŠ¨æ’­æ”¾ï¼Œ&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;å†é•¿è¿œé¢„æµ‹çš„è¯ä¹Ÿå¯èƒ½åç»­ä¼šæŠŠè¯¥èƒ½åŠ›å¼€æ”¾ç»™ç¬¬ä¸‰æ–¹ App æ¥å®šåˆ¶åŠ¨æ€é”å±çš„å›¾ç‰‡ï¼Œç±»å‹äºç°åœ¨çš„å¤©æ°” Appã€‚æ¯”å¦‚ QQ éŸ³ä¹çš„ä¸“è¾‘å°é¢ï¼Œæ­Œæ‰‹çš„æ¼”å”±åŠ¨å›¾ç­‰ã€‚ç›®å‰åŠ¨æ€èƒŒæ™¯åªæ”¯æŒé”å±ç•Œé¢ï¼Œè§£é”åè¿›å…¥æ¡Œé¢ä¾¿ä¼šåœæ­¢ï¼Œä¼°è®¡æ˜¯å¤„äºæ€§èƒ½è€ƒè™‘ï¼ŒåŠ¨æ€æ¡Œé¢çš„å¯èƒ½æ€§ä¸å¤§ï¼Œåº”è¯¥ä»…é™äºé”å±ã€‚&lt;/p&gt;
&lt;p&gt;&lt;img data-src=&#34;https://cdn.cdnjson.com/tva1.sinaimg.cn/large/e6c9d24egy1h342tiho1zg207u0gou0z.gif&#34; alt=&#34;image&#34; /&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;é™æ€ç…§ç‰‡&lt;br /&gt;
 iPhone ä¸€ç›´å¯ä»¥æ”¯æŒè®¾ç½®é™æ€ç…§ç‰‡ä¸ºé”å±å£çº¸ï¼Œä½†æ˜¯ iOS16 ç»™é™æ€ç…§ç‰‡é”å±æä¾›äº†æ›´å¤šçš„ç©æ³•ã€‚&lt;/li&gt;
&lt;li&gt;ç…§ç‰‡éšæœºåˆ‡æ¢ï¼šç”¨æˆ·å¯ä»¥é€‰å®šä¸€ç»„ç…§ç‰‡æ¥ä½œä¸ºé”å±å£çº¸ï¼Œç±»ä¼¼äºå¹»ç¯ç‰‡æ”¾æ˜ çš„æ ·å¼ï¼Œåˆ‡æ¢çš„é¢‘ç‡å¯ä»¥è®¾ç½®ä¸º  &lt;code&gt;æ¯æ¬¡ç‚¹äº®&lt;/code&gt;  ã€  &lt;code&gt;æ¯æ¬¡ç‚¹å‡»&lt;/code&gt;  ã€  &lt;code&gt;æ¯å°æ—¶&lt;/code&gt;  ã€  &lt;code&gt;æ¯å¤©&lt;/code&gt;  ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;img data-src=&#34;https://cdn.cdnjson.com/tva1.sinaimg.cn/large/e6c9d24egy1h342tuul3fg207z0gnqvl.gif&#34; alt=&#34;image&#34; /&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;ç…§ç‰‡æ™¯æ·±ï¼šè¿™ä¸ªèƒ½åŠ›ç®—æ˜¯ iOS16 æ›´æ–°æ¯”è¾ƒå¤§çš„ï¼Œé€šè¿‡æœºå™¨å­¦ä¹ æ¨¡å‹å°†ç…§ç‰‡ä¸­çš„ä¸»ä½“çªå‡ºï¼Œå¯ä»¥é®æŒ¡åœ¨æ—¶é—´ä¸Šï¼Œè¿™é‡Œçš„ä¸»ä½“å¯ä»¥æ˜¯å›¾ç‰‡ä¸­ä»»ä½•å¯åŒºåˆ†çš„ç‰©ä½“ï¼Œä¸ä»…ä»…æ˜¯äººåƒæ¨¡å¼çš„ç…§ç‰‡ã€‚(åœ¨å®é™…ä½¿ç”¨ä¸­ï¼Œç»å¸¸ä¼šå¤±è´¥ï¼Œbeta1 è¿˜æ˜¯ä¸å¤Ÿç¨³å®š)&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&amp;lt;img src=&amp;quot;&lt;span class=&#34;exturl&#34; data-url=&#34;aHR0cHM6Ly9jZG4uY2RuanNvbi5jb20vdHZhMS5zaW5haW1nLmNuL2xhcmdlL2U2YzlkMjRlZ3kxaDM0MzExYno5bmoyMGkyMTJ5YWNpLmpwZw==&#34;&gt;https://cdn.cdnjson.com/tva1.sinaimg.cn/large/e6c9d24egy1h34311bz9nj20i212yaci.jpg&lt;/span&gt;&amp;quot; alt=&amp;quot;image#268px #578px&amp;quot; style=&amp;quot;zoom:50%;&amp;quot; /&amp;gt; &amp;lt;img src=&amp;quot;&lt;span class=&#34;exturl&#34; data-url=&#34;aHR0cHM6Ly9jZG4uY2RuanNvbi5jb20vdHZhMS5zaW5haW1nLmNuL2xhcmdlL2U2YzlkMjRlZ3kxaDM0MzI0OHBnOWoyMG11MTh1ZG1oLmpwZw==&#34;&gt;https://cdn.cdnjson.com/tva1.sinaimg.cn/large/e6c9d24egy1h343248pg9j20mu18udmh.jpg&lt;/span&gt;&amp;quot; alt=&amp;quot;image#292px #574px&amp;quot; style=&amp;quot;zoom:43%;&amp;quot; /&amp;gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;è¡¨æƒ…å£çº¸ï¼šå°† IPhone è¾“å…¥æ³•ä¸­è‡ªå¸¦çš„è¡¨æƒ…è¿›è¡Œä¸€å®šè§„å¾‹çš„æ’åˆ—ç»„åˆå½¢æˆä¸€å¼ å£çº¸ï¼Œæœ€å¤šæ”¯æŒè¾“å…¥å…­ä¸ªè¡¨æƒ…ã€‚&lt;/li&gt;
&lt;li&gt;é¢œè‰²å£çº¸ï¼šå¯ä»¥å®šä¹‰ä¸€äº›æ¸å˜é¢œè‰²&lt;/li&gt;
&lt;li&gt;å®˜æ–¹èƒŒæ™¯å›¾å£çº¸ã€‚ä¸€äº›å®˜æ–¹å›¾ç‰‡ï¼Œæ”¯æŒæ™¯æ·±æ•ˆæœ&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&amp;lt;img src=&amp;quot;&lt;span class=&#34;exturl&#34; data-url=&#34;aHR0cHM6Ly9jZG4uY2RuanNvbi5jb20vdHZhMS5zaW5haW1nLmNuL2xhcmdlL2U2YzlkMjRlZ3kxaDM0MnRxcXZldWoyMGh3MTB3cTViLmpwZw==&#34;&gt;https://cdn.cdnjson.com/tva1.sinaimg.cn/large/e6c9d24egy1h342tqqveuj20hw10wq5b.jpg&lt;/span&gt;&amp;quot; alt=&amp;quot;image#189px #390px&amp;quot; style=&amp;quot;zoom:50%;&amp;quot; /&amp;gt;&lt;/p&gt;
&lt;h2 id=&#34;é”å±ç»„ä»¶&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#é”å±ç»„ä»¶&#34;&gt;#&lt;/a&gt; é”å±ç»„ä»¶&lt;/h2&gt;
&lt;p&gt;iOS16 åœ¨é”å±ç•Œé¢å¯ä»¥å±•ç¤ºæ›´å¤šçš„ä¿¡æ¯ï¼Œå…¶ä¸­å°±åŒ…æ‹¬äº†é”å±å°ç»„ä»¶çš„åŠ å…¥ã€‚å¯ä»¥çœ‹åˆ°é”å±é¡¶éƒ¨åˆ†ä¸‰ä¸ªåŒºåŸŸã€‚&lt;/p&gt;
&lt;p&gt;&amp;lt;img src=&amp;quot;&lt;span class=&#34;exturl&#34; data-url=&#34;aHR0cHM6Ly9jZG4uY2RuanNvbi5jb20vdHZhMS5zaW5haW1nLmNuL2xhcmdlL2U2YzlkMjRlZ3kxaDM0MzJkMTZoc2oyMGllMTNhZGllLmpwZw==&#34;&gt;https://cdn.cdnjson.com/tva1.sinaimg.cn/large/e6c9d24egy1h3432d16hsj20ie13adie.jpg&lt;/span&gt;&amp;quot; alt=&amp;quot;image#270px #577px&amp;quot; style=&amp;quot;zoom:50%;&amp;quot; /&amp;gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;é¡¶éƒ¨ï¼šé¡¶éƒ¨åŒºåŸŸæ˜¯ä¸€ä¸ªå°çš„å°ç»„ä»¶åŒºåŸŸï¼ŒåŒæ—¶åªèƒ½å®¹çº³ä¸€ç§å°ç»„ä»¶æ”¾ç½®ï¼ŒğŸ‡³ä¿¡æ¯é‡æœ‰é™ã€‚&lt;/li&gt;
&lt;li&gt;ä¸­éƒ¨ï¼šä¸­éƒ¨åŒºåŸŸæ˜¯å›ºå®šå±•ç¤ºæ—¶é—´çš„åŒºåŸŸï¼Œä¸å¯æ”¾ç½®è‡ªå®šä¹‰å°ç»„ä»¶ã€‚åªèƒ½å±•ç¤ºæ—¶é—´ä¿¡æ¯ï¼Œä½†æ˜¯ç”¨æˆ·å¯è‡ªå®šä¹‰å­—ä½“ï¼ˆåŒ…æ‹¬é˜¿æ‹‰ä¼¯æ–‡ã€å¤©æˆæ–‡ï¼‰å’Œé¢œè‰²ã€‚&lt;/li&gt;
&lt;li&gt;åº•éƒ¨ï¼šåº•éƒ¨åŒºåŸŸä¸ºç¬¬äºŒä¸ªå°ç»„ä»¶åŒºåŸŸï¼ŒèŒƒå›´è¾ƒå¤§ï¼Œæœ€å¤šå¯å®¹çº³ 4 ä¸ªæ­£æ–¹å½¢ï¼ˆ1*1ï¼‰çš„å°ç»„ä»¶ã€‚åŒæ—¶æ”¯æŒæ’åˆ—ç»„åˆã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;ç›®å‰å°ç»„ä»¶çš„æ”¯æŒéå¸¸æœ‰é™ï¼Œç›®å‰åªèƒ½å°†ç³»ç»Ÿçº§çš„ App çš„ç»„ä»¶æ”¾ä¸Šå»ï¼Œå¹¶ä¸æ”¯æŒç¬¬ä¸‰æ–¹ Appï¼Œç¬”è€…å°è¯•å†™äº†ä¸€ä¸ªå°ç»„ä»¶ï¼Œåœ¨ä¸»å±å¹•ä¸Šå¯ä»¥æ­£å¸¸æ·»åŠ ï¼Œä½†æ˜¯åœ¨é”å®šå±å¹•æ— æ³•ä½¿ç”¨ï¼ŒçŒœæµ‹ä¸¤ä¸ªåŸå› ï¼Œä¸€æ˜¯ç›®å‰æ˜¯ Beta1 ç‰ˆå¯èƒ½è¿˜æ²¡æœ‰å¼€æ”¾ä¸‰æ–¹ App çš„å°ç»„ä»¶ï¼Œåç»­ä¼šé™†ç»­ä¼˜åŒ–ä¸Šæ¥ï¼›ç¬¬äºŒä¸ªåŸå› å¯èƒ½æ˜¯å¤„äºæ€§èƒ½æˆ–è€…å…¶ä»–å› ç´ è€ƒè™‘é”é¢‘ç»„ä»¶å’Œä¸»å±ç»„ä»¶ä¸æ˜¯ä¸€å¥—é€»è¾‘ï¼Œå¹¶ä¸äº’é€šï¼Œä½†æ˜¯é€šè¿‡æŸ¥çœ‹ Xcode Beta ç‰ˆæœ¬çš„ä»£ç ï¼Œæ²¡æœ‰çœ‹åˆ°ç›¸å…³çº¿ç´¢ï¼Œä¸è¿‡ WWDC ä¹Ÿæåˆ°äº†ï¼Œä¸€äº›åŠŸèƒ½åœ¨åç»­ä¼šä»¥ API çš„å½¢å¼åƒå¼€å‘è€…æä¾›ã€‚&lt;/p&gt;
&lt;p&gt;&amp;lt;img src=&amp;quot;&lt;span class=&#34;exturl&#34; data-url=&#34;aHR0cHM6Ly9jZG4uY2RuanNvbi5jb20vdHZhMS5zaW5haW1nLmNuL2xhcmdlL2U2YzlkMjRlZ3kxaDM0MnR5bThndGoyMGk2MTMwNzdoLmpwZw==&#34;&gt;https://cdn.cdnjson.com/tva1.sinaimg.cn/large/e6c9d24egy1h342tym8gtj20i613077h.jpg&lt;/span&gt;&amp;quot; alt=&amp;quot;image#266px #571px&amp;quot; style=&amp;quot;zoom:50%;&amp;quot; /&amp;gt;&lt;/p&gt;
&lt;h2 id=&#34;é”å±é€šçŸ¥&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#é”å±é€šçŸ¥&#34;&gt;#&lt;/a&gt; é”å±é€šçŸ¥&lt;/h2&gt;
&lt;p&gt;iOS16 è°ƒæ•´äº†é”å±çš„æ ·å¼ï¼Œå¢åŠ äº†é”å±ç•Œé¢æ‰€å±•ç¤ºçš„ä¿¡æ¯å’Œäº¤äº’ï¼Œæ‰€ä»¥å¸Œæœ›é”å±ç•Œé¢ä¸è¦è¢«å¤§é‡çš„é€šçŸ¥é®æŒ¡ï¼Œå› æ­¤ä»æ–°è°ƒæ•´äº†é€šçŸ¥æ¨é€çš„ä½ç½®å’Œå‡ºç°åŠ¨ç”»ã€‚iOS16 ä¹‹å‰ï¼šé€šçŸ¥é“ºæ»¡é”å±ï¼ŒåŒæ—¶æ–°çš„é€šçŸ¥ä¼šæ’åˆ°åˆ°æœ€ä¸Šé¢ã€‚ä»ä¸Šå¾€ä¸‹ä¾æ¬¡æ’åˆ—ã€‚iOS16 ä¹‹åï¼šé”å±åŒºåŸŸè¢«é™å®šåœ¨åº•éƒ¨ä¸€å°å—åŒºåŸŸï¼Œæ–°æ¥çš„é€šçŸ¥ä¼šæ’åˆ°ç¬¬ä¸€å±‚ï¼Œä½†æ˜¯é»˜è®¤åªå±•ç¤º 3 ä¸ªï¼ˆå æ”¾çš„å½¢å¼ï¼‰ï¼Œæƒ³çœ‹æ›´å¤šçš„è¯è·Ÿä¹‹å‰ä¸€æ ·ï¼Œä¸Šæ‹‰å³å¯ã€‚ä»»ä½•æ–°å¢çš„é€šçŸ¥ï¼ŒåŒ…æ‹¬å¸¸é©»çš„éŸ³ä¹æ’­æ”¾è°ƒéƒ½æ˜¯ä»ä¸‹å¾€ä¸Šå¢é•¿ï¼Œé€šçŸ¥å¢é•¿åˆ°ä¸€å®šé«˜åº¦å°±ä¼šå¼€å§‹æŠ˜å ï¼Œè¿™æ ·çš„å¥½å¤„å°±æ˜¯å¯ä»¥ç»™é”å±ç•™å‡ºç©ºé—´ï¼Œä¸è‡³äºè¢«å æ»¡ã€‚&lt;/p&gt;
&lt;p&gt;è¿™æ ·çš„ä¿®æ”¹ç¡®å®å¯ä»¥è®©é”å±ç•Œé¢çœ‹çš„æ›´æ•´æ´ï¼Œä¸”èƒ½è®©ç”¨æˆ·çœ‹åˆ°è‡ªå·±å–œæ¬¢çš„é”å±ç”»é¢ï¼Œä½†æ˜¯å¸¦æ¥ä¸€ä¸ªé—®é¢˜æ˜¯ç”¨æˆ·æƒ³è¦æŸ¥çœ‹é€šçŸ¥å†…å®¹æ—¶å€™éœ€è¦å¤šåšä¸€æ­¥ä¸Šæ‹‰çš„æ“ä½œï¼Œå¯èƒ½ä¼šç¨å¾®å½±å“åˆ° Push çš„æ•ˆæœï¼Œæ¯”å¦‚ç‚¹å‡»ç‡ä¹‹ç±»çš„æŒ‡æ ‡ã€‚&lt;/p&gt;
&lt;p&gt;&lt;img data-src=&#34;https://cdn.cdnjson.com/tva1.sinaimg.cn/large/e6c9d24egy1h3432t13nsg207m0go7wr.gif&#34; alt=&#34;image&#34; /&gt;&lt;/p&gt;
&lt;h2 id=&#34;live-activities&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#live-activities&#34;&gt;#&lt;/a&gt; Live Activities&lt;/h2&gt;
&lt;p&gt;ä¸Šé¢è¯´çš„è‹¹æœå¼±åŒ–äº†é€šçŸ¥å±•ç¤ºçš„æ ·å¼ï¼Œé»˜è®¤é‡‡ç”¨äº†æŠ˜å ç­–ç•¥ç»™é”å±ç•™å‡ºäº†æ›´å¤§çš„ç©ºé—´ï¼Œä½†æ˜¯ä¸ºäº†è®©ç”¨æˆ·å®æ—¶çš„è¿½è¸ªæƒ³è¦çš„ä¿¡æ¯ä¾¿æ¨å‡ºäº†  &lt;code&gt;Live Activities&lt;/code&gt;  ã€‚è¯¥æ§ä»¶å¯ä»¥å¸¸é©»åœ¨é”å±ç•Œé¢ï¼Œä¸”èƒ½å¤Ÿå®æ—¶åˆ·æ›´æ–°çš„ä¸€ä¸ª UI æ§ä»¶ï¼Œ&lt;/p&gt;
&lt;p&gt;&lt;img data-src=&#34;https://cdn.cdnjson.com/tva1.sinaimg.cn/large/e6c9d24egy1h342tq7i9qj214g0mg3zz.jpg&#34; alt=&#34;image&#34; /&gt;&lt;/p&gt;
&lt;p&gt;WWDC ä¸Šä¸¾äº†ä¸€ä¸ªæ°å½“çš„ä¾‹å­ï¼Œæ¯”å¦‚æˆ‘åœ¨è¿½è¸ªä¸€åœºæ¯”èµ›ï¼Œæˆ‘éœ€è¦çŸ¥é“å®æ—¶çš„æ¯”åˆ†ä¿¡æ¯ï¼Œä½†æ˜¯åˆä¸æ–¹ä¾¿æ‹¿ç€æ‰‹æœº app è§‚çœ‹ç›´æ’­ï¼Œæ‰€ä»¥æ”¯æŒäº†  &lt;code&gt;Live Activities&lt;/code&gt;  èƒ½åŠ›çš„ App å¯ä»¥å†é”å±ç•Œé¢æ¥å®æ—¶å±•ç¤ºæ¯”èµ›ä¿¡æ¯ï¼ŒåŒæ—¶ä¸éœ€è¦è§£é”å±å¹•ï¼Œè¿˜æœ‰ä¼˜æ­¥çš„ä¿¡æ¯ã€‚&lt;/p&gt;
&lt;p&gt;&amp;lt;img src=&amp;quot;&lt;span class=&#34;exturl&#34; data-url=&#34;aHR0cHM6Ly9jZG4uY2RuanNvbi5jb20vdHZhMS5zaW5haW1nLmNuL2xhcmdlL2U2YzlkMjRlZ3kxaDM0MzMxbGNyM2oyMHdjMG13bjFnLmpwZw==&#34;&gt;https://cdn.cdnjson.com/tva1.sinaimg.cn/large/e6c9d24egy1h34331lcr3j20wc0mwn1g.jpg&lt;/span&gt;&amp;quot; alt=&amp;quot;image#321px #227px&amp;quot; style=&amp;quot;zoom: 33%;&amp;quot; /&amp;gt;&amp;lt;img src=&amp;quot;&lt;span class=&#34;exturl&#34; data-url=&#34;aHR0cHM6Ly9jZG4uY2RuanNvbi5jb20vdHZhMS5zaW5haW1nLmNuL2xhcmdlL2U2YzlkMjRlZ3kxaDM0MzM3NWh2ZWoyMHc2MG0wanZhLmpwZw==&#34;&gt;https://cdn.cdnjson.com/tva1.sinaimg.cn/large/e6c9d24egy1h343375hvej20w60m0jva.jpg&lt;/span&gt;&amp;quot; alt=&amp;quot;image#334px #228px&amp;quot; style=&amp;quot;zoom: 35%;&amp;quot; /&amp;gt;&lt;/p&gt;
&lt;p&gt;è¿™æœ‰ç‚¹ç±»ä¼¼äºé”å±çš„éŸ³ä¹æ’­æ”¾æ¡ã€‚åŒæ—¶ IOS16 é’ˆå¯¹éŸ³ä¹æ’­æ”¾è°ƒç•Œé¢ä¹Ÿåš UI ä¼˜åŒ–ï¼Œå¯ä»¥é€šè¿‡ç‚¹å‡»æ¥å®ç°å°é¢å›¾å±•å¼€ï¼ŒåŒæ—¶èƒŒæ™¯è®¾ç½®ä¸ºå°é¢çš„é­”æ³•è‰²ï¼Œå®ç°å…¨å±æ²‰æµ¸å¼æ’­æ”¾ã€‚ä½†æ˜¯ç¬”è€…å®æµ‹æ—¶å€™å¹¶æœªåœ¨ beta ç‰ˆä¸ŠæˆåŠŸä½¿ç”¨è¯¥åŠŸèƒ½ï¼ŒSDK ä¸­ä¹Ÿæ²¡æœ‰çœ‹åˆ°ç›¸å…³ä»£ç ã€‚åº”è¯¥æ˜¯åœ¨åç»­çš„ç‰ˆæœ¬å¼€æ”¾æ›´æ–°ã€‚&lt;/p&gt;
&lt;p&gt;&amp;lt;img src=&amp;quot;&lt;span class=&#34;exturl&#34; data-url=&#34;aHR0cHM6Ly9jZG4uY2RuanNvbi5jb20vdHZhMS5zaW5haW1nLmNuL2xhcmdlL2U2YzlkMjRlZ3kxaDM0MzVsb3c4Z2oyMGhrMHhlNDFqLmpwZw==&#34;&gt;https://cdn.cdnjson.com/tva1.sinaimg.cn/large/e6c9d24egy1h3435low8gj20hk0xe41j.jpg&lt;/span&gt;&amp;quot; alt=&amp;quot;image#305px #580px&amp;quot; style=&amp;quot;zoom:50%;&amp;quot; /&amp;gt;&lt;/p&gt;
&lt;h2 id=&#34;ä¸“æ³¨æ¨¡å¼&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#ä¸“æ³¨æ¨¡å¼&#34;&gt;#&lt;/a&gt; ä¸“æ³¨æ¨¡å¼&lt;/h2&gt;
&lt;p&gt;è‹¹æœå»å¹´æ¨å‡ºäº†  &lt;code&gt;ä¸“æ³¨æ¨¡å¼&lt;/code&gt;  ï¼Œä½†æ˜¯ä¸“æ³¨æ¨¡å¼çš„åˆ‡æ¢éœ€è¦åˆ°æ§åˆ¶ä¸­å¿ƒï¼Œæˆ–è€…è®¾ç½®èœå•ä¸­è¿›è¡Œåˆ‡æ¢ï¼Œéšè—è¾ƒæ·±ï¼Œåœ¨è¿™æ¬¡çš„ iOS16 ä¸­ï¼Œè‹¹æœå°†ä¸“æ³¨æ¨¡å¼å’Œé”å®šå±å¹•ç»‘å®šèµ·æ¥ï¼Œä¹Ÿå°±æ˜¯å®ç°ä¸“æ³¨æ¨¡å¼å’Œé”å®šå±å¹•  &lt;code&gt;ä¸€ä¸€å¯¹åº”&lt;/code&gt;  çš„å…³ç³»ï¼Œä¸€ä¸ªé”å±å¯¹åº”ä¸€å¥—é”å±ç»„ä»¶å’Œä¸€ä¸ªä¸“æ³¨æ¨¡å¼ã€‚&lt;/p&gt;
&lt;p&gt;æ¯”å¦‚æˆ‘ä¸‹å›¾ä¸­ä¸¤ä¸ªé”å®šå±å¹•åˆ†åˆ«å¯¹åº”ä¸¤ç§æ¨¡å¼ï¼Œå·¥ä½œæ¨¡å¼å¯ä»¥è®¾ç½®åªæ¥å—æŸäº› App çš„æ¨é€ï¼ˆæ¯”å¦‚ä¼ä¸šå¾®ä¿¡ã€‚WeSing ç­‰ï¼‰ï¼Œå¿½ç•¥æŸäº›ä¸é‡è¦çš„é€šçŸ¥ã€‚å³è¾¹çš„æ¸¸æˆæ¨¡å¼å¯ä»¥å§æ¯”è¾ƒå…³æ³¨çš„ç”µé‡ä¿¡æ¯æ”¾åˆ°é”å±ï¼ŒåŒæ—¶å±è”½é€šçŸ¥é¿å…æ¸¸æˆè¯¯æ“ä½œã€‚å…³é”®æ˜¯åœ¨ iOS16 ä¸Šä¸¤ç§æ¨¡å¼çš„åˆ‡æ¢åªè¦åœ¨é”å±ä¸Šé•¿æŒ‰å°±å¯ä»¥è¿›è¡Œæ›´æ”¹ï¼Œæ–¹ä¾¿å¾ˆå¤šã€‚&lt;/p&gt;
&lt;p&gt;&amp;lt;img src=&amp;quot;&lt;span class=&#34;exturl&#34; data-url=&#34;aHR0cHM6Ly9jZG4uY2RuanNvbi5jb20vdHZhMS5zaW5haW1nLmNuL2xhcmdlL2U2YzlkMjRlZ3kxaDM0MzV0a3QxZWoyMGcyMHpnYWQxLmpwZw==&#34;&gt;https://cdn.cdnjson.com/tva1.sinaimg.cn/large/e6c9d24egy1h3435tkt1ej20g20zgad1.jpg&lt;/span&gt;&amp;quot; alt=&amp;quot;image#337px #744px&amp;quot; style=&amp;quot;zoom:50%;&amp;quot; /&amp;gt;&lt;/p&gt;
&lt;h1 id=&#34;ä¿¡æ¯app&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#ä¿¡æ¯app&#34;&gt;#&lt;/a&gt; ä¿¡æ¯ App&lt;/h1&gt;
&lt;h2 id=&#34;æ¶ˆæ¯ç¼–è¾‘&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#æ¶ˆæ¯ç¼–è¾‘&#34;&gt;#&lt;/a&gt; æ¶ˆæ¯ç¼–è¾‘&lt;/h2&gt;
&lt;p&gt;æ ¹æ® WWDC çš„æè¿°ï¼Œä¿¡æ¯ App å¸¦æ¥çš„ä¸‰ä¸ªå‘¼å£°æœ€é«˜çš„åŠŸèƒ½ï¼ˆåº”è¯¥æ˜¯å›½å¤–ç”¨æˆ·ï¼‰&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;åŠ¨æ€ç¼–è¾‘ä¿¡æ¯ï¼šå¯¹äºå·²ç»å‘é€å‡ºå»çš„ä¿¡æ¯ï¼Œå¦‚æœå‘ç°é”™åˆ«å­—ï¼Œå¯ä»¥ç›´æ¥åœ¨è‡ªå·±åˆšåˆšå‘é€çš„å¯¹è¯æ°”æ³¡ä¸Šè¿›è¡Œä¿®æ”¹ï¼Œåƒè¿™æ ·ï¼Œå°±ä¸éœ€è¦å†æ’¤å›ç„¶åé‡æ–°è¾‘åå‘é€ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;img data-src=&#34;https://cdn.cdnjson.com/tva1.sinaimg.cn/large/e6c9d24egy1h3436v6e47g20go080e86.gif&#34; alt=&#34;image&#34; /&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;æ ‡è®°æœªè¯»ï¼ˆå›½å†…ç©è…»äº†çš„ï¼‰&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;æ¶ˆæ¯æ’¤å›ï¼ˆå›½å†…ç©è…»äº†çš„ï¼‰&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&#34;shareapi&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#shareapi&#34;&gt;#&lt;/a&gt; ShareApi&lt;/h2&gt;
&lt;p&gt;iOS15 ä¸­æåˆ°äº†  &lt;code&gt;SharePlay&lt;/code&gt;  çš„èƒ½åŠ›ï¼Œä½†æ˜¯å½“æ—¶è¯¥èƒ½åŠ›å¿…é¡»åŸºäº FaceTimeã€‚åœ¨ iOS16 ä¸­ï¼Œè¯¥èƒ½åŠ›å·²ç»æ‰©å±•çš„ä¿¡æ¯ App ä¸­ã€‚ç¬”è€…è®¤ä¸ºï¼Œ  &lt;code&gt;SharePlay&lt;/code&gt;  çš„èƒ½åŠ›åç»­ä¼šå½¢æˆå¥—å•ç‹¬çš„ SDKï¼ˆç±»ä¼¼äº AirPlay çš„ SDKï¼‰ï¼Œä¾›ç¬¬ä¸‰æ–¹ App æ¥å…¥ï¼Œä¸”ä¸ä¾èµ– Facetim å’Œä¿¡æ¯ç­‰ç³»ç»Ÿ Appã€‚è¿™å¯¹äºéŸ³è§†é¢‘çš„ App æ˜¯æœ‰æ¯”è¾ƒå¤§çš„å¸®åŠ©ï¼Œå¯ä»¥ä¸€èµ·å¬æ­Œã€çœ‹è§†é¢‘ã€‚ä½†æ˜¯å¯¹äºç‰ˆæƒçš„ç®¡ç†è¦æ›´ä¸ºä¸¥æ ¼ã€‚&lt;/p&gt;
&lt;p&gt;&amp;lt;img src=&amp;quot;&lt;span class=&#34;exturl&#34; data-url=&#34;aHR0cHM6Ly9jZG4uY2RuanNvbi5jb20vdHZhMS5zaW5haW1nLmNuL2xhcmdlL2U2YzlkMjRlZ3kxaDM3cmhidXc2Y2oyMGkyMGx3YWJ3LmpwZw==&#34;&gt;https://cdn.cdnjson.com/tva1.sinaimg.cn/large/e6c9d24egy1h37rhbuw6cj20i20lwabw.jpg&lt;/span&gt;&amp;quot; alt=&amp;quot;image#389px #472px&amp;quot; style=&amp;quot;zoom:50%;&amp;quot; /&amp;gt;&lt;/p&gt;
&lt;h1 id=&#34;è¯­éŸ³è¾“å…¥&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#è¯­éŸ³è¾“å…¥&#34;&gt;#&lt;/a&gt; è¯­éŸ³è¾“å…¥&lt;/h1&gt;
&lt;p&gt;è‹¹æœåœ¨å¾ˆæ—©çš„ç‰ˆæœ¬å°±æ”¯æŒè¯­éŸ³è¾“å…¥ï¼Œä½†æ˜¯æœ‰ä¸€ä¸ªå¼Šç«¯å°±æ˜¯è¯­éŸ³è¾“å…¥å’Œé”®ç›˜è¾“å…¥æ˜¯ä¸¤ä¸ªç‹¬ç«‹çš„è¿‡ç¨‹ã€‚è€Œåœ¨ iOS16 ä¸­è¾“å…¥æ–‡æœ¬æ—¶ï¼Œå¯åœ¨è¯­éŸ³å’Œè§¦æ§è¿™ä¸¤ç§æ–¹å¼é—´æ— ç¼åˆ‡æ¢ã€‚æ— éœ€ä¸­æ–­å¬å†™ï¼Œç…§æ ·å¯ç”¨é”®ç›˜æ‰“å­—ã€è½»ç‚¹æ–‡æœ¬æ ã€ç§»åŠ¨å…‰æ ‡ï¼Œæˆ–æ’å…¥å¿«é€Ÿè¾“å…¥å»ºè®®ã€‚&lt;br /&gt;
&lt;img data-src=&#34;https://cdn.cdnjson.com/tva1.sinaimg.cn/large/e6c9d24egy1h37rautdseg20go080e89.gif&#34; alt=&#34;image&#34; /&gt;&lt;/p&gt;
&lt;h1 id=&#34;coreml&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#coreml&#34;&gt;#&lt;/a&gt; CoreML&lt;/h1&gt;
&lt;h2 id=&#34;livetext&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#livetext&#34;&gt;#&lt;/a&gt; LiveText&lt;/h2&gt;
&lt;p&gt;CoreML æ˜¯è‹¹æœæ—©æœŸå‘å¸ƒçš„æœºå‹å­¦ä¹  APIï¼Œé€šè¿‡ä»–å¯è®­ç»ƒä¸€äº›äººå·¥æ™ºèƒ½ç›¸å…³çš„ä¸œè¥¿ï¼Œå…¶ä¸­ iOS15 æ¨å‡ºçš„  &lt;code&gt;LiveText&lt;/code&gt;  ä¾¿æ˜¯å…¶ä¸­ä¹‹ä¸€ï¼Œä»–å¯ä»¥è®©æˆ‘ä»¬å¯¹å›¾ç‰‡é‡Œé¢çš„ä¸€äº›æ–‡å­—åšæå–æ“ä½œï¼Œåœ¨ iOS16 ä¸­ï¼Œapple å¢å¼ºäº†  &lt;code&gt;LiveText&lt;/code&gt;  çš„èƒ½åŠ›ï¼Œé™¤äº†é™æ€å›¾ç‰‡ï¼Œè¿˜åŠ å…¥äº†è§†é¢‘å¸§çš„æ”¯æŒã€‚  &lt;code&gt;Live Text in Video&lt;/code&gt;  , æ ¹æ® WWDC çš„æè¿°ï¼Œåœ¨æ’­æ”¾è§†é¢‘çš„æ—¶å€™è¿›è¡Œæš‚åœï¼Œä¾¿å¯ä»¥æå–å½“å‰å¸§ä¸Šçš„æ–‡å­—å†…å®¹ã€‚&lt;/p&gt;
&lt;p&gt;&lt;img data-src=&#34;https://cdn.cdnjson.com/tva1.sinaimg.cn/large/e6c9d24egy1h37rfclnkvj21mp0u0dkd.jpg&#34; alt=&#34;image&#34; /&gt;&lt;/p&gt;
&lt;p&gt;é€‰ä¸­åé™¤äº†å¯¹æ–‡å­—è¿›è¡Œå¤åˆ¶æ“ä½œå¤–ï¼ŒiOS16 è¿˜æä¾›äº†ä¸€äº›å…¶ä»–çš„å¿«æ·åŠŸèƒ½ï¼Œå…¶ä¸­åŒ…æ‹¬æ±‡ç‡è½¬æ¢ã€ç¿»è¯‘ã€‚æ›´é‡è¦çš„æ˜¯ï¼Œå®å†µæ–‡æœ¬çš„ API å·²ç»å¼€å‘ç»™å¼€å‘è€…ä½¿ç”¨ï¼Œå¾ˆå¿«æˆ‘ä»¬å°±èƒ½ä» app çš„ç…§ç‰‡å’Œè§†é¢‘ä¸­æå–ç›¸å…³çš„æ–‡å­—ä¿¡æ¯ã€‚&lt;/p&gt;
&lt;h2 id=&#34;visual-look-up&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#visual-look-up&#34;&gt;#&lt;/a&gt; Visual Look Up&lt;/h2&gt;
&lt;p&gt;ä¹Ÿæ˜¯è‹¹æœä¹‹å‰åŸºäºæœºå™¨å­¦ä¹ æä¾›çš„ä¸€ä¸ªèƒ½åŠ›ï¼Œå¯ä»¥æ£€æµ‹ç…§ç‰‡ä¸­çš„ç‰©ä½“ï¼Œæ¥è¯†åˆ«æ˜¯ä»€ä¹ˆä¸œè¥¿ï¼Œåœ¨ iOS16 ä¸­ï¼Œè¯¥èƒ½åŠ›è¢«å¤§å¹…åŠ å¼ºï¼ŒåŒæ—¶é›†æˆåˆ°äº†ç…§ç‰‡ App ä¸­ã€‚ç”¨æˆ·å¯ä»¥æ‰“å¼€ä¸€ä¸ªç…§ç‰‡ï¼Œé€šè¿‡é•¿æŒ‰ï¼ŒæŠŠç…§ç‰‡ä¸»ä½“æ‹–åŠ¨å‡ºæ¥åˆ°ç›¸åº”çš„ App ä¸­ã€‚ï¼ˆæ‹–å‡ºçš„å›¾ç‰‡ä¸º png å›¾ç‰‡ï¼‰&lt;/p&gt;
&lt;p&gt;&lt;img data-src=&#34;https://cdn.cdnjson.com/tva1.sinaimg.cn/large/e6c9d24egy1h3437xq1cag207n0gnkk7.gif&#34; alt=&#34;image&#34; /&gt;&lt;/p&gt;
&lt;p&gt;è¯¥èƒ½åŠ›å·²ç»æä¾›ç‹¬ç«‹çš„ APIï¼Œç›®å‰çš„ Apple çš„  &lt;code&gt;å¯ç«‹æ‹&lt;/code&gt;   App é‡Œé¢å°† Core ML çš„èƒ½åŠ›è¿ç”¨åˆ°è§†é¢‘å¤„ç†ä¸­ï¼Œå¤§å®¶å¯ä»¥ä¸‹è½½ä½“éªŒã€‚&lt;/p&gt;
&lt;h1 id=&#34;apple-pay&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#apple-pay&#34;&gt;#&lt;/a&gt; Apple Pay&lt;/h1&gt;
&lt;h2 id=&#34;apple-pay-later&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#apple-pay-later&#34;&gt;#&lt;/a&gt; Apple pay later&lt;/h2&gt;
&lt;p&gt;ç±»ä¼¼äºå›½å†…çš„äº¬ä¸œç™½æ¡ã€èš‚èšèŠ±å‘—ï¼Œä¸åŒçš„æ˜¯   &lt;code&gt;Apple pay later&lt;/code&gt;   åªæä¾› 4 å‘¨æˆ–è€… 6 å‘¨çš„åˆ†æœŸè¿˜æ¬¾ï¼Œä¸”æ— æ¯ã€‚&lt;/p&gt;
&lt;h2 id=&#34;é’¥åŒ™å…±äº«&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#é’¥åŒ™å…±äº«&#34;&gt;#&lt;/a&gt; é’¥åŒ™å…±äº«&lt;/h2&gt;
&lt;p&gt;é€šè¿‡å¸¸ç”¨çš„é€šè®¯ç±» appï¼Œå®‰å…¨åœ°å…±äº«é’±åŒ… app ä¸­çš„é’¥åŒ™ï¼ˆæ™ºèƒ½å®¶å±…é’¥åŒ™ï¼Œæ±½è½¦é’¥åŒ™ç­‰ï¼‰ã€‚ä½ å¯ä»¥å†³å®šé’¥åŒ™çš„ä½¿ç”¨åœ°ç‚¹å’Œæ—¶é—´ï¼Œå¹¶èƒ½éšæ—¶æ’¤é”€ã€‚&lt;/p&gt;
&lt;h2 id=&#34;è¿½è¸ªè®¢å•&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#è¿½è¸ªè®¢å•&#34;&gt;#&lt;/a&gt; è¿½è¸ªè®¢å•&lt;/h2&gt;
&lt;p&gt;å¯ä»¥æŸ¥çœ‹ç¥¨æ®ï¼Œè¿˜èƒ½ç›´æ¥åœ¨é’±åŒ… app ä¸­è¿½è¸ªä½ çš„ Apple Pay è®¢å•ã€‚å•†æˆ·å¯ä»¥å°†è®¢å•çš„ç›¸ç»­ä¿¡æ¯æ¨é€åˆ°æ¶ˆè´¹è€…çš„é’±åŒ…é‡Œ&lt;/p&gt;
&lt;p&gt;&amp;lt;img src=&amp;quot;&lt;span class=&#34;exturl&#34; data-url=&#34;aHR0cHM6Ly9jZG4uY2RuanNvbi5jb20vdHZhMS5zaW5haW1nLmNuL2xhcmdlL2U2YzlkMjRlZ3kxaDM0MzhlcnF1ZmoyMGVnMHNrZ243LmpwZw==&#34;&gt;https://cdn.cdnjson.com/tva1.sinaimg.cn/large/e6c9d24egy1h3438erqufj20eg0skgn7.jpg&lt;/span&gt;&amp;quot; alt=&amp;quot;image#304px #601px&amp;quot; style=&amp;quot;zoom:50%;&amp;quot; /&amp;gt;&lt;/p&gt;
&lt;h1 id=&#34;apple-map&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#apple-map&#34;&gt;#&lt;/a&gt; Apple Map&lt;/h1&gt;
&lt;h2 id=&#34;å¢åŠ é€”ç»ç‚¹è§„åˆ’&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#å¢åŠ é€”ç»ç‚¹è§„åˆ’&#34;&gt;#&lt;/a&gt; å¢åŠ é€”ç»ç‚¹è§„åˆ’&lt;/h2&gt;
&lt;p&gt;å›½å†…é«˜å¾·ç™¾åº¦å·²ç»ç©äº†å¾ˆä¹…çš„åŠŸèƒ½ï¼Œåœ¨å¯¼èˆªçš„æ—¶å€™å¯ä»¥åœ¨èµ·ç‚¹å’Œç»ˆç‚¹ä¹‹é—´å¢åŠ é€”ç»ç‚¹ã€‚å¿«è½¦é¡ºé£è½¦ç»å¸¸è¦ç”¨çš„åŠŸèƒ½ã€‚&lt;/p&gt;
&lt;p&gt;&amp;lt;img src=&amp;quot;&lt;span class=&#34;exturl&#34; data-url=&#34;aHR0cHM6Ly9jZG4uY2RuanNvbi5jb20vdHZhMS5zaW5haW1nLmNuL2xhcmdlL2U2YzlkMjRlZ3kxaDM0MzhzZjJlZ2oyMGR5MHQwbjA4LmpwZw==&#34;&gt;https://cdn.cdnjson.com/tva1.sinaimg.cn/large/e6c9d24egy1h3438sf2egj20dy0t0n08.jpg&lt;/span&gt;&amp;quot; alt=&amp;quot;image#297px #618px&amp;quot; style=&amp;quot;zoom:50%;&amp;quot; /&amp;gt;&lt;/p&gt;
&lt;h2 id=&#34;å®æ—¶å…¬äº¤ä¿¡æ¯&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#å®æ—¶å…¬äº¤ä¿¡æ¯&#34;&gt;#&lt;/a&gt; å®æ—¶å…¬äº¤ä¿¡æ¯&lt;/h2&gt;
&lt;p&gt;å¯ä»¥æŸ¥çœ‹å…¬äº¤å‡ºè¡Œçš„å…¬äº¤ä¿¡æ¯ï¼ŒåŒ…æ‹¬å…¬äº¤æ—¶é—´ï¼Œå…¬äº¤çº¿è·¯ï¼Œå…¬äº¤ä»·æ ¼ç­‰ï¼ŒåŒæ ·ä¹Ÿæ˜¯å›½å†…ä½¿ç”¨äº†å¾ˆä¹…çš„èƒ½åŠ›ã€‚&lt;/p&gt;
&lt;h2 id=&#34;å…±äº«äº¤é€šå·¥å…·æŸ¥çœ‹&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#å…±äº«äº¤é€šå·¥å…·æŸ¥çœ‹&#34;&gt;#&lt;/a&gt; å…±äº«äº¤é€šå·¥å…·æŸ¥çœ‹&lt;/h2&gt;
&lt;p&gt;å¯ä»¥åœ¨åœ°å›¾ä¸Šçœ‹åˆ°é™„è¿‘çš„å…±äº«æ±½è½¦ã€å…±äº«æ»‘æ¿è½¦ã€å…±äº«å•è½¦ç­‰ã€‚åŒæ ·ä¹Ÿæ˜¯å›½èƒ½å¾ˆå¤šå…±äº«å•è½¦å‚å•†å®ç°äº†çš„èƒ½åŠ›ã€‚&lt;/p&gt;
&lt;p&gt;&amp;lt;img src=&amp;quot;&lt;span class=&#34;exturl&#34; data-url=&#34;aHR0cHM6Ly9jZG4uY2RuanNvbi5jb20vdHZhMS5zaW5haW1nLmNuL2xhcmdlL2U2YzlkMjRlZ3kxaDM0MzliM21lb2oyMGhxMHcwNzZxLmpwZw==&#34;&gt;https://cdn.cdnjson.com/tva1.sinaimg.cn/large/e6c9d24egy1h3439b3meoj20hq0w076q.jpg&lt;/span&gt;&amp;quot; alt=&amp;quot;image#307px #554px&amp;quot; style=&amp;quot;zoom:50%;&amp;quot; /&amp;gt;&lt;/p&gt;
&lt;h1 id=&#34;apple-tv-amp-apple-news&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#apple-tv-amp-apple-news&#34;&gt;#&lt;/a&gt; Apple TV &amp;amp;amp; Apple News&lt;/h1&gt;
&lt;p&gt;Apple TV å’Œ Apple News æ˜¯ä¸¤ä¸ªä¸åŒçš„ä¸œè¥¿ï¼Œä¹‹æ‰€ä»¥æ”¾åˆ°ä¸€èµ·è¯´æ˜¯å› ä¸ºä»–ä»¬åœ¨ iOS16 ä¸­æä¾›äº†ç›¸åŒçš„èƒ½åŠ›ï¼Œéƒ½æ–°å¢äº†ä½“è‚²æ¿å—ï¼Œå¯ä»¥æ¯å‘¨å…è´¹è§‚çœ‹ä¸¤åœºæ¯”èµ›ï¼ŒåŒæ—¶å¯ä»¥å’Œ iPhone è”åŠ¨ï¼Œåœ¨é”å±ä¸Šå±•ç¤º   &lt;code&gt;Live Activities&lt;/code&gt;&lt;/p&gt;
&lt;h1 id=&#34;å®¶é•¿æ§åˆ¶&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#å®¶é•¿æ§åˆ¶&#34;&gt;#&lt;/a&gt; å®¶é•¿æ§åˆ¶&lt;/h1&gt;
&lt;p&gt;å®¶é•¿æ§åˆ¶çš„ç²’åº¦æ›´ç»†ï¼Œé™¤äº†æ˜¯å¦å¯ä»¥å¯åŠ¨æŸä¸ª Appï¼Œè¿˜å¯ä»¥è¯¦ç»†æ§åˆ¶æŸä¸ª App çš„æƒé™ï¼Œæ¯”å¦‚ç¦æ­¢æŸä¸ª App è®¿é—®æ‘„åƒå¤´æƒé™ï¼Œæ¥é¿å…å„¿ç«¥è‰²æƒ…çš„é—®é¢˜ã€‚ä¹‹åçš„å¼€å‘è€…å¯èƒ½è¦åœ¨æƒé™æ§åˆ¶è¿™é‡Œåšé¢å¤–çš„åˆ¤æ–­ã€‚é™¤äº†å…è®¸ã€æ‹’ç»ã€æœªå†³å®šå¤–ï¼Œæ–°å¢äº†å®¶é•¿æ§åˆ¶çš„æšä¸¾æ¡ä»¶ã€‚&lt;/p&gt;
&lt;h1 id=&#34;homekit&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#homekit&#34;&gt;#&lt;/a&gt; HomeKit&lt;/h1&gt;
&lt;p&gt;æ¥å…¥äº†æ›´å¤šæ™ºèƒ½å®¶å±…å“ç‰Œã€‚åŒæ—¶å’Œå…¶ä»–ä¸»æµå“ç‰Œä¸€èµ·åœ¨ HomeKit çš„åŸºç¡€ä¸Šåˆ›ç«‹äº†æ–°çš„æ™ºèƒ½å®¶å±…åè®®æ ‡å‡†   &lt;code&gt;matter&lt;/code&gt;  ã€‚å¯ä»¥è®©æ™ºèƒ½å®¶å±…è·¨å¹³å°ååŒæ“ä½œã€‚ç›®å‰å·²ç»æœ‰ä¸€éƒ¨åˆ†å‚å•†æ”¯æŒäº†   &lt;code&gt;matter&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;&lt;img data-src=&#34;https://cdn.cdnjson.com/tva1.sinaimg.cn/large/e6c9d24egy1h3439rmf5bj21sq0sqtcw.jpg&#34; alt=&#34;image&#34; /&gt;&lt;/p&gt;
&lt;h1 id=&#34;crarplay&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#crarplay&#34;&gt;#&lt;/a&gt; CrarPlay&lt;/h1&gt;
&lt;p&gt;è‹¹æœä¹Ÿçœ‹å‡ºäº†ç°åœ¨æ±½è½¦å‘å±•çš„è¶‹åŠ¿å°±æ˜¯å¤§å±å¹•ï¼Œè€Œä¸”ä¸€è¾†è½¦å¾€å¾€ä¸æ­¢ä¸€å—å±å¹•ï¼Œæ‰€ä»¥åœ¨ iOS16 ä¸Šï¼Œè‹¹æœé’ˆå¯¹è¿™ä¸ªç°è±¡é‡æ–°ä¼˜åŒ–äº† CraePlayï¼Œæ–°çš„ CarPlay ä¸ä»…ä»…å¯ä»¥é€šè¿‡è½¦æœºæ¥æ§åˆ¶ iPhoneï¼Œè¿˜å¯ä»¥é€šè¿‡ iPhone æ¥è®¾ç½®è½¦æœºçš„ä¸»é¢˜ã€‚ æ”¯æŒæ–° CarPlay çš„è½¦å‹å°†äº 2023 å¹´ä¸‹åŠå¹´ç”Ÿäº§ï¼Œå‰æœŸæ”¯æŒçš„è½¦å‹ä¸º&lt;/p&gt;
&lt;p&gt;&lt;img data-src=&#34;https://cdn.cdnjson.com/tva1.sinaimg.cn/large/e6c9d24egy1h343a6xc3bj21vm0tmtbn.jpg&#34; alt=&#34;image&#34; /&gt;&lt;/p&gt;
&lt;p&gt;&lt;code&gt;æ–°ä¸€ä»£ CarPlay è½¦è½½å°†å‡ºç±»æ‹”èƒçš„ iPhone ä½“éªŒå¸¦å…¥è½¦å†…ã€‚å®ƒå¯ä¸ºè½¦å†…æ‰€æœ‰çš„é©¾é©¶å‘˜å±å¹•æä¾›å†…å®¹ï¼ŒåŒ…æ‹¬ä»ªè¡¨ç›˜åœ¨å†…ï¼Œè®©ä½ çš„çˆ±è½¦å’Œ iPhone åœ¨ä½“éªŒä¸Šèä¸ºä¸€ä½“ã€‚è½¦è½½çš„æ”¶éŸ³æœºã€ç©ºè°ƒç­‰åŠŸèƒ½å¯ç›´æ¥é€šè¿‡ CarPlay è½¦è½½æ¥æ§åˆ¶ã€‚è€Œå¤šç§ä¸ªæ€§åŒ–é€‰é¡¹ï¼ŒåŒ…æ‹¬å°ç»„ä»¶ä»¥åŠç²¾é€‰çš„ä»ªè¡¨ç›˜è®¾è®¡ï¼Œæ›´å¸¦æ¥ç‹¬ç‰¹çš„é©¾é©¶ä½“éªŒã€‚&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;&lt;img data-src=&#34;https://cdn.cdnjson.com/tva1.sinaimg.cn/large/e6c9d24egy1h343ak4evxj221o0t60ya.jpg&#34; alt=&#34;&#34; /&gt;&lt;/p&gt;
&lt;h1 id=&#34;æ€»ç»“&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#æ€»ç»“&#34;&gt;#&lt;/a&gt; æ€»ç»“&lt;/h1&gt;
&lt;p&gt;ä»¥ä¸Šå°±æ˜¯ WWDC ä¸­å…³äº iOS çš„ç›¸å…³å†…å®¹ï¼Œç¬”è€…ç¬¬ä¸€æ—¶é—´æ›´æ–°äº† iOS16 çš„ Beta ç‰ˆæœ¬ï¼Œä½†ä¹Ÿé‡åˆ°ä¸€äº›é—®é¢˜&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;iOS16 å®˜æ–¹æœ€ä½æ”¯æŒåˆ° iPhone 8 ç³»åˆ—ï¼Œä½†æ˜¯ iPhone 8 æ›´æ–°åï¼Œå¾ˆå¤šåŠŸèƒ½æ— æ³•ä½¿ç”¨ï¼Œå»ºè®®ä½¿ç”¨ iPhoneXs ä»¥åŠä»¥ä¸Šæœºå‹ä½“éªŒã€‚&lt;/li&gt;
&lt;li&gt;WWDC ä¸­æåˆ°çš„å¤§éƒ¨åˆ†åŠŸèƒ½ç°åœ¨éƒ½æ— æ³•åœ¨ Beta1 ä¸­ä½“éªŒã€‚ä¸”æœ€æ–°çš„ XcodeBeta ä¸­ä¹Ÿæ²¡æœ‰ç›¸å…³çš„æ–° Apiï¼Œä¸è¿‡ WWDC ä¸Šä¹Ÿè¯´äº†ï¼ŒiOS16 ä¸Šçš„åŠŸèƒ½ä¼šåœ¨åç»­ç¨æ™šçš„æ—¶å€™ä»¥ API çš„å½¢å¼æä¾›ã€‚&lt;/li&gt;
&lt;li&gt;Beta1 è€—ç”µå‘çƒ­éå¸¸å¤¸å¼ ï¼Œå°¤å…¶æ˜¯åœ¨é”å±ç•Œé¢ã€‚å¯èƒ½è¿˜éœ€ç›¸å…³ä¼˜åŒ–ï¼Œç›®å‰æ‰‹æœºå¿…é¡»è¿ç€ç”µæºä½¿ç”¨ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;æ–‡ä¸­æåˆ°å¾—åˆ°ä¸€äº›åŠŸèƒ½æ›´æ–°è™½ç„¶å’Œå›½å†…å¼€å‘è€…å…³ç³»ä¸å¤§ï¼Œä½†æ˜¯æ¯•ç«Ÿéƒ½æ˜¯ä¸šåŠ¡å±‚é¢çš„ä¸œè¥¿ï¼Œåº•å±‚éƒ½æ˜¯é€šç”¨çš„ï¼Œæ¯•ç«ŸæŠ€æœ¯æ— å›½ç•Œï¼Œä¹Ÿå¸Œæœ›èƒ½å°†æ›´æ–°çš„æŠ€æœ¯ç”¨åˆ°è‡ªå·±çš„é¡¹ç›®ä¸­ï¼Œæé«˜ç”¨æˆ·çš„äº§å“ä½“éªŒï¼Œå‘ç”¨æˆ·å±•ç¤ºå‡ºæˆ‘ä»¬çš„ä¸“ä¸šèƒ½åŠ›å’Œåˆ›æ–°èƒ½åŠ›ã€‚å¸Œæœ›è¿™ç¯‡æ–‡ç« èƒ½å¯¹ iOS å¼€å‘è€…å’Œäº§å“åŒå­¦åœ¨åç»­çš„æŠ€æœ¯ã€äº§å“è§„åˆ’ä¸Šæœ‰ä¸€å®šçš„å¸®åŠ©ã€‚&lt;/p&gt;
 ]]></description>
        </item>
        <item>
            <guid isPermalink="true">https://oliverqueen.cn/2022-05-26-Apple%E7%99%BB%E5%BD%95%E6%B5%81%E7%A8%8B%E8%AF%A6%E8%A7%A3/</guid>
            <title>Appleç™»å½•æµç¨‹è¯¦è§£</title>
            <link>https://oliverqueen.cn/2022-05-26-Apple%E7%99%BB%E5%BD%95%E6%B5%81%E7%A8%8B%E8%AF%A6%E8%A7%A3/</link>
            <category>iOS</category>
            <category>Appleç™»å½•</category>
            <pubDate>Thu, 26 May 2022 10:53:20 +0800</pubDate>
            <description><![CDATA[ &lt;link rel=&#34;stylesheet&#34; class=&#34;aplayer-secondary-style-marker&#34; href=&#34;/assets/css/APlayer.min.css&#34;&gt;&lt;script src=&#34;/assets/js/APlayer.min.js&#34; class=&#34;aplayer-secondary-script-marker&#34;&gt;&lt;/script&gt;&lt;h2 id=&#34;1èƒŒæ™¯&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#1èƒŒæ™¯&#34;&gt;#&lt;/a&gt; 1ï¼šèƒŒæ™¯&lt;/h2&gt;
&lt;p&gt;2019 å¹´è‹¹æœæ¨å‡º è‹¹æœç™»å½•ï¼ˆSign in with Appleï¼‰æ–¹å¼ï¼Œè¦æ±‚ 2020 å¹´ 4 æœˆä¹‹åè¿è¡Œåœ¨ iOS13 åŠä»¥ä¸Šç³»ç»Ÿçš„ APP å¦‚æœä½¿ç”¨ç¬¬ä¸‰æ–¹æˆ–ç¤¾äº¤ç™»å½•æœåŠ¡ï¼ˆå¦‚ Facebookã€è°·æ­Œã€ Twitterã€Linkedln æˆ–äºšé©¬é€Šç­‰ï¼‰ï¼Œå¿…é¡»å‘ç”¨æˆ·æä¾› â€œä»¥è‹¹æœè´¦å·ç™»å½•â€ æœåŠ¡çš„é€‰é¡¹ã€‚å…¶ä¸­è‹¹æœçš„&lt;span class=&#34;exturl&#34; data-url=&#34;aHR0cHM6Ly9jZG4uY2RuanNvbi5jb20vdHZhMS5zaW5haW1nLmNuL2xhcmdlL2U2YzlkMjRlZ3kxaDJmempqd3d1YWoyMTY0MHA0NDRkLmpwZw==&#34;&gt;å®¡æ ¸ç»†åˆ™ 4.8&lt;/span&gt; ä¹Ÿæ˜ç¡®çš„è§„å®šäº†è¿™ä¸€ç‚¹ã€‚&lt;/p&gt;
&lt;p&gt;&lt;img data-src=&#34;https://cdn.cdnjson.com/tva1.sinaimg.cn/large/e6c9d24egy1h2lmep99kij21ns0rkaba.jpg&#34; alt=&#34;&#34; /&gt;&lt;/p&gt;
&lt;p&gt;&lt;span id=&#34;more&#34;&gt;&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&amp;lt;font color=&amp;quot;#dd0000&amp;quot;&amp;gt; ä¸è¿‡éœ€è¦æ³¨æ„çš„ä¸€ç‚¹æ˜¯è…¾è®¯ç³»åˆ—çš„äº§å“å¦‚æœåªæ˜¯ä½¿ç”¨å¾®ä¿¡ã€QQ ç™»å½•å¹¶ä¸ç®—ç¬¬ä¸‰æ–¹ç™»å½•ï¼Œæ‰€ä»¥å¯ä»¥æ·»åŠ  AppleID ç™»å½•æ–¹å¼ã€‚&amp;lt;/font&amp;gt;&amp;lt;br /&amp;gt;&lt;/p&gt;
&lt;p&gt;&lt;img data-src=&#34;https://cdn.cdnjson.com/tva1.sinaimg.cn/large/e6c9d24egy1h2fzjjwwuaj21640p444d.jpg&#34; alt=&#34;&#34; /&gt;&lt;/p&gt;
&lt;h2 id=&#34;2å‰ç½®é…ç½®&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#2å‰ç½®é…ç½®&#34;&gt;#&lt;/a&gt; 2ï¼šå‰ç½®é…ç½®&lt;/h2&gt;
&lt;h4 id=&#34;21-xcodeå·¥ç¨‹é…ç½®&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#21-xcodeå·¥ç¨‹é…ç½®&#34;&gt;#&lt;/a&gt; 2.1 Xcode å·¥ç¨‹é…ç½®&lt;/h4&gt;
&lt;p&gt;é€‰ä¸­å·¥ç¨‹ tragerï¼Œåœ¨ capabilities ä¸­æ·»åŠ  AppleID ç™»å½•çš„èƒ½åŠ›&lt;/p&gt;
&lt;p&gt;&lt;img data-src=&#34;https://cdn.cdnjson.com/tva1.sinaimg.cn/large/e6c9d24egy1h2g28b5w8aj21960u0769.jpg&#34; alt=&#34;&#34; /&gt;&lt;/p&gt;
&lt;h4 id=&#34;22-å¼€å‘è€…è´¦å·é…ç½®&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#22-å¼€å‘è€…è´¦å·é…ç½®&#34;&gt;#&lt;/a&gt; 2.2 å¼€å‘è€…è´¦å·é…ç½®&lt;/h4&gt;
&lt;p&gt;åŸºäºæˆæƒç çš„åç«¯éªŒè¯æ–¹å¼éœ€è¦æ­¤æ­¥éª¤ï¼Œå¦‚æœä½¿ç”¨ JWT éªŒè¯æ–¹å¼åˆ™ä¸ä¾èµ–æ­¤æ­¥éª¤ï¼Œä¸è¿‡å»ºè®®æŒ‰é¡ºåºçœ‹å®Œå¤šåšäº†è§£ã€‚&lt;/p&gt;
&lt;p&gt;è¯¥æ­¥éª¤çš„æœ€ç»ˆç›®çš„æ˜¯è·å–ç”¨äºæ ¡éªŒå®¢æˆ·ç«¯èº«ä»½çš„æ‰€éœ€å†…å®¹ï¼Œå…¶ä¸­åŒ…æ‹¬ä»¥ä¸‹ä¸‰ä¸ªå†…å®¹&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;ç”Ÿæˆä¸€ä¸ªç”¨äºæ ¡éªŒå®¢æˆ·ç«¯èº«ä»½çš„å¯†é’¥æ–‡ä»¶&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;è·å– KeyID&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;è·å– issï¼ˆTeamIDï¼‰&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&amp;lt;font color=&amp;quot;#dd0000&amp;quot;&amp;gt; æ³¨æ„ï¼šè¯¥æ­¥éª¤éœ€è¦ç™»å½• Apple å¼€å‘è€…è´¦å·å¹¶å¯¹å…¶è¿›è¡ŒåŠŸèƒ½çš„é…ç½®ã€å¼€å¯ã€ä»¥åŠæè¿°æ–‡ä»¶æ›´æ–°ç­‰æ“ä½œï¼Œå¯èƒ½éœ€è¦è¯ä¹¦ç®¡ç†å›¢é˜Ÿæˆ–è€…æœ‰ç›¸å…³æƒé™çš„äººå‘˜æ¥å¤„ç†ï¼Œå¹¶ç”±ä»–ä»¬å°†å¯¹åº”ä¿¡æ¯è¾“å‡º &amp;lt;/font&amp;gt;&amp;lt;br /&amp;gt;&lt;/p&gt;
&lt;h5 id=&#34;æ­¥éª¤ä¸€èƒ½åŠ›å¼€å¯&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#æ­¥éª¤ä¸€èƒ½åŠ›å¼€å¯&#34;&gt;#&lt;/a&gt; &lt;strong&gt;æ­¥éª¤ä¸€ï¼šèƒ½åŠ›å¼€å¯&lt;/strong&gt;&lt;/h5&gt;
&lt;p&gt;è¿›å…¥å¼€å‘è€…è´¦å·ï¼Œé€‰æ‹©éœ€è¦æ”¯æŒ AppleID ç™»å½•èƒ½åŠ›çš„åº”ç”¨å¹¶è¿›å…¥æ‰“å¼€å…¶ AppleID ç™»å½•çš„åŠŸèƒ½&lt;br /&gt;
&lt;img data-src=&#34;https://cdn.cdnjson.com/tva1.sinaimg.cn/large/e6c9d24egy1h2g335dozbj219o0kiwg6.jpg&#34; alt=&#34;&#34; /&gt;&lt;br /&gt;
&lt;img data-src=&#34;https://cdn.cdnjson.com/tva1.sinaimg.cn/large/e6c9d24egy1h2g36gha89j216x0u0gnx.jpg&#34; alt=&#34;&#34; /&gt;&lt;/p&gt;
&lt;h5 id=&#34;æ­¥éª¤äºŒæ›´æ–°profile&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#æ­¥éª¤äºŒæ›´æ–°profile&#34;&gt;#&lt;/a&gt; &lt;strong&gt;æ­¥éª¤äºŒï¼šæ›´æ–° profile&lt;/strong&gt;&lt;/h5&gt;
&lt;p&gt;å¯¹ app çš„ä»»ä½•æ›´æ”¹éƒ½ä¼šå¯¼è‡´ç°æœ‰çš„ profile æ–‡ä»¶å¤±æ•ˆï¼Œæ‰€ä»¥éœ€è¦é‡æ–°ç”Ÿæˆ profile æè¿°æ–‡ä»¶ã€‚&lt;br /&gt;
&lt;img data-src=&#34;https://cdn.cdnjson.com/tva1.sinaimg.cn/large/e6c9d24egy1h2g38wg6kij20ia08qmxk.jpg&#34; alt=&#34;&#34; /&gt;&lt;br /&gt;
æŒ‰ç…§å¦‚ä¸‹è·¯å¾„æ“ä½œï¼Œç‚¹è¿›å·²ç» &lt;code&gt;invalid&lt;/code&gt;  çš„æè¿°æ–‡ä»¶å¹¶é‡æ–°ç”Ÿæˆ&lt;br /&gt;
&lt;img data-src=&#34;https://cdn.cdnjson.com/tva1.sinaimg.cn/large/e6c9d24egy1h2g3em4u2oj21fq0lc75x.jpg&#34; alt=&#34;&#34; /&gt;&lt;/p&gt;
&lt;h5 id=&#34;æ­¥éª¤ä¸‰ç”Ÿæˆå¯†é’¥æ–‡ä»¶&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#æ­¥éª¤ä¸‰ç”Ÿæˆå¯†é’¥æ–‡ä»¶&#34;&gt;#&lt;/a&gt; &lt;strong&gt;æ­¥éª¤ä¸‰ï¼šç”Ÿæˆå¯†é’¥æ–‡ä»¶&lt;/strong&gt;&lt;/h5&gt;
&lt;p&gt;è¿›å…¥å¦‚ä¸‹ç•Œé¢ç‚¹å‡» &lt;code&gt;åŠ å·&lt;/code&gt; è¿›è¡Œç”Ÿæˆ&lt;br /&gt;
&lt;img data-src=&#34;https://cdn.cdnjson.com/tva1.sinaimg.cn/large/e6c9d24egy1h2g3hh2cz2j216m0ms406.jpg&#34; alt=&#34;&#34; /&gt;&lt;/p&gt;
&lt;p&gt;å¡«å®Œå¹¶å‹¾é€‰ &lt;code&gt;Sigin with apple&lt;/code&gt;  åç‚¹å‡»å³ä¾§çš„ &lt;code&gt;Configure&lt;/code&gt;  è¿›è¡Œé…ç½®ï¼Œåœ¨é…ç½®é¡µé¢é€‰æ‹©éœ€è¦å¼€å¯è‹¹æœç™»å½•çš„ app å¹¶ä¿å­˜ï¼Œç„¶åå›åˆ°ä¸Šä¸€é¡µå¹¶å¼€å§‹æ³¨å†Œ&lt;br /&gt;
&lt;img data-src=&#34;https://cdn.cdnjson.com/tva1.sinaimg.cn/large/e6c9d24egy1h2g3kyolw0j21m10u043i.jpg&#34; alt=&#34;&#34; /&gt;&lt;br /&gt;
&lt;img data-src=&#34;https://cdn.cdnjson.com/tva1.sinaimg.cn/large/e6c9d24egy1h2g3ps0bfjj21v70u0td1.jpg&#34; alt=&#34;&#34; /&gt;&lt;br /&gt;
&lt;img data-src=&#34;https://cdn.cdnjson.com/tva1.sinaimg.cn/large/e6c9d24egy1h2g3qw6gvmj22120s0dkq.jpg&#34; alt=&#34;&#34; /&gt;&lt;/p&gt;
&lt;p&gt;æœ€ç»ˆæ³¨å†ŒæˆåŠŸåä¼šæœ‰ KeyIDã€TeamID å’Œå¯ä¾›ä¸‹è½½çš„å¯†é’¥æ–‡ä»¶&lt;br /&gt;
&lt;img data-src=&#34;https://cdn.cdnjson.com/tva1.sinaimg.cn/large/e6c9d24egy1h2g3umbtqzj21wg0s4gqg.jpg&#34; alt=&#34;&#34; /&gt;&lt;/p&gt;
&lt;p&gt;å¯†é’¥æ–‡ä»¶æ ¼å¼ä¸º.p8 å®é™…æ˜¯æ–‡æœ¬æ–‡ä»¶&lt;br /&gt;
&lt;img data-src=&#34;https://cdn.cdnjson.com/tva1.sinaimg.cn/large/e6c9d24egy1h2g3yn74llj212g0badht.jpg&#34; alt=&#34;&#34; /&gt;&lt;/p&gt;
&lt;p&gt;&amp;lt;font color=&amp;quot;#dd0000&amp;quot;&amp;gt; æ³¨æ„ï¼šå¯†é’¥æ–‡ä»¶åªèƒ½è¢«ä¸‹è½½ä¸€æ¬¡ï¼Œä¸‹è½½åä¿å­˜åœ¨å®‰å…¨çš„åœ°æ–¹ï¼Œä¸¢äº†çš„è¯åªèƒ½é‡æ–°ç”³è¯·äº† &amp;lt;/font&amp;gt;&amp;lt;br /&amp;gt;&lt;/p&gt;
&lt;h2 id=&#34;3ç™»å½•æµç¨‹&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#3ç™»å½•æµç¨‹&#34;&gt;#&lt;/a&gt; 3ï¼šç™»å½•æµç¨‹&lt;/h2&gt;
&lt;p&gt;ç™»å½•æµç¨‹åˆ†ä¸¤å¤§å—ï¼Œä¸€ä¸ªæ˜¯å®¢æˆ·ç«¯éƒ¨åˆ†ï¼Œä¸€ä¸ªæ˜¯åç«¯éƒ¨åˆ†ï¼Œå…¶ä¸­åç«¯éƒ¨åˆ†æœ‰ä¸¤ç§æ ¡éªŒæ–¹å¼ &lt;code&gt;åŸºäºæˆæƒç çš„åç«¯éªŒè¯&lt;/code&gt; ã€ &lt;code&gt;åŸºäºJWTçš„ç®—æ³•éªŒè¯&lt;/code&gt; ï¼Œç¨åä¼šä¸€ä¸€è®²è§£ã€‚æ€»ä½“æµç¨‹å¦‚ä¸‹å›¾ï¼š&lt;/p&gt;
&lt;p&gt;&lt;img data-src=&#34;https://cdn.cdnjson.com/tva1.sinaimg.cn/large/e6c9d24egy1h2g4un5dizj20ve0u0dip.jpg&#34; alt=&#34;&#34; /&gt;&lt;/p&gt;
&lt;h4 id=&#34;31-å®¢æˆ·ç«¯ä¾§&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#31-å®¢æˆ·ç«¯ä¾§&#34;&gt;#&lt;/a&gt; 3.1 å®¢æˆ·ç«¯ä¾§&lt;/h4&gt;
&lt;h5 id=&#34;æ­¥éª¤ä¸€æˆæƒ&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#æ­¥éª¤ä¸€æˆæƒ&#34;&gt;#&lt;/a&gt; &lt;strong&gt;æ­¥éª¤ä¸€ï¼šæˆæƒ&lt;/strong&gt;&lt;/h5&gt;
&lt;p&gt;å¯¹äºå®¢æˆ·ç«¯æ¥è¯´ AppleID ç™»å½•ä¸ä¼ ç»Ÿçš„ä¸‰æ–¹ç™»å½•æµç¨‹ä¸€æ ·ï¼Œåˆ†ä¸º &lt;code&gt;è°ƒç”¨æ¥å£&lt;/code&gt; ä¸ &lt;code&gt;å›è°ƒä¿¡æ¯è·å–&lt;/code&gt; ä¸¤æ­¥ï¼Œå”¯ä¸€ä¸åŒç‚¹æ˜¯è‹¹æœç™»å½•çš„ API æ˜¯åœ¨ iOS SDK å†…éƒ¨å°è£…ï¼Œåªç”¨å¯¼å…¥å¯¹åº”å¤´æ–‡ä»¶å³å¯&lt;br /&gt;
 &lt;code&gt;#import &amp;lt;AuthenticationServices/AuthenticationServices.h&amp;gt; &lt;/code&gt;&lt;/p&gt;
&lt;p&gt;å…³äºç™»å½•å…¥å£ï¼Œè‹¹æœå¯¹ AppleID ç™»å½•çš„ UI æœ‰ä¸¥æ ¼çš„é™åˆ¶ï¼Œå› æ­¤ä¸“é—¨æä¾›äº†æä¾›äº†ä¸€å¥—ç»§æ‰¿äº &lt;code&gt;UIControl&lt;/code&gt;  ç­‰æ§ä»¶æ¥ä¾›å¼€å‘è€…ä½¿ç”¨ &lt;code&gt;ASAuthorizationAppleIDButton&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;&lt;figure class=&#34;highlight objectivec&#34;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&#34;gutter&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;4&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&#34;code&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;ASAuthorizationAppleIDButton * appleIDBtn = [ASAuthorizationAppleIDButton buttonWithType:ASAuthorizationAppleIDButtonTypeDefault style:ASAuthorizationAppleIDButtonStyleWhite];&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;appleIDBtn.frame = &lt;span class=&#34;built_in&#34;&gt;CGRectMake&lt;/span&gt;(&lt;span class=&#34;number&#34;&gt;0&lt;/span&gt;, &lt;span class=&#34;number&#34;&gt;0&lt;/span&gt;, &lt;span class=&#34;number&#34;&gt;100&lt;/span&gt;, &lt;span class=&#34;number&#34;&gt;60&lt;/span&gt;);&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;[appleIDBtn addTarget:&lt;span class=&#34;keyword&#34;&gt;self&lt;/span&gt; action:&lt;span class=&#34;keyword&#34;&gt;@selector&lt;/span&gt;(didAppleIDBtnClicked) forControlEvents:&lt;span class=&#34;built_in&#34;&gt;UIControlEventTouchUpInside&lt;/span&gt;];&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;[&lt;span class=&#34;keyword&#34;&gt;self&lt;/span&gt;.view addSubview:appleIDBtn];&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;/p&gt;
&lt;p&gt;å…¶ä¸­æŒ‰é’®çš„ &lt;code&gt;æ–‡æ¡ˆç±»å‹&lt;/code&gt; å’Œ &lt;code&gt;UIé£æ ¼&lt;/code&gt; å¯ä»¥é€šè¿‡æšä¸¾è¿›è¡Œé…ç½®&lt;br /&gt;
 &lt;figure class=&#34;highlight elm&#34;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&#34;gutter&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;8&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;9&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;10&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;11&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;12&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;13&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;14&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;15&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;16&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&#34;code&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;//  æ–‡æ¡ˆç±»å‹&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;typedef &lt;span class=&#34;type&#34;&gt;NS_ENUM&lt;/span&gt;(&lt;span class=&#34;type&#34;&gt;NSInteger&lt;/span&gt;, &lt;span class=&#34;type&#34;&gt;ASAuthorizationAppleIDButtonType&lt;/span&gt;) &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;    &lt;span class=&#34;type&#34;&gt;ASAuthorizationAppleIDButtonTypeSignIn&lt;/span&gt;,&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;    &lt;span class=&#34;type&#34;&gt;ASAuthorizationAppleIDButtonTypeContinue&lt;/span&gt;,&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;    &lt;span class=&#34;type&#34;&gt;ASAuthorizationAppleIDButtonTypeSignUp&lt;/span&gt; &lt;span class=&#34;type&#34;&gt;API_AVAILABLE&lt;/span&gt;(ios(13.2), macos(10.15.1), tvos(13.1)) &lt;span class=&#34;type&#34;&gt;API_UNAVAILABLE(watchos)&lt;/span&gt;,&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;    &lt;span class=&#34;type&#34;&gt;ASAuthorizationAppleIDButtonTypeDefault&lt;/span&gt; = &lt;span class=&#34;type&#34;&gt;ASAuthorizationAppleIDButtonTypeSignIn&lt;/span&gt;,&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&amp;#125; &lt;span class=&#34;type&#34;&gt;NS_SWIFT_NAME&lt;/span&gt;(&lt;span class=&#34;type&#34;&gt;ASAuthorizationAppleIDButton&lt;/span&gt;.&lt;span class=&#34;type&#34;&gt;ButtonType&lt;/span&gt;) &lt;span class=&#34;type&#34;&gt;API_AVAILABLE&lt;/span&gt;(ios(13.0), macos(10.15), tvos(13.0)) &lt;span class=&#34;type&#34;&gt;API_UNAVAILABLE&lt;/span&gt;(watchos);&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;//  &lt;span class=&#34;type&#34;&gt;UI&lt;/span&gt;é£æ ¼&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;typedef &lt;span class=&#34;type&#34;&gt;NS_ENUM&lt;/span&gt;(&lt;span class=&#34;type&#34;&gt;NSInteger&lt;/span&gt;, &lt;span class=&#34;type&#34;&gt;ASAuthorizationAppleIDButtonStyle&lt;/span&gt;) &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;    &lt;span class=&#34;type&#34;&gt;ASAuthorizationAppleIDButtonStyleWhite&lt;/span&gt;,&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;    &lt;span class=&#34;type&#34;&gt;ASAuthorizationAppleIDButtonStyleWhiteOutline&lt;/span&gt;,&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;    &lt;span class=&#34;type&#34;&gt;ASAuthorizationAppleIDButtonStyleBlack&lt;/span&gt;,&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&amp;#125; &lt;span class=&#34;type&#34;&gt;NS_SWIFT_NAME&lt;/span&gt;(&lt;span class=&#34;type&#34;&gt;ASAuthorizationAppleIDButton&lt;/span&gt;.&lt;span class=&#34;type&#34;&gt;Style&lt;/span&gt;) &lt;span class=&#34;type&#34;&gt;API_AVAILABLE&lt;/span&gt;(ios(13.0), macos(10.15), tvos(13.0)) &lt;span class=&#34;type&#34;&gt;API_UNAVAILABLE&lt;/span&gt;(watchos);&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;br /&gt;
 ä½†æ˜¯å¹¶ä¸æ¨èè¿™ç§æ–¹å¼ä½¿ç”¨ï¼ŒåŸå› å¦‚ä¸‹ï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;1ï¼šå›ºå®š UI æ— æ³•æ»¡è¶³ä¸šåŠ¡çš„å®šåˆ¶åŒ–éœ€æ±‚&lt;/li&gt;
&lt;li&gt;2ï¼šæ–‡æ¡ˆå›ºå®šï¼Œå¤šè¯­è¨€é…ç½®éœ€è¦åœ¨å•ç‹¬çš„åœ°æ–¹å»é…ç½®æ–‡æ¡ˆ&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;æ‰€ä»¥å»ºè®®è‡ªå·±å†™ UIï¼Œç›´æ¥åœ¨ç‚¹å‡»äº‹ä»¶ä¸­è°ƒç”¨ AppleID çš„ç›¸å…³ API è¿›è¡Œæˆæƒç™»é™†æ“ä½œï¼Œå…·ä½“ä»£ç ä¸ºï¼Œå…¶ä¸­ &lt;code&gt;ASAuthorizationAppleIDRequest&lt;/code&gt;  ä¸ºæ˜¯å¦ä½¿ç”¨ Keychain ä¿¡æ¯ï¼Œå¦‚æœå¦‚æœ KeyChain é‡Œé¢ä¹Ÿæœ‰ç™»å½•ä¿¡æ¯çš„è¯ï¼Œå¯ä»¥ç›´æ¥ä½¿ç”¨é‡Œé¢ä¿å­˜çš„ç”¨æˆ·åå’Œå¯†ç è¿›è¡Œç™»å½•ã€‚å¯ä»¥æ ¹æ®å®é™…ä¸šåŠ¡éœ€æ±‚æ¥&lt;br /&gt;
 &lt;figure class=&#34;highlight swift&#34;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&#34;gutter&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;8&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;9&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;10&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;11&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;12&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;13&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;14&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;15&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&#34;code&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;type&#34;&gt;KINFO&lt;/span&gt;(@&lt;span class=&#34;string&#34;&gt;&amp;quot;[AppleLoginWrapper]å¼€å§‹è‹¹æœç™»å½•é‰´æƒ&amp;quot;&lt;/span&gt;);&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;keyword&#34;&gt;if&lt;/span&gt; (&lt;span class=&#34;keyword&#34;&gt;@available&lt;/span&gt;(&lt;span class=&#34;keyword&#34;&gt;iOS&lt;/span&gt; &lt;span class=&#34;number&#34;&gt;13.0&lt;/span&gt;, &lt;span class=&#34;operator&#34;&gt;*&lt;/span&gt;)) &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;    &lt;span class=&#34;type&#34;&gt;ASAuthorizationAppleIDProvider&lt;/span&gt; &lt;span class=&#34;operator&#34;&gt;*&lt;/span&gt;provider &lt;span class=&#34;operator&#34;&gt;=&lt;/span&gt; [&lt;span class=&#34;type&#34;&gt;ASAuthorizationAppleIDProvider&lt;/span&gt; new];&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;    &lt;span class=&#34;type&#34;&gt;ASAuthorizationAppleIDRequest&lt;/span&gt; &lt;span class=&#34;operator&#34;&gt;*&lt;/span&gt;request &lt;span class=&#34;operator&#34;&gt;=&lt;/span&gt; [provider createRequest];&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;    request.requestedScopes &lt;span class=&#34;operator&#34;&gt;=&lt;/span&gt; @[ &lt;span class=&#34;type&#34;&gt;ASAuthorizationScopeFullName&lt;/span&gt;, &lt;span class=&#34;type&#34;&gt;ASAuthorizationScopeEmail&lt;/span&gt; ]; &lt;span class=&#34;comment&#34;&gt;//è¯·æ±‚çš„ç”¨æˆ·ä¿¡æ¯&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;    &lt;span class=&#34;type&#34;&gt;ASAuthorizationPasswordRequest&lt;/span&gt; &lt;span class=&#34;operator&#34;&gt;*&lt;/span&gt; keychainRequest &lt;span class=&#34;operator&#34;&gt;=&lt;/span&gt; [[[&lt;span class=&#34;type&#34;&gt;ASAuthorizationPasswordProvider&lt;/span&gt; alloc] &lt;span class=&#34;keyword&#34;&gt;init&lt;/span&gt;] createRequest];&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;    &lt;span class=&#34;type&#34;&gt;ASAuthorizationController&lt;/span&gt; &lt;span class=&#34;operator&#34;&gt;*&lt;/span&gt;vc &lt;span class=&#34;operator&#34;&gt;=&lt;/span&gt; [[&lt;span class=&#34;type&#34;&gt;ASAuthorizationController&lt;/span&gt; alloc] initWithAuthorizationRequests:@[ request ,keychainRequest]];&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;    vc.delegate &lt;span class=&#34;operator&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;keyword&#34;&gt;self&lt;/span&gt;;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;    vc.presentationContextProvider &lt;span class=&#34;operator&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;keyword&#34;&gt;self&lt;/span&gt;;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;    [vc performRequests];&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&amp;#125; &lt;span class=&#34;keyword&#34;&gt;else&lt;/span&gt; &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;    &lt;span class=&#34;comment&#34;&gt;// Fallback on earlier versions&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;    &lt;span class=&#34;type&#34;&gt;KINFO&lt;/span&gt;(@&lt;span class=&#34;string&#34;&gt;&amp;quot;[AppleLoginWrapper]iOSç³»ç»Ÿä½äº13&amp;quot;&lt;/span&gt;);&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&amp;#125;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;/p&gt;
&lt;h5 id=&#34;æ­¥éª¤äºŒä¿¡æ¯å›è°ƒ&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#æ­¥éª¤äºŒä¿¡æ¯å›è°ƒ&#34;&gt;#&lt;/a&gt; &lt;strong&gt;æ­¥éª¤äºŒï¼šä¿¡æ¯å›è°ƒ&lt;/strong&gt;&lt;/h5&gt;
&lt;p&gt;ä¾èµ–çš„ä¸¤ä¸ª delegate&lt;br /&gt;
&lt;figure class=&#34;highlight objectivec&#34;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&#34;gutter&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;8&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;9&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;10&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;11&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;12&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;13&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;14&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&#34;code&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;meta&#34;&gt;#&lt;span class=&#34;keyword&#34;&gt;pragma&lt;/span&gt; mark- ä»£ç† ASAuthorizationControllerDelegate&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;- (&lt;span class=&#34;type&#34;&gt;void&lt;/span&gt;)authorizationController:(ASAuthorizationController *)controller didCompleteWithAuthorization:(ASAuthorization *)authorization &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;    &lt;span class=&#34;comment&#34;&gt;//  æˆåŠŸ&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;    &lt;span class=&#34;comment&#34;&gt;//  å…¶ä¸­`authorization.credential`åŒ…å«äº†Tokenï¼Œç”¨æˆ·IDç­‰æˆæƒæ‰€éœ€ä¿¡æ¯ï¼Œå¯ä¸ŠæŠ¥åˆ°åå°&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&amp;#125;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;- (&lt;span class=&#34;type&#34;&gt;void&lt;/span&gt;)authorizationController:(ASAuthorizationController *)controller didCompleteWithError:(&lt;span class=&#34;built_in&#34;&gt;NSError&lt;/span&gt; *)error &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;    &lt;span class=&#34;comment&#34;&gt;//  å¤±è´¥&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&amp;#125;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;meta&#34;&gt;#&lt;span class=&#34;keyword&#34;&gt;pragma&lt;/span&gt; mark- ä»£ç†ASAuthorizationControllerPresentationContextProviding&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;- (ASPresentationAnchor)presentationAnchorForAuthorizationController:(ASAuthorizationController *)controller &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;    &lt;span class=&#34;comment&#34;&gt;//  å±•ç¤ºåœ¨å“ªä¸ªWindowä¸Š&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;    &lt;span class=&#34;keyword&#34;&gt;return&lt;/span&gt; &lt;span class=&#34;keyword&#34;&gt;self&lt;/span&gt;.view.window;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&amp;#125;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;/p&gt;
&lt;h5 id=&#34;æ­¥éª¤ä¸‰ç”¨æˆ·idçŠ¶æ€æ ¡éªŒ&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#æ­¥éª¤ä¸‰ç”¨æˆ·idçŠ¶æ€æ ¡éªŒ&#34;&gt;#&lt;/a&gt; &lt;strong&gt;æ­¥éª¤ä¸‰ï¼šç”¨æˆ· ID çŠ¶æ€æ ¡éªŒ&lt;/strong&gt;&lt;/h5&gt;
&lt;p&gt;é˜²æ­¢ç”¨æˆ·æ³¨é”€ AppleId æˆ– åœæ­¢ä½¿ç”¨ Apple ID çš„çŠ¶æ€å¤„ç†&lt;br /&gt;
 &lt;figure class=&#34;highlight swift&#34;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&#34;gutter&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;8&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;9&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;10&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;11&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;12&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;13&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;14&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;15&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;16&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;17&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;18&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;19&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;20&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;21&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;22&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;23&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;24&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;25&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;26&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;27&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;28&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&#34;code&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;operator&#34;&gt;-&lt;/span&gt; (&lt;span class=&#34;type&#34;&gt;BOOL&lt;/span&gt;)application:(&lt;span class=&#34;type&#34;&gt;UIApplication&lt;/span&gt; &lt;span class=&#34;operator&#34;&gt;*&lt;/span&gt;)application didFinishLaunchingWithOptions:(&lt;span class=&#34;type&#34;&gt;NSDictionary&lt;/span&gt; &lt;span class=&#34;operator&#34;&gt;*&lt;/span&gt;)launchOptions &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;    &lt;span class=&#34;comment&#34;&gt;// Override point for customization after application launch.&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;    &lt;span class=&#34;keyword&#34;&gt;if&lt;/span&gt; (&lt;span class=&#34;keyword&#34;&gt;@available&lt;/span&gt;(&lt;span class=&#34;keyword&#34;&gt;iOS&lt;/span&gt; &lt;span class=&#34;number&#34;&gt;13.0&lt;/span&gt;, &lt;span class=&#34;operator&#34;&gt;*&lt;/span&gt;)) &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;        &lt;span class=&#34;comment&#34;&gt;// æ³¨æ„ å­˜å‚¨ç”¨æˆ·æ ‡è¯†ä¿¡æ¯éœ€è¦ä½¿ç”¨é’¥åŒ™ä¸²æ¥å­˜å‚¨ è¿™é‡Œä½¿ç”¨NSUserDefaults åšçš„ç®€å•ç¤ºä¾‹&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;        &lt;span class=&#34;type&#34;&gt;NSString&lt;/span&gt; &lt;span class=&#34;operator&#34;&gt;*&lt;/span&gt; userIdentifier &lt;span class=&#34;operator&#34;&gt;=&lt;/span&gt; [[&lt;span class=&#34;type&#34;&gt;NSUserDefaults&lt;/span&gt; standardUserDefaults] valueForKey:@&lt;span class=&#34;string&#34;&gt;&amp;quot;appleID&amp;quot;&lt;/span&gt;];&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;        &lt;span class=&#34;keyword&#34;&gt;if&lt;/span&gt; (userIdentifier) &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;            &lt;span class=&#34;type&#34;&gt;ASAuthorizationAppleIDProvider&lt;/span&gt; &lt;span class=&#34;operator&#34;&gt;*&lt;/span&gt; appleIDProvider &lt;span class=&#34;operator&#34;&gt;=&lt;/span&gt; [[&lt;span class=&#34;type&#34;&gt;ASAuthorizationAppleIDProvider&lt;/span&gt; alloc] &lt;span class=&#34;keyword&#34;&gt;init&lt;/span&gt;];&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;            [appleIDProvider getCredentialStateForUserID:userIdentifier&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;                                              completion:&lt;span class=&#34;operator&#34;&gt;^&lt;/span&gt;(&lt;span class=&#34;type&#34;&gt;ASAuthorizationAppleIDProviderCredentialState&lt;/span&gt; credentialState, &lt;span class=&#34;type&#34;&gt;NSError&lt;/span&gt; &lt;span class=&#34;operator&#34;&gt;*&lt;/span&gt; _Nullable error) &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;                &lt;span class=&#34;keyword&#34;&gt;switch&lt;/span&gt; (credentialState) &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;                    &lt;span class=&#34;keyword&#34;&gt;case&lt;/span&gt; &lt;span class=&#34;type&#34;&gt;ASAuthorizationAppleIDProviderCredentialAuthorized&lt;/span&gt;:&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;                        &lt;span class=&#34;comment&#34;&gt;// æˆæƒçŠ¶æ€æœ‰æ•ˆ&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;                        &lt;span class=&#34;keyword&#34;&gt;break&lt;/span&gt;;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;                    &lt;span class=&#34;keyword&#34;&gt;case&lt;/span&gt; &lt;span class=&#34;type&#34;&gt;ASAuthorizationAppleIDProviderCredentialRevoked&lt;/span&gt;:&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;                        &lt;span class=&#34;comment&#34;&gt;// è‹¹æœè´¦å·ç™»å½•çš„å‡­æ®å·²è¢«ç§»é™¤ï¼Œéœ€è§£é™¤ç»‘å®šå¹¶é‡æ–°å¼•å¯¼ç”¨æˆ·ä½¿ç”¨è‹¹æœç™»å½•&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;                        &lt;span class=&#34;keyword&#34;&gt;break&lt;/span&gt;;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;                    &lt;span class=&#34;keyword&#34;&gt;case&lt;/span&gt; &lt;span class=&#34;type&#34;&gt;ASAuthorizationAppleIDProviderCredentialNotFound&lt;/span&gt;:&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;                        &lt;span class=&#34;comment&#34;&gt;// æœªç™»å½•æˆæƒï¼Œç›´æ¥å¼¹å‡ºç™»å½•é¡µé¢ï¼Œå¼•å¯¼ç”¨æˆ·ç™»å½•&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;                        &lt;span class=&#34;keyword&#34;&gt;break&lt;/span&gt;;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;                    &lt;span class=&#34;keyword&#34;&gt;case&lt;/span&gt; &lt;span class=&#34;type&#34;&gt;ASAuthorizationAppleIDProviderCredentialTransferred&lt;/span&gt;:&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;                        &lt;span class=&#34;comment&#34;&gt;// æˆæƒAppleIDæä¾›è€…å‡­æ®è½¬ç§»&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;                        &lt;span class=&#34;keyword&#34;&gt;break&lt;/span&gt;;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;                &amp;#125;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;            &amp;#125;];&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;        &amp;#125;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;    &amp;#125;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;    &lt;span class=&#34;keyword&#34;&gt;return&lt;/span&gt; &lt;span class=&#34;type&#34;&gt;YES&lt;/span&gt;;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&amp;#125;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;/p&gt;
&lt;h4 id=&#34;32-severä¾§&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#32-severä¾§&#34;&gt;#&lt;/a&gt; 3.2 Sever ä¾§&lt;/h4&gt;
&lt;p&gt;åŸºäºä¸Šé¢æµç¨‹å›¾ï¼ŒSever ä¾§æ ¡éªŒ Token æœ‰æ•ˆæ€§çš„æ–¹å¼æœ‰ä¸¤ç§ï¼š&lt;/p&gt;
&lt;h5 id=&#34;æ–¹å¼ä¸€åŸºäºæˆæƒç çš„åç«¯éªŒè¯&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#æ–¹å¼ä¸€åŸºäºæˆæƒç çš„åç«¯éªŒè¯&#34;&gt;#&lt;/a&gt; &lt;strong&gt;æ–¹å¼ä¸€ï¼šåŸºäºæˆæƒç çš„åç«¯éªŒè¯&lt;/strong&gt;&lt;/h5&gt;
&lt;p&gt;åç«¯åœ¨æ”¶åˆ°å®¢æˆ·ç«¯ä¼ é€’çš„åŒ…å« token çš„ä¿¡æ¯åè¿›è¡ŒéªŒè¯&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;æ„å»º client_secret&lt;br /&gt;
&lt;figure class=&#34;highlight reasonml&#34;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&#34;gutter&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;8&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;9&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;10&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;11&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;12&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;13&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;14&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;15&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;16&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;17&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;18&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;19&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;20&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;21&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;22&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;23&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;24&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;25&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&#34;code&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;-----BEGIN PRIVATE KEY-----&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;BASE64ç¼–ç åçš„å¯†é’¥ (æ­¥éª¤&lt;span class=&#34;number&#34;&gt;2.2&lt;/span&gt;ä¸­è·å¾—)&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;-----END PRIVATE KEY-----&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt; &lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;public  byte&lt;span class=&#34;literal&#34;&gt;[]&lt;/span&gt; read&lt;span class=&#34;constructor&#34;&gt;Key()&lt;/span&gt; throws Exception &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;    String temp = &lt;span class=&#34;string&#34;&gt;&amp;quot;å¯†é’¥æ–‡ä»¶ä¸­é—´çš„ç¼–ç å­—ç¬¦ä¸²&amp;quot;&lt;/span&gt;;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;    return &lt;span class=&#34;module-access&#34;&gt;&lt;span class=&#34;module&#34;&gt;&lt;span class=&#34;identifier&#34;&gt;Base64&lt;/span&gt;.&lt;/span&gt;&lt;/span&gt;decode&lt;span class=&#34;constructor&#34;&gt;Base64(&lt;span class=&#34;params&#34;&gt;temp&lt;/span&gt;)&lt;/span&gt;;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&amp;#125;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;æ„å»ºclient_secretå…³é”®ä»£ç ï¼š&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;String client_id = &lt;span class=&#34;string&#34;&gt;&amp;quot;...&amp;quot;&lt;/span&gt;; &lt;span class=&#34;comment&#34;&gt;// è¢«æˆæƒçš„APP ID(æ­¥éª¤2.2ä¸­è·å¾—)&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;Map&amp;lt;String, Object&amp;gt; header = &lt;span class=&#34;keyword&#34;&gt;new&lt;/span&gt; HashMap&amp;lt;String, Object&amp;gt;&lt;span class=&#34;literal&#34;&gt;()&lt;/span&gt;;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;header.put(&lt;span class=&#34;string&#34;&gt;&amp;quot;kid&amp;quot;&lt;/span&gt;, &lt;span class=&#34;string&#34;&gt;&amp;quot;å¯†é’¥id&amp;quot;&lt;/span&gt;); &lt;span class=&#34;comment&#34;&gt;// å‚è€ƒåå°é…ç½®(æ­¥éª¤2.2ä¸­è·å¾—)&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;Map&amp;lt;String, Object&amp;gt; claims = &lt;span class=&#34;keyword&#34;&gt;new&lt;/span&gt; HashMap&amp;lt;String, Object&amp;gt;&lt;span class=&#34;literal&#34;&gt;()&lt;/span&gt;;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;claims.put(&lt;span class=&#34;string&#34;&gt;&amp;quot;iss&amp;quot;&lt;/span&gt;, &lt;span class=&#34;string&#34;&gt;&amp;quot;team id&amp;quot;&lt;/span&gt;); &lt;span class=&#34;comment&#34;&gt;// å‚è€ƒåå°é…ç½® team id(æ­¥éª¤2.2ä¸­è·å¾—)&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;long now = &lt;span class=&#34;module-access&#34;&gt;&lt;span class=&#34;module&#34;&gt;&lt;span class=&#34;identifier&#34;&gt;System&lt;/span&gt;.&lt;/span&gt;&lt;/span&gt;current&lt;span class=&#34;constructor&#34;&gt;TimeMillis()&lt;/span&gt;&lt;span class=&#34;operator&#34;&gt; / &lt;/span&gt;&lt;span class=&#34;number&#34;&gt;1000&lt;/span&gt;;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;claims.put(&lt;span class=&#34;string&#34;&gt;&amp;quot;iat&amp;quot;&lt;/span&gt;, now);&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;claims.put(&lt;span class=&#34;string&#34;&gt;&amp;quot;exp&amp;quot;&lt;/span&gt;, now + &lt;span class=&#34;number&#34;&gt;86400&lt;/span&gt;&lt;span class=&#34;operator&#34;&gt; * &lt;/span&gt;&lt;span class=&#34;number&#34;&gt;30&lt;/span&gt;); &lt;span class=&#34;comment&#34;&gt;// æœ€é•¿åŠå¹´ï¼Œå•ä½ç§’&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;claims.put(&lt;span class=&#34;string&#34;&gt;&amp;quot;aud&amp;quot;&lt;/span&gt;, &lt;span class=&#34;string&#34;&gt;&amp;quot;https://appleid.apple.com&amp;quot;&lt;/span&gt;); &lt;span class=&#34;comment&#34;&gt;// é»˜è®¤å€¼&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;claims.put(&lt;span class=&#34;string&#34;&gt;&amp;quot;sub&amp;quot;&lt;/span&gt;, client_id);&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;PKCS8EncodedKeySpec pkcs8EncodedKeySpec = &lt;span class=&#34;keyword&#34;&gt;new&lt;/span&gt; &lt;span class=&#34;constructor&#34;&gt;PKCS8EncodedKeySpec(&lt;span class=&#34;params&#34;&gt;readKey&lt;/span&gt;()&lt;/span&gt;);&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;KeyFactory keyFactory = &lt;span class=&#34;module-access&#34;&gt;&lt;span class=&#34;module&#34;&gt;&lt;span class=&#34;identifier&#34;&gt;KeyFactory&lt;/span&gt;.&lt;/span&gt;&lt;/span&gt;get&lt;span class=&#34;constructor&#34;&gt;Instance(&lt;span class=&#34;string&#34;&gt;&amp;quot;EC&amp;quot;&lt;/span&gt;)&lt;/span&gt;;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;PrivateKey privateKey = keyFactory.generate&lt;span class=&#34;constructor&#34;&gt;Private(&lt;span class=&#34;params&#34;&gt;pkcs8EncodedKeySpec&lt;/span&gt;)&lt;/span&gt;;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;String client_secret = &lt;span class=&#34;module-access&#34;&gt;&lt;span class=&#34;module&#34;&gt;&lt;span class=&#34;identifier&#34;&gt;Jwts&lt;/span&gt;.&lt;/span&gt;&lt;/span&gt;builder&lt;span class=&#34;literal&#34;&gt;()&lt;/span&gt;.set&lt;span class=&#34;constructor&#34;&gt;Header(&lt;span class=&#34;params&#34;&gt;header&lt;/span&gt;)&lt;/span&gt;.set&lt;span class=&#34;constructor&#34;&gt;Claims(&lt;span class=&#34;params&#34;&gt;claims&lt;/span&gt;)&lt;/span&gt;.sign&lt;span class=&#34;constructor&#34;&gt;With(SignatureAlgorithm.ES256, &lt;span class=&#34;params&#34;&gt;privateKey&lt;/span&gt;)&lt;/span&gt;.compact&lt;span class=&#34;literal&#34;&gt;()&lt;/span&gt;;       &lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;/li&gt;
&lt;li&gt;éªŒè¯å®¢æˆ·ç«¯ Token&lt;br /&gt;
&lt;figure class=&#34;highlight qml&#34;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&#34;gutter&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;8&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;9&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;10&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&#34;code&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;built_in&#34;&gt;String&lt;/span&gt; &lt;span class=&#34;built_in&#34;&gt;url&lt;/span&gt; = &lt;span class=&#34;string&#34;&gt;&amp;quot;https://appleid.apple.com/auth/token&amp;quot;&lt;/span&gt;;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;comment&#34;&gt;// POST è¯·æ±‚&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;HttpSynClient client = &lt;span class=&#34;keyword&#34;&gt;new&lt;/span&gt; HttpSynClient(&lt;span class=&#34;number&#34;&gt;5000&lt;/span&gt;, &lt;span class=&#34;number&#34;&gt;5000&lt;/span&gt;, &lt;span class=&#34;number&#34;&gt;5000&lt;/span&gt;, &lt;span class=&#34;number&#34;&gt;20&lt;/span&gt;);&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;built_in&#34;&gt;Map&lt;/span&gt;&amp;lt;&lt;span class=&#34;built_in&#34;&gt;String&lt;/span&gt;, &lt;span class=&#34;built_in&#34;&gt;String&lt;/span&gt;&amp;gt; form = &lt;span class=&#34;keyword&#34;&gt;new&lt;/span&gt; HashMap&amp;lt;&lt;span class=&#34;built_in&#34;&gt;String&lt;/span&gt;, &lt;span class=&#34;built_in&#34;&gt;String&lt;/span&gt;&amp;gt;();&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;form.put(&lt;span class=&#34;string&#34;&gt;&amp;quot;client_id&amp;quot;&lt;/span&gt;, client_id);&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;form.put(&lt;span class=&#34;string&#34;&gt;&amp;quot;client_secret&amp;quot;&lt;/span&gt;, client_secret);&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;form.put(&lt;span class=&#34;string&#34;&gt;&amp;quot;code&amp;quot;&lt;/span&gt;, code);form.put(&lt;span class=&#34;string&#34;&gt;&amp;quot;grant_type&amp;quot;&lt;/span&gt;,&lt;span class=&#34;string&#34;&gt;&amp;quot;authorization_code&amp;quot;&lt;/span&gt;);&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;form.put(&lt;span class=&#34;string&#34;&gt;&amp;quot;redirect_uri&amp;quot;&lt;/span&gt;, redirectUrl);&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;HttpResponse result = client.excutePost(&lt;span class=&#34;built_in&#34;&gt;url&lt;/span&gt;, form);&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;System.out.println(result);&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;/li&gt;
&lt;li&gt;ä¸Šè¿°æ­¥éª¤ç»“æŸåå³å¯å°†ç»“æœå›è°ƒç»™å®¢æˆ·ç«¯ï¼Œè¿›è¡Œç™»å½•æˆ–è€…æ˜¯é”™è¯¯å¤„ç†
&lt;ul&gt;
&lt;li&gt;æˆåŠŸç¤ºä¾‹&lt;br /&gt;
 &lt;figure class=&#34;highlight json&#34;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&#34;gutter&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;7&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&#34;code&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;punctuation&#34;&gt;&amp;#123;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;attr&#34;&gt;&amp;quot;access_token&amp;quot;&lt;/span&gt;&lt;span class=&#34;punctuation&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;string&#34;&gt;&amp;quot;a0996b16cfb674c0eb0d29194c880455b.0.nsww.5fi5MVC-i3AVNhddrNg7Qw&amp;quot;&lt;/span&gt;&lt;span class=&#34;punctuation&#34;&gt;,&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;attr&#34;&gt;&amp;quot;token_type&amp;quot;&lt;/span&gt;&lt;span class=&#34;punctuation&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;string&#34;&gt;&amp;quot;Bearer&amp;quot;&lt;/span&gt;&lt;span class=&#34;punctuation&#34;&gt;,&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;attr&#34;&gt;&amp;quot;expires_in&amp;quot;&lt;/span&gt;&lt;span class=&#34;punctuation&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;number&#34;&gt;3600&lt;/span&gt;&lt;span class=&#34;punctuation&#34;&gt;,&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;attr&#34;&gt;&amp;quot;refresh_token&amp;quot;&lt;/span&gt;&lt;span class=&#34;punctuation&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;string&#34;&gt;&amp;quot;r9ee922f1c8b048208037f78cd7dfc91a.0.nsww.KlV2TeFlTr7YDdZ0KtvEQQ&amp;quot;&lt;/span&gt;&lt;span class=&#34;punctuation&#34;&gt;,&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;attr&#34;&gt;&amp;quot;id_token&amp;quot;&lt;/span&gt;&lt;span class=&#34;punctuation&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;string&#34;&gt;&amp;quot;eyJraWQiOiJBSURPUEsxIiwiYWxnIjoiUlMyNTYifQ.eyJpc3MiOiJodHRwczovL2FwcGxlaWQuYXBwbGUuY29tIiwiYXVkIjoiY29tLnNreW1pbmcuYXBwbGVsb2dpbmRlbW8iLCJleHAiOjE1NjU2NjU1OTQsImlhdCI6MTU2NTY2NDk5NCwic3ViIjoiMDAwMjY2LmRiZTg2NWIwYWE3MjRlMWM4ODM5MDIwOWI5YzdkNjk1LjAyNTYiLCJhdF9oYXNoIjoiR0ZmODhlX1ptc0pqQ2VkZzJXem85ZyIsImF1dGhfdGltZSI6MTU2NTY2NDk2M30.J6XFWmbr0a1hkJszAKM2wevJF57yZt-MoyZNI9QF76dHfJvAmFO9_RP9-tz4pN4ua3BuSJpUbwzT2xFD_rBjsNWkU-ZhuSAONdAnCtK2Vbc2AYEH9n7lB2PnOE1mX5HwY-dI9dqS9AdU4S_CjzTGnvFqC9H5pt6LVoCF4N9dFfQnh2w7jQrjTic_JvbgJT5m7vLzRx-eRnlxQIifEsHDbudzi3yg7XC9OL9QBiTyHdCQvRdsyRLrewJT6QZmi6kEWrV9E21WPC6qJMsaIfGik44UgPOnNnjdxKPzxUAa-Lo1HAzvHcAX5i047T01ltqvHbtsJEZxAB6okmwco78JQA&amp;quot;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;punctuation&#34;&gt;&amp;#125;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;/li&gt;
&lt;li&gt;å¤±è´¥ç¤ºä¾‹&lt;br /&gt;
 &lt;figure class=&#34;highlight json&#34;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&#34;gutter&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;3&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&#34;code&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;punctuation&#34;&gt;&amp;#123;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;attr&#34;&gt;&amp;quot;error&amp;quot;&lt;/span&gt;&lt;span class=&#34;punctuation&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;string&#34;&gt;&amp;quot;invalid_client&amp;quot;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;punctuation&#34;&gt;&amp;#125;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h5 id=&#34;æ–¹å¼äºŒåŸºäºjwtéªŒè¯åŸç†&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#æ–¹å¼äºŒåŸºäºjwtéªŒè¯åŸç†&#34;&gt;#&lt;/a&gt; &lt;strong&gt;æ–¹å¼äºŒï¼šåŸºäº JWT éªŒè¯åŸç†&lt;/strong&gt;&lt;/h5&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;è·å–è‹¹æœå…¬é’¥ï¼Œå¹¶ä¿å­˜&lt;/p&gt;
&lt;p&gt;ç”¨åˆ°å…¬é’¥æ¥å£  &lt;code&gt;https://appleid.apple.com/auth/keys&lt;/code&gt; &lt;br /&gt;
 è¿”å›å€¼æ ·ä¾‹&lt;br /&gt;
 &lt;figure class=&#34;highlight prolog&#34;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&#34;gutter&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;8&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;9&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;10&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;11&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;12&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&#34;code&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;&amp;#123;  &lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;    &lt;span class=&#34;string&#34;&gt;&amp;quot;keys&amp;quot;&lt;/span&gt;: [&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;        &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;        &lt;span class=&#34;string&#34;&gt;&amp;quot;kty&amp;quot;&lt;/span&gt;: &lt;span class=&#34;string&#34;&gt;&amp;quot;RSA&amp;quot;&lt;/span&gt;, &lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;        &lt;span class=&#34;string&#34;&gt;&amp;quot;kid&amp;quot;&lt;/span&gt;: &lt;span class=&#34;string&#34;&gt;&amp;quot;AIDOPK1&amp;quot;&lt;/span&gt;,&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;        &lt;span class=&#34;string&#34;&gt;&amp;quot;use&amp;quot;&lt;/span&gt;: &lt;span class=&#34;string&#34;&gt;&amp;quot;sig&amp;quot;&lt;/span&gt;,&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;        &lt;span class=&#34;string&#34;&gt;&amp;quot;alg&amp;quot;&lt;/span&gt;: &lt;span class=&#34;string&#34;&gt;&amp;quot;RS256&amp;quot;&lt;/span&gt;,&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;        &lt;span class=&#34;string&#34;&gt;&amp;quot;n&amp;quot;&lt;/span&gt;: &lt;span class=&#34;string&#34;&gt;&amp;quot;lxrwmuYSAsTfn-lUu4goZSXBD9ackM9OJuwUVQHmbZo6GW4Fu_auUdN5zI7Y1dEDfgt7m7QXWbHuMD01HLnD4eRtY-RNwCWdjNfEaY_esUPY3OVMrNDI15Ns13xspWS3q-13kdGv9jHI28P87RvMpjz_JCpQ5IM44oSyRnYtVJO-320SB8E2Bw92pmrenbp67KRUzTEVfGU4-obP5RZ09OxvCr1io4KJvEOjDJuuoClF66AT72WymtoMdwzUmhINjR0XSqK6H0MdWsjw7ysyd_JhmqX5CAaT9Pgi0J8lU_pcl215oANqjy7Ob-VMhug9eGyxAWVfu_1u6QJKePlE-w&amp;quot;&lt;/span&gt;,&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;        &lt;span class=&#34;string&#34;&gt;&amp;quot;e&amp;quot;&lt;/span&gt;: &lt;span class=&#34;string&#34;&gt;&amp;quot;AQAB&amp;quot;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;        &amp;#125;  &lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;    ]&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&amp;#125;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;éªŒè¯å®¢æˆ·ç«¯çš„ Token æœ‰æ•ˆæ€§&lt;/p&gt;
&lt;p&gt;å®¢æˆ·ç«¯ä¼šä¼ ä»¥ä¸‹å‡ ä¸ªå€¼ç»™æœåŠ¡ç«¯&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;userIDï¼šæˆæƒçš„ç”¨æˆ·å”¯ä¸€æ ‡è¯†&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;emailã€fullNameï¼šæˆæƒçš„ç”¨æˆ·èµ„æ–™&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;authorizationCodeï¼šæˆæƒ code&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;identityTokenï¼šæˆæƒç”¨æˆ·çš„ JWT å‡­è¯&lt;br /&gt;
ç¤ºä¾‹ identityTokenï¼šæˆæƒç”¨æˆ·çš„ JWT å‡­è¯&lt;br /&gt;
 &lt;figure class=&#34;highlight smali&#34;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&#34;gutter&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;2&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&#34;code&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;eyJraWQiOiJBSURPUEsxIiwiYWxnIjoiUlMyNTYifQ.eyJpc3MiOiJodHRwczovL2FwcGxlaWQuYXBwbGUuY29tIiwiYXVkIjoiY29tLmZ1bi5BcHBsZUxvZ2luIiwiZXhwIjoxNTY4NzIxNzY5LCJpYXQiOjE1Njg3MjExNjksInN1YiI6IjAwMDU4MC4wODdjNTU0ZGNlMzU0NjZmYTg1YzVhNWQ1OTRkNTI4YS4wODAxIiwiY19oYXNoIjoiel9KY0RscFczQjJwN3ExR0Nna1JaUSIsImF1dGhfdGltZSI6MTU2ODcyMTE2OX0.WmSa4LzOzYsdwTqAJ_8mub4Ls3eyFkxZoGLoy-U7DatsTd_JEwAs3_OtV4ucmj6ENT3153iCpYY6vBxSQromOMcXsN74IrUQew24y_zflN2g4yU8ZVvBCbTrR_6p9f2fbeWjZiyNcbPCha0dv45E3vBjyHhmffWnk3vyndBBiwwuqod4pyCZ3UECf6Vu-o7dygKFpMHPS1ma60fEswY5d-_TJAFk1HaiOfFo0XbL6kwqAGvx8HnraIxyd0n8SbBVxV_KDxf15hdotUizJDW7N2XMdOGQpNFJim9SrEeBhn9741LWqkWCgkobcvYBZsrvnUW6jZ87SLi15rvIpq8_fw&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;br /&gt;
token è¢«è§£å¯†ååˆ†ä¸ºä¸‰ä¸ªéƒ¨åˆ†&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;header: åŒ…æ‹¬äº† key id ä¸åŠ å¯†ç®—æ³•&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;payload:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;iss: ç­¾å‘æœºæ„ï¼Œè‹¹æœ&lt;/li&gt;
&lt;li&gt;aud: æ¥æ”¶è€…ï¼Œç›®æ ‡ app&lt;/li&gt;
&lt;li&gt;expï¼šè¿‡æœŸæ—¶é—´&lt;/li&gt;
&lt;li&gt;iat: ç­¾å‘æ—¶é—´&lt;/li&gt;
&lt;li&gt;sub: ç”¨æˆ· id&lt;/li&gt;
&lt;li&gt;c_hash: ä¸€ä¸ªå“ˆå¸Œæ•°åˆ—&lt;/li&gt;
&lt;li&gt;auth_time: ç­¾åæ—¶é—´&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;signature: ç”¨äºéªŒè¯ JWT çš„ç­¾å&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Token éªŒè¯åŸç†ï¼š&lt;/p&gt;
&lt;p&gt;å› ä¸º idnetityToken ä½¿ç”¨éå¯¹ç§°åŠ å¯† RSASSAã€RSA ç­¾åç®—æ³•ã€‘ å’Œ ECDSAã€æ¤­åœ†æ›²çº¿æ•°æ®ç­¾åç®—æ³•ã€‘ï¼Œå½“éªŒè¯ç­¾åçš„æ—¶å€™ï¼Œåˆ©ç”¨å…¬é’¥æ¥è§£å¯† Singatureï¼Œå½“è§£å¯†å†…å®¹ä¸ base64UrlEncode (header) + â€œ.â€ + base64UrlEncode (payload) çš„å†…å®¹å®Œå…¨ä¸€æ ·çš„æ—¶å€™ï¼Œè¡¨ç¤ºéªŒè¯é€šè¿‡ã€‚&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;é˜²æ­¢ä¸­é—´äººæ”»å‡»åŸç†ï¼š&lt;/p&gt;
&lt;p&gt;è¯¥ token æ˜¯è‹¹æœåˆ©ç”¨ç§é’¥ç”Ÿæˆçš„ä¸€æ®µ JWTï¼Œå¹¶ç»™å‡ºå…¬é’¥æˆ‘ä»¬å¯¹ token è¿›è¡ŒéªŒè¯ï¼Œç”±äºä¸­é—´äººå¹¶æ²¡æœ‰è‹¹æœçš„ç§é’¥ï¼Œæ‰€ä»¥å®ƒç”Ÿæˆå‡ºæ¥çš„ token æ˜¯æ²¡æœ‰åŠæ³•åˆ©ç”¨è‹¹æœç»™å‡ºçš„å…¬é’¥è¿›è¡ŒéªŒè¯çš„ï¼Œç¡®ä¿çš„ token çš„å®‰å…¨æ€§ã€‚&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&#34;4-æ€»ç»“&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#4-æ€»ç»“&#34;&gt;#&lt;/a&gt; 4 æ€»ç»“&lt;/h2&gt;
&lt;p&gt;ç›®å‰ä½¿ç”¨çš„æ˜¯åŸºäºæˆæƒç çš„åç«¯éªŒè¯æ–¹å¼ï¼Œæ¯æ¬¡æ”¶åˆ°å®¢æˆ·ç«¯ç™»å½•è¯·æ±‚åéƒ½ä¼šåƒè‹¹æœæœåŠ¡å™¨å‘é€ post è¯·æ±‚æ¥éªŒè¯ï¼Œå¯¼è‡´å—ç½‘ç»œå½±å“è¾ƒå¤§ã€‚å¦‚æœæ”¹æˆç¬¬ä¸€ç§æ–¹å¼åï¼Œé™¤äº†è·å–å…¬é’¥å¤–ä¸å†ä¾èµ–ç½‘ç»œè¯·æ±‚ï¼Œå¯é™ä½ç½‘ç»œå¼‚å¸¸æƒ…å†µå¸¦æ¥çš„æŸå¤±ã€‚ä½†æ˜¯æœåŠ¡ç«¯è¦å®šæœŸåˆ·æ–°å…¬é’¥ï¼Œé˜²æ­¢å…¬é’¥å˜åŒ–å¸¦æ¥çš„éªŒè¯å¤±è´¥&lt;/p&gt;
&lt;h2 id=&#34;5-å‚è€ƒæ–‡æ¡£&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#5-å‚è€ƒæ–‡æ¡£&#34;&gt;#&lt;/a&gt; 5 å‚è€ƒæ–‡æ¡£&lt;/h2&gt;
&lt;p&gt;&lt;span class=&#34;exturl&#34; data-url=&#34;aHR0cHM6Ly9kZXZlbG9wZXIub2t0YS5jb20vYmxvZy8yMDE5LzA2LzA0L3doYXQtdGhlLWhlY2staXMtc2lnbi1pbi13aXRoLWFwcGxl&#34;&gt;https://developer.okta.com/blog/2019/06/04/what-the-heck-is-sign-in-with-apple&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&lt;span class=&#34;exturl&#34; data-url=&#34;aHR0cHM6Ly9kZXZlbG9wZXIuYXBwbGUuY29tL2NuL3NpZ24taW4td2l0aC1hcHBsZS8=&#34;&gt;https://developer.apple.com/cn/sign-in-with-apple/&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&lt;span class=&#34;exturl&#34; data-url=&#34;aHR0cHM6Ly9kZXZlbG9wZXIuYXBwbGUuY29tL2RvY3VtZW50YXRpb24vc2lnbmlud2l0aGFwcGxlcmVzdGFwaS9nZW5lcmF0ZV9hbmRfdmFsaWRhdGVfdG9rZW5z&#34;&gt;https://developer.apple.com/documentation/signinwithapplerestapi/generate_and_validate_tokens&lt;/span&gt;&lt;/p&gt;
 ]]></description>
        </item>
        <item>
            <guid isPermalink="true">https://oliverqueen.cn/2021-05-05-iOS-Crash%E9%98%B2%E6%8A%A4%E4%BD%A0%E7%9C%8B%E8%BF%99%E4%B8%AA%E5%B0%B1%E5%A4%9F%E4%BA%86-%E4%B8%8B%E7%AF%87/</guid>
            <title>iOS Crashé˜²æŠ¤ä½ çœ‹è¿™ä¸ªå°±å¤Ÿäº†-ä¸‹ç¯‡</title>
            <link>https://oliverqueen.cn/2021-05-05-iOS-Crash%E9%98%B2%E6%8A%A4%E4%BD%A0%E7%9C%8B%E8%BF%99%E4%B8%AA%E5%B0%B1%E5%A4%9F%E4%BA%86-%E4%B8%8B%E7%AF%87/</link>
            <category>iOS</category>
            <category>Crashé˜²æŠ¤</category>
            <pubDate>Wed, 05 May 2021 10:23:42 +0800</pubDate>
            <description><![CDATA[ &lt;link rel=&#34;stylesheet&#34; class=&#34;aplayer-secondary-style-marker&#34; href=&#34;/assets/css/APlayer.min.css&#34;&gt;&lt;script src=&#34;/assets/js/APlayer.min.js&#34; class=&#34;aplayer-secondary-script-marker&#34;&gt;&lt;/script&gt;&lt;h1 id=&#34;0x1-previously&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#0x1-previously&#34;&gt;#&lt;/a&gt; 0x1: Previously&lt;/h1&gt;
&lt;p&gt;&lt;a href=&#34;https://oliverqueen.cn/2021/05/03/iOS%20Crash%E9%98%B2%E6%8A%A4%E4%BD%A0%E7%9C%8B%E8%BF%99%E4%B8%AA%E5%B0%B1%E5%A4%9F%E4%BA%86-%E4%B8%8A%E7%AF%87/&#34;&gt;ä¸Šç¯‡&lt;/a&gt; ä¸­è®²åˆ°äº† Crash å¤„ç†æµç¨‹åˆ†ä¸ºå››ä¸ªç¯èŠ‚ï¼Œä¹Ÿåˆ†æäº† Crash é˜²æŠ¤çš„æ–¹æ³•ï¼Œæœ¬ç« æ¥è®²ä¸‹å…¶ä½™ä¸‰ä¸ªç¯èŠ‚ã€‚&lt;/p&gt;
&lt;h1 id=&#34;0x2-crashçš„æ‹¦æˆª&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#0x2-crashçš„æ‹¦æˆª&#34;&gt;#&lt;/a&gt; 0x2: Crash çš„æ‹¦æˆª&lt;/h1&gt;
&lt;p&gt;æ‰€æœ‰çš„æœªè¢«é˜²æŠ¤ä½çš„ Crash æœ€ç»ˆä¼šèµ°åˆ°è¿™é‡Œï¼Œåœ¨è¿™é‡Œæˆ‘ä»¬å¿…é¡»è¦ä¿è¯æ‹¦æˆªçš„  &lt;code&gt;å…¨é¢æ€§&lt;/code&gt; ã€ &lt;code&gt;ç¨³å®šæ€§&lt;/code&gt; å°½å¯èƒ½å¤šçš„æ‹¦æˆªåˆ°æ‰€æœ‰ç±»å‹çš„å¼‚å¸¸ï¼ŒåŒæ—¶æ‹¦æˆªé€»è¾‘æœ¬èº«ä¸èƒ½äº§ç”Ÿå¼‚å¸¸ã€‚é‚£ä¹ˆæˆ‘ä»¬éœ€è¦é€šè¿‡ä»¥ä¸‹å‡ ä¸ªæ–¹é¢å»è€ƒè™‘ã€‚&lt;/p&gt;
&lt;p&gt;&lt;img data-src=&#34;https://gimg2.baidu.com/image_search/src=http%3A%2F%2Fdingyue.ws.126.net%2F2020%2F0504%2Fa0ef0444j00q9saus002gc000xc00irm.jpg&amp;amp;refer=http%3A%2F%2Fdingyue.ws.126.net&amp;amp;app=2002&amp;amp;size=f9999,10000&amp;amp;q=a80&amp;amp;n=0&amp;amp;g=0n&amp;amp;fmt=jpeg?sec=1622826899&amp;amp;t=2b1dd016c1ac10c52097431b7fa9af7d&#34; alt=&#34;&#34; /&gt;&lt;/p&gt;
&lt;p&gt;&lt;span id=&#34;more&#34;&gt;&lt;/span&gt;&lt;/p&gt;
&lt;h2 id=&#34;i-crashç±»å‹&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#i-crashç±»å‹&#34;&gt;#&lt;/a&gt; I: Crash ç±»å‹&lt;/h2&gt;
&lt;p&gt;å’Œå¤šæ•°æ“ä½œç³»ç»Ÿä¸€æ ·ï¼ŒiOS çš„å¼‚å¸¸ä¹ŸåŸºæœ¬åˆ†ä¸º  &lt;code&gt;ç”¨æˆ·å±‚&lt;/code&gt;   &lt;code&gt;ç³»ç»Ÿåº•å±‚&lt;/code&gt;   &lt;code&gt;ä¿¡å·&lt;/code&gt;  è¿™ä¸‰ä¸ªç±»åˆ«ï¼Œæ¥ä¸‹æ¥æˆ‘ä»¬çœ‹ä¸‹æ¯ç§å¼‚å¸¸éƒ½åšäº†å“ªäº›äº‹æƒ…&lt;/p&gt;
&lt;p&gt;&lt;img data-src=&#34;https://cdn.cdnjson.com/tva1.sinaimg.cn/large/008i3skNly1gq7dqhr2e2j31860qg79l.jpg&#34; alt=&#34;&#34; /&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;Mach Exception &amp;lt;br&amp;gt;&lt;br /&gt;
Mach å¼‚å¸¸ï¼Œåˆ†ä¸ºä¸¤ç§æƒ…å†µï¼Œç¬¬ä¸€ç§æ˜¯æœ¬èº«å°±æ˜¯ç¡¬ä»¶å±‚é¢æˆ–è€…ç³»ç»Ÿå±‚é¢çš„å¼‚å¸¸ï¼Œè¿™ä¸ªå¤§å®¶æ¯”è¾ƒå¥½ç†è§£ï¼Œå› ä¸º mach æ˜¯å¾®å†…æ ¸ï¼Œæ‰€ä»¥åº•å±‚çš„å†…æ ¸çº§åˆ«çš„åŒ…æ‹¬ç¡¬ä»¶çš„å¼‚å¸¸éƒ½æ˜¯ mach å¼‚å¸¸ã€‚å¦ä¸€ç§æ˜¯ iOS ç³»ç»Ÿç‹¬æœ‰çš„é€»è¾‘æˆ–è€…è¯´æ˜¯è‹¹æœç‹¬æœ‰çš„ã€‚å°±æ˜¯ç”¨æˆ·å±‚é¢çš„å¼‚å¸¸ä¹Ÿéƒ½é¦–å…ˆä¸‹æ²‰åˆ° mach å±‚å†å‘å‡ºæ¥ï¼Œä¹Ÿç­‰äºæ˜¯å¦ä¸€ç§æ„ä¹‰ä¸Šçš„ mach å¼‚å¸¸ã€‚è‹¹æœå®˜æ–¹æ–‡æ¡£ä¸Šå†™çš„æ˜¯ä¸ºäº†ç»Ÿä¸€æœºåˆ¶æ‰åšäº†è¿™æ ·çš„å¤„ç†ï¼Œä½†æ˜¯æ²¡æœ‰è¯´å…·ä½“åŸå› ã€‚ä»–çš„è§¦å‘æµç¨‹å¤§æ¦‚ä¸ºä¸‹å›¾&lt;/p&gt;
&lt;p&gt;&lt;img data-src=&#34;https://cdn.cdnjson.com/tva1.sinaimg.cn/large/008i3skNly1gq7yp0q2aaj30f60uqtaf.jpg&#34; alt=&#34;&#34; /&gt;&lt;/p&gt;
&lt;p&gt;ç„¶åæˆ‘å»çœ‹ Runtime çš„æºç è¿›ä¸€æ­¥è¯æ˜äº†è¿™ä¸ªè¯´æ³•ï¼Œrunloop ä¸­å¤§é‡ä½¿ç”¨è¿™ç§æ–¹å¼ç›‘å¬ mach å¼‚å¸¸æ¶ˆæ¯ï¼Œä¸€æ—¦ Crash éšæ—¶å‡†å¤‡æ‰“ç ´å¾ªç¯ï¼Œå› ä¸ºç³»ç»Ÿä¹Ÿéœ€è¦ç›‘å¬ crashï¼Œç»Ÿä¸€å‡ºå£å°†å¯¹ç›‘å¬æ¥è¯´å¯¹ç³»ç»Ÿå°†å˜å¾—éå¸¸æ–¹ä¾¿ã€‚&lt;/p&gt;
&lt;p&gt;&lt;img data-src=&#34;https://cdn.cdnjson.com/tva1.sinaimg.cn/large/008i3skNly1gq7yvd5gpvj30pc02mt9o.jpg&#34; alt=&#34;&#34; /&gt;&lt;/p&gt;
&lt;p&gt;æ ¹æ®ä»£ç ä¸Šä¸‹æ–‡å¯ä»¥åˆ¤æ–­å‡ºï¼Œè‹¹æœä¼šç›‘å¬ç»Ÿä¸€çš„å¼‚å¸¸ç«¯å£ï¼Œåœ¨å‡ºç°å¼‚å¸¸åè¿›è¡Œç›¸åº”çš„æ“ä½œï¼Œä¹Ÿå°è¯äº†æˆ‘å½“æ—¶çš„æ¨æ–­ã€‚&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Exception &amp;lt;br&amp;gt;&lt;br /&gt;
 å¾ˆå¸¸è§çš„å¼‚å¸¸ï¼Œè§¦å‘æµç¨‹å¤§æ¦‚ä¸º&lt;br /&gt;
&lt;img data-src=&#34;https://cdn.cdnjson.com/tva1.sinaimg.cn/large/008i3skNly1gq7z1qkeksj30g60lkaax.jpg&#34; alt=&#34;&#34; /&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;signal &amp;lt;br&amp;gt;&lt;/p&gt;
&lt;p&gt;signal çš„äº§ç”Ÿæµç¨‹å¤§æ¦‚åˆ†ä¸ºå‡ ç§æƒ…å†µ&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;ç”±äº  &lt;code&gt;MachExcption&lt;/code&gt;  è½¬æ¢è€Œæˆçš„ signal&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;ç”±äº Exception è€Œå‘å‡ºçš„ abort ä¿¡å·&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;ç”¨æˆ·è‡ªå®šä¹‰çš„ä¿¡å·&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;ä½†æ˜¯éœ€è¦æ³¨æ„ä¸€ç‚¹ï¼š&amp;lt;font color=red size=3 face=&amp;quot;é»‘ä½“&amp;quot;&amp;gt; æ”¶åˆ° signal ä¸ä¸€å®šä¼š Crashï¼Œä½†æ˜¯ Crash ä¸€å®šä¼šæœ‰ Signal å‘å‡º &amp;lt;/font&amp;gt;&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&#34;ii-crashä¼ é€’æµç¨‹&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#ii-crashä¼ é€’æµç¨‹&#34;&gt;#&lt;/a&gt; II: Crash ä¼ é€’æµç¨‹&lt;/h2&gt;
&lt;p&gt;ä¸Šé¢åˆ†æäº†æ¯ç§ Crash çš„ç±»å‹ï¼Œé‚£ä¹ˆè¿™ä¸‰ç§ç±»å‹çš„ Crash æ˜¯å¦‚ä½•åœ¨ App ç”Ÿå‘½å‘¨æœŸä¸­ä¼ é€’çš„å‘¢ï¼Ÿä»–ä»¬åˆæ˜¯å¦‚ä½•ç›¸äº’è½¬åŒ–ä»¥åŠç›¸äº’ä¹‹é—´æœ‰ä»€ä¹ˆå…³ç³»å‘¢ï¼Ÿ&lt;/p&gt;
&lt;p&gt;&lt;img data-src=&#34;https://cdn.cdnjson.com/tva1.sinaimg.cn/large/008i3skNly1gq7z8sxdxoj313o0n07hs.jpg&#34; alt=&#34;&#34; /&gt;&lt;/p&gt;
&lt;p&gt;å¸®å¤§å®¶æå–ä¸‹ä¸Šå›¾ä¸­çš„å‡ ä¸ªå…³é”®ä¿¡æ¯&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;1ï¼šException æœ€ç»ˆä¼šè½¬åŒ–ä¸º Mach Exception&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;2ï¼šé€šè¿‡ Mach ç«¯å£æ‹¦æˆªçš„è¾ƒä¸ºå…¨é¢&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;3ï¼šå¦‚æœå‘ç”Ÿäº† exception é‚£ä¹ˆå°±ä¸ä¼šæŠ›å‡ºå¯¹åº”çš„ signal åªèƒ½æŠ›å‡º abort ();&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;4ï¼šé€šè¿‡æ•è· signal æ˜¯æ— æ³•æ‹¦æˆªåˆ° exceptionã€‚&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&#34;iii-æ‹¦æˆªçš„é€‰æ‹©&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#iii-æ‹¦æˆªçš„é€‰æ‹©&#34;&gt;#&lt;/a&gt; III: æ‹¦æˆªçš„é€‰æ‹©&lt;/h2&gt;
&lt;p&gt;é€šè¿‡ä¸Šé¢çš„åˆ†æå¤§å®¶ä¸€å®šä¼šè¯´é€šè¿‡ Mach ç«¯å£çš„æ‹¦æˆªæ›´åŠ å…¨é¢ï¼Œæ¯•ç«Ÿè‹¹æœè‡ªå·±ä¹Ÿåœ¨ç”¨ã€‚ä½†æ˜¯åœ¨å®é™…ä½¿ç”¨ä¸­æœ‰ä¸€ä¸ªé—®é¢˜ï¼Œmach ä¼šæ‹¦æˆªæ‰€æœ‰çš„å¼‚å¸¸ä»¥åŠä¿¡å·é‡ï¼Œä¹Ÿå°±æ˜¯éšä¾¿ä¸€ä¸ªæ“ä½œï¼ˆæ¯”å¦‚å‘ä¸€ä¸ªè‡ªå®šä¹‰ signal ç­‰ï¼‰å¯èƒ½éƒ½è¢« mach æ•è·ï¼Œé‚£ä¹ˆå¦‚æœåœ¨å…¶æ•è·å›è°ƒä¸­å†è¿›è¡Œæ•è·å°±ä¼šå¾ˆå®¹æ˜“å‘ç”Ÿæ­»é”ï¼Œè€Œä¸”å®¹æ˜“å’Œç³»ç»Ÿçš„å¤„ç†äº§ç”Ÿå†²çªã€‚å½“æ—¶çœ‹äº† PLCrash çš„æ–‡æ¡£ï¼Œä¹Ÿçœ‹åˆ°äº†å¼€å‘è€…å†™çš„ä¸€å¥è¯ï¼š&lt;/p&gt;
&lt;p&gt;&lt;img data-src=&#34;https://cdn.cdnjson.com/tva1.sinaimg.cn/large/008i3skNly1gq7znanxjrj315y03odjv.jpg&#34; alt=&#34;&#34; /&gt;&lt;/p&gt;
&lt;p&gt;è¿™æ ·è¯´æ˜äº†å¤§å®¶ç¡®å®è¢«å‘è¿‡ã€‚&lt;/p&gt;
&lt;p&gt;é‚£æ¥ä¸‹æ¥åªå‰© signal å’Œ exceptionï¼Œå…¶å®ç»†å¿ƒçš„åŒå­¦æ—©å·²å‘ç°è¿™ä¸¤ä¸ªçš„ä¼˜ç¼ºç‚¹æ˜¯ä¸€ä¸ªäº’è¡¥çš„çŠ¶æ€&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;singal èƒ½æ•è·é™¤ Exception ä¹‹å¤–çš„æ‰€æœ‰å¼‚å¸¸ã€‚&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;exception åªèƒ½è·å–åº”ç”¨å±‚çš„å¼‚å¸¸è€Œå¯¹ä¿¡å·é‡æ— æ³•å¤„ç†&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;é‚£ä¹ˆæœ€ç»ˆçš„æ–¹å¼é‡‡ç”¨ singnal + exception çš„æ–¹å¼è¿›è¡Œæ•è·ï¼Œæœ€ç»ˆçš„æµç¨‹ä¸ºï¼š&lt;/p&gt;
&lt;p&gt;&lt;img data-src=&#34;https://cdn.cdnjson.com/tva1.sinaimg.cn/large/008i3skNly1gq7zrbfy5xj30c40okdgu.jpg&#34; alt=&#34;&#34; /&gt;&lt;/p&gt;
&lt;h2 id=&#34;iv-å‘ç‚¹&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#iv-å‘ç‚¹&#34;&gt;#&lt;/a&gt; IV: å‘ç‚¹&lt;/h2&gt;
&lt;p&gt;ä¸Šé¢çš„æµç¨‹å›¾å¯ä»¥çœ‹å‡ºåœ¨æ¯ä¸€ä¸ª CustomHandle ä¹‹å‰éƒ½ä¼šæœ‰ä¸€ä¸ª PreviousHandleï¼Œå…¶å®æ˜¯å› ä¸ºåœ¨ iOS ç³»ç»Ÿä¸­åªèƒ½å­˜åœ¨ä¸€ä¸ª customHandelï¼Œå¦‚æœä½ çš„é¡¹ç›®ä¸­æ¥å…¥äº†æˆ–è€…å‡†å¤‡æ¥å…¥å¤šä¸ª Crash é˜²æŠ¤ç›¸å…³çš„ SDKï¼ˆè™½ç„¶ä¸å»ºè®®è¿™ä¹ˆåšï¼‰ï¼Œé‚£ä¹ˆå¤šä¸ª Handle ä¹‹é—´ä¸€å®šä¼šäº§ç”Ÿå†²çªï¼Œå¯¼è‡´å †æ ˆä¸æ˜ç¡®ï¼Œæˆ–è€…ä¸¢å¤±ã€‚æ‰€ä»¥åœ¨æ³¨å†Œæˆ‘ä»¬çš„ handle å‰å…ˆå°†ä¹‹å‰çš„ handle æŒ‡é’ˆä¿å­˜ä¸‹æ¥ï¼Œç­‰æˆ‘ä»¬çš„ handle å¤„ç†å®Œååœ¨é€šè¿‡å‡½æ•°æŒ‡é’ˆè°ƒç”¨å›å»ï¼Œè¿™æ ·å°±èƒ½ä¿è¯æ¯ä¸€ä¸ª handle éƒ½èƒ½è¢«æ­£å¸¸è°ƒç”¨ã€‚&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;exceptionï¼šé€šè¿‡ &lt;code&gt;NSGetUncaughtExceptionHandler&lt;/code&gt;  è·å¾—ä¹‹å‰ handle æŒ‡é’ˆï¼Œä¹‹åå†é€šè¿‡ &lt;code&gt;NSSetUncaughtExceptionHandler(oldHandler);&lt;/code&gt;  è°ƒç”¨å›å»ã€‚&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;signal: ä½¿ç”¨ &lt;code&gt;sigaction&lt;/code&gt;  å‡½æ•°è·å¾—ä¹‹å‰çš„ handle æŒ‡é’ˆã€‚&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h1 id=&#34;0x3-å †æ ˆè·å–&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#0x3-å †æ ˆè·å–&#34;&gt;#&lt;/a&gt; 0x3: å †æ ˆè·å–&lt;/h1&gt;
&lt;p&gt;å› ä¸ºè‹¹æœä½¿ç”¨äº† (Address Space Layout Randomization) åœ°å€ç©ºé—´é…ç½®éšæœºåŠ è½½æŠ€æœ¯ï¼Œæ‰€ä»¥çº¿ä¸Šå †æ ˆå¿…é¡»è¦é€šè¿‡ç¬¦å·è¡¨å †æ ˆè¿˜åŸè¿›è¡Œè§£è¯»ï¼Œä¸ç„¶çš„è¯å°±æ˜¯å†…å­˜åœ°å€ã€‚æ‰€ä»¥å½“æˆ‘ä»¬ä½¿ç”¨ NSThread çš„ç›¸å…³å‡½æ•°åœ¨ Debug ä¸‹è™½ç„¶èƒ½çœ‹åˆ°å¯è¯»æ€§è¡Œçš„å †æ ˆï¼Œä½†æ˜¯åœ¨çº¿ä¸ŠåŒ…ä¸Šå¹¶ä¸å¯å–ï¼Œé‚£æˆ‘ä»¬è¦æ€ä¹ˆè·å–å †æ ˆå‘¢ï¼Ÿå…ˆæ¥çœ‹ä¸‹ç¬¦å·è¡¨çš„æ„é€ ï¼š&lt;/p&gt;
&lt;p&gt;&lt;img data-src=&#34;https://cdn.cdnjson.com/tva1.sinaimg.cn/large/008i3skNly1gq80i60uhsj30ya0eih1g.jpg&#34; alt=&#34;&#34; /&gt;&lt;/p&gt;
&lt;p&gt;ä¹‹å‰æ‹¿åˆ°è¿™æ ·çš„ç¬¦å·è¡¨ï¼Œæˆ‘ä»¬é€šå¸¸æ‰‹åŠ¨è¿˜åŸï¼Œæ‰¾ä¸€ä¸ªç›¸åŒç³»ç»Ÿçš„çœŸæœºï¼Œæ‰¾åˆ°å¯¹åº”åº“çš„åŸºåœ°å€æŒ‰ç…§ç¬¦å·è¡¨ä¸Šå‡½æ•°çš„åç§»é‡è¿›è¡Œè®¡ç®—ï¼ˆé€šè¿‡ LLDB çš„ç›¸å…³å‡½æ•°ï¼‰&lt;/p&gt;
&lt;p&gt;&lt;img data-src=&#34;https://cdn.cdnjson.com/tva1.sinaimg.cn/large/008i3skNly1gq80lfgy0hj30q208i0te.jpg&#34; alt=&#34;&#34; /&gt;&lt;/p&gt;
&lt;p&gt;é€šè¿‡çœ‹ Mach-o ç›¸å…³æ¥å£å¯ä»¥æ‰¾åˆ°ç›¸å…³å‡½æ•°è¿›è¡Œç«¯å†…ç¬¦å·è¡¨è¿˜åŸï¼Œå¤§è‡´æµç¨‹ä¸ºï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;è·å–å‡½æ•°åœ°å€ï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;éå† Mach-o ä¸­çš„æ‰€æœ‰ image&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;è·å–æ¯ä¸ª image çš„åŸºåœ°å€&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;é€šè¿‡å †æ ˆåç§»åœ°å€è·å–æ ˆå¸§å‡½æ•°åœ°å€&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;å°†å‡½æ•°åœ°å€ç¿»è¯‘æˆå‡½æ•°å&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;æ‰¾åˆ°å¯¹åº” Image çš„ symple table æ®µçš„ nlist_64 ç»“æ„ä½“&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;é€šè¿‡ nlist_64.n_un.n_strx è·å–å‡½æ•°å¯¹åº”çš„å­—ç¬¦ä¸²&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;æœ€ç»ˆçš„æ•ˆæœ:&lt;/p&gt;
&lt;p&gt;&lt;img data-src=&#34;https://cdn.cdnjson.com/tva1.sinaimg.cn/large/008i3skNly1gq80unfse1j31fc0cin8n.jpg&#34; alt=&#34;&#34; /&gt;&lt;/p&gt;
&lt;h1 id=&#34;0x4-crashåç»­&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#0x4-crashåç»­&#34;&gt;#&lt;/a&gt; 0x4: Crash åç»­&lt;/h1&gt;
&lt;p&gt;é€šå¸¸åœ¨ AppCrash åä¼šåœ¨ handle ä¸­åšäº›ä¸ŠæŠ¥æ“ä½œ.&lt;/p&gt;
&lt;p&gt;&lt;img data-src=&#34;https://cdn.cdnjson.com/tva1.sinaimg.cn/large/008i3skNly1gq80xn75voj31cc04ydg7.jpg&#34; alt=&#34;&#34; /&gt;&lt;/p&gt;
&lt;p&gt;ä½†æ˜¯è¿™æ ·åšæœ‰ä¸¤ä¸ªé—®é¢˜ï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;è‹¹æœä¸æ¨èåœ¨ Handle ä¸­åšå¤ªå¤šæ“ä½œï¼Œè€Œä¸”æ•°æ®ä¸ŠæŠ¥ç­‰ç½‘ç»œè¯·æ±‚å±äºè€—æ—¶æ“ä½œï¼Œæœ‰å¯èƒ½æ²¡æœ‰å®Œæˆ App å°±è¢«æ€æ­»ã€‚&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;App ç›´æ¥é—ªé€€ï¼Œä½“éªŒä¸å¥½&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;é€šè¿‡æŸ¥çœ‹ runloop æºç å¯ä»¥çœ‹å‡ºï¼Œåœ¨ Crash å‘ç”Ÿåå½“å‰ runloop ä¸­æ–­&lt;/p&gt;
&lt;p&gt;&amp;lt;font color=&#39;red&#39;&amp;gt; æ³¨æ„ï¼šrunloop æœ¬æ¬¡å¾ªç¯è¿˜åœ¨ç»§ç»­ï¼Œä½†æ˜¯å¾ªç¯å·²ç»è¢«æ‰“ç ´ï¼Œæœ¬æ¬¡å¾ªç¯ç»“æŸå app æ‰é€€å‡º &amp;lt;/font&amp;gt; æ—¢ä¸‹å›¾çš„ retVal è¢«ç½®ä¸º NO&lt;br /&gt;
&lt;img data-src=&#34;https://cdn.cdnjson.com/tva1.sinaimg.cn/large/008i3skNly1gq810qv4osj317e0nawla.jpg&#34; alt=&#34;&#34; /&gt;&lt;/p&gt;
&lt;p&gt;iOS Crash å‘ç”Ÿå   runloop ä¸­çš„ do-while å¾ªç¯çš„æ¡ä»¶ä¼šè¢«ç½®ä¸º NOï¼Œç„¶å Handler å‡½æ•°èµ°å®Œä¹‹åå½“å‰å¾ªç¯åç›´æ¥ç»“æŸï¼Œä¸ä¼šåœ¨è¿›è¡Œä¸‹ä¸€æ¬¡å¾ªç¯äº†ï¼Œæ­¤æ—¶æˆ‘ä»¬åªéœ€è¦å† handler ä¸­å†é‡å¯ runloopï¼Œä¾¿å¯ä»¥ç»§ç»­æ‰§è¡Œä»£ç ï¼Œé€šè¿‡è§‚å¯Ÿ runloop æºç å¯ä»¥çœ‹å‡º è¿™æ ·çš„æ“ä½œæ˜¯åœ¨ä¹‹å‰å·²ç»ä¸­æ–­ä½†æ˜¯è¿˜æ²¡ç»“æŸçš„ runloop ä¸­å¼€å¯ä¸€ä¸ªæ–°çš„ runloopï¼Œä»–ä¾ç„¶å¯ä»¥æ¥å—å„ç§äº‹ä»¶ï¼Œæ¯”å¦‚äº¤äº’äº‹ä»¶ç­‰ï¼Œå‰ææ˜¯æ¯ä¸ª model éƒ½è¦å¼€å¯ï¼Œå› ä¸ºä¸åŒæ“ä½œæ˜¯å‘ç”Ÿåœ¨ä¸åŒé˜¶æ®µçš„ã€‚  ä½†æ˜¯ä¹‹å‰ runloop ä¸­çš„å†…å®¹å¤„äºä¸å¯æ§çŠ¶æ€ï¼Œä¸”ä¹‹å‰çš„ä¸œè¥¿è¢«æ°¸è¿œçš„ç•™åœ¨å†…å­˜ä¸­ï¼Œä¸å¯æ¢å¤ï¼Œæ‰€ä»¥åœ¨åšå®Œç›¸å…³æ“ä½œåè¦ç«‹å³ç»“æŸ Appï¼Œé¿å…å…¶ä»–å¼‚å¸¸æƒ…å†µï¼Œè¿™ç§åšæ³•ç±»ä¼¼äºä¸€ç§å®‰å…¨æ¨¡å¼ï¼Œåœ¨å®‰å…¨æ¨¡å¼ä¸­å¤„ç†ç›¸å…³çš„ä¸œè¥¿ã€‚&lt;/p&gt;
&lt;p&gt;&lt;img data-src=&#34;https://cdn.cdnjson.com/tva1.sinaimg.cn/large/008i3skNly1gq814a1gryj31f00ac3zo.jpg&#34; alt=&#34;&#34; /&gt;&lt;/p&gt;
&lt;p&gt;å‡½æ•°è°ƒç”¨ï¼š&lt;/p&gt;
&lt;p&gt;&lt;figure class=&#34;highlight objectivec&#34;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&#34;gutter&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;8&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;9&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;10&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&#34;code&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;type&#34;&gt;void&lt;/span&gt; continueAfterCrash()&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;    &lt;span class=&#34;built_in&#34;&gt;CFRunLoopRef&lt;/span&gt; runLoop = &lt;span class=&#34;built_in&#34;&gt;CFRunLoopGetCurrent&lt;/span&gt;();&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;    &lt;span class=&#34;built_in&#34;&gt;CFArrayRef&lt;/span&gt; allModes = &lt;span class=&#34;built_in&#34;&gt;CFRunLoopCopyAllModes&lt;/span&gt;(runLoop);&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;    &lt;span class=&#34;keyword&#34;&gt;for&lt;/span&gt; (&lt;span class=&#34;built_in&#34;&gt;NSString&lt;/span&gt; *mode &lt;span class=&#34;keyword&#34;&gt;in&lt;/span&gt; (__bridge &lt;span class=&#34;built_in&#34;&gt;NSArray&lt;/span&gt; *)allModes)&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;    &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;        &lt;span class=&#34;built_in&#34;&gt;CFRunLoopRunInMode&lt;/span&gt;((&lt;span class=&#34;built_in&#34;&gt;CFStringRef&lt;/span&gt;)mode, &lt;span class=&#34;number&#34;&gt;1.0e10&lt;/span&gt;, &lt;span class=&#34;literal&#34;&gt;false&lt;/span&gt;);&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;    &amp;#125;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&amp;#125;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;br /&gt;
&lt;img data-src=&#34;https://cdn.cdnjson.com/tva1.sinaimg.cn/large/008i3skNly1gq81k7k7xcj30cq0um0wg.jpg&#34; alt=&#34;&#34; /&gt;&lt;/p&gt;
&lt;p&gt;åœ¨æ–°çš„ runloop ä¸­æˆ‘ä»¬åšä¸€äº›æ“ä½œåå†è°ƒç”¨ abort é€€å‡º Appï¼Œæ¯”å¦‚å¼¹å‡ºå‹å¥½æç¤ºä¹‹ç±»çš„æ“ä½œï¼Œå‘ŠçŸ¥ç”¨æˆ· app å³å°†é€€å‡ºï¼Œä½†æ˜¯è¯¥æ“ä½œå­˜åœ¨é£é™©ï¼Œéœ€è¦æ³¨æ„ä»¥ä¸‹æƒ…å†µ&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;æ–°å¼€ runloop åä¹‹å‰çš„ runloop å†…å®¹ä¾¿ä¼šæ°¸è¿œçš„ç•™åœ¨å†…å­˜ä¸­å˜æˆä¸å¯æ§çš„çŠ¶æ€å¦‚æœä¸€æ—¦è¢«è®¿é—®å¯èƒ½ä¼šæœ‰å¼‚å¸¸ï¼Œæ‰€ä»¥åœ¨åšå®Œæˆ‘ä»¬å¿…è¦çš„æ“ä½œåè¦åŠæ—¶ç»“æŸ Appã€‚&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;å®‰å…¨æ¨¡å¼å¿…é¡»ä¿è¯ç¨³å®šï¼Œåœ¨æ–° runloop ä¸­æ‰§è¡Œçš„ä¸ŠæŠ¥ã€å¼¹çª—æˆ–è€…å…¶ä»–é€»è¾‘å¿…é¡»è¦ä½¿ç”¨ç³»ç»ŸåŸç”Ÿçš„ APIï¼Œä¸èƒ½ä¾èµ–ä»»ä½•ç¬¬ä¸‰æ–¹ã€‚&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;å°½é‡ä¸è¦åšå¤ªå¤šçš„æ“ä½œï¼ŒåŠæ—¶ç»“æŸã€‚&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h1 id=&#34;0x5-å‚è€ƒèµ„æ–™&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#0x5-å‚è€ƒèµ„æ–™&#34;&gt;#&lt;/a&gt; 0x5: å‚è€ƒèµ„æ–™&lt;/h1&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;&lt;span class=&#34;exturl&#34; data-url=&#34;aHR0cHM6Ly9kZXZlbG9wZXIuYXBwbGUuY29tL2RvY3VtZW50YXRpb24=&#34;&gt;Apple iOS Api&lt;/span&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;span class=&#34;exturl&#34; data-url=&#34;aHR0cHM6Ly9vcGVuc291cmNlLmFwcGxlLmNvbS8=&#34;&gt;iOS Open Sourcre&lt;/span&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;span class=&#34;exturl&#34; data-url=&#34;aHR0cHM6Ly9vcGVuc291cmNlLmFwcGxlLmNvbS9zb3VyY2UvQ0YvQ0YtMTE1MS4xNi8=&#34;&gt;CFRunloop&lt;/span&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;span class=&#34;exturl&#34; data-url=&#34;aHR0cDovL29wZW5zb3VyY2UuYXBwbGUuY29tL3RhcmJhbGxzL3hudS94bnUtMzI0OC42MC4xMC50YXIuZ3o=&#34;&gt;XNU 3248.60.10 æºç &lt;/span&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;span class=&#34;exturl&#34; data-url=&#34;aHR0cHM6Ly9kZXZlbG9wZXIuYXBwbGUuY29tL2RvY3VtZW50YXRpb24veGNvZGUvZGlhZ25vc2luZ19pc3N1ZXNfdXNpbmdfY3Jhc2hfcmVwb3J0c19hbmRfZGV2aWNlX2xvZ3MvYW5hbHl6aW5nX2FfY3Jhc2hfcmVwb3J0&#34;&gt;Understanding Crash Reports on iPhone OS&lt;/span&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;ã€Šæ·±å…¥è§£æ MAC OS X &amp;amp; IOS æ“ä½œç³»ç»Ÿã€‹&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h1 id=&#34;0x6-æœ€å&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#0x6-æœ€å&#34;&gt;#&lt;/a&gt; 0x6: æœ€å&lt;/h1&gt;
&lt;p&gt;å¤§æ¦‚è¿™å°±æ˜¯æ‰€æœ‰ Crash é˜²æŠ¤çš„æµç¨‹ï¼Œé€šè¿‡ä¸¤ç¯‡æ–‡ç« è®²è§£ï¼Œå¸Œæœ›å¤§å®¶å¯¹ iOS ç³»ç»Ÿçš„ Crash æµç¨‹èƒ½æœ‰äº›è®¸çš„äº†è§£ï¼Œå¹¶æ²¡æœ‰è´´å¤ªå¤šçš„æºç ï¼Œå…¶å®è¿˜æ˜¯è§£è€¦åº¦ä¸å¤Ÿï¼Œæ€è·¯æœ‰äº†ä»£ç å°±å¾ˆç®€å•äº†ã€‚&lt;/p&gt;
&lt;p&gt;
        &lt;div id=&#34;aplayer-yREUnHKW&#34; class=&#34;aplayer aplayer-tag-marker&#34; style=&#34;margin-bottom: 20px;&#34;&gt;&lt;/div&gt;
			  &lt;script&gt;
				  var options = {&#34;narrow&#34;:false,&#34;autoplay&#34;:true,&#34;showlrc&#34;:0,&#34;mutex&#34;:true,&#34;music&#34;:[{&#34;title&#34;:&#34;é”™ä½æ—¶ç©º&#34;,&#34;author&#34;:&#34;è‰¾è¾°&#34;,&#34;url&#34;:&#34;https://molier-1256056152.cos.ap-guangzhou.myqcloud.com/%E8%89%BE%E8%BE%B0%20-%20%E9%94%99%E4%BD%8D%E6%97%B6%E7%A9%BA.mp3&#34;,&#34;pic&#34;:&#34;https://bkimg.cdn.bcebos.com/pic/a8ec8a13632762d0f7037ac288a71ffa513d26976830?x-bce-process=image/watermark,image_d2F0ZXIvYmFpa2UxMTY=,g_7,xp_5,yp_5/format,f_auto&#34;,&#34;lrc&#34;:&#34;https://æ­Œè¯.lrc&#34;}]};
				  options.element = document.getElementById(&#34;aplayer-yREUnHKW&#34;);
				  var ap = new APlayer(options);
			    window.aplayers || (window.aplayers = []);
				  window.aplayers.push(ap);
			  &lt;/script&gt;&lt;/p&gt;
 ]]></description>
        </item>
    </channel>
</rss>
