{
    "version": "https://jsonfeed.org/version/1",
    "title": "Molier • All posts by \"xcode\" tag",
    "description": "iOS 开发 移动App 博客 杂谈 随笔 相册",
    "home_page_url": "https://oliverqueen.cn",
    "items": [
        {
            "id": "https://oliverqueen.cn/2018-01-23-%E5%9C%A8iOS11%E4%B8%8Bapp%E5%9B%BE%E6%A0%87%E5%8F%98%E7%A9%BA%E7%99%BD%E7%9A%84%E9%97%AE%E9%A2%98%E8%A7%A3%E5%86%B3/",
            "url": "https://oliverqueen.cn/2018-01-23-%E5%9C%A8iOS11%E4%B8%8Bapp%E5%9B%BE%E6%A0%87%E5%8F%98%E7%A9%BA%E7%99%BD%E7%9A%84%E9%97%AE%E9%A2%98%E8%A7%A3%E5%86%B3/",
            "title": "在iOS11下app图标变空白的问题解决",
            "date_published": "2018-01-23T10:07:50.000Z",
            "content_html": "<link rel=\"stylesheet\" class=\"aplayer-secondary-style-marker\" href=\"/assets/css/APlayer.min.css\"><script src=\"/assets/js/APlayer.min.js\" class=\"aplayer-secondary-script-marker\"></script><h2 id=\"背景\"><a class=\"anchor\" href=\"#背景\">#</a> 背景：</h2>\n<p>最近在做项目的时候发现运行在模拟器上图标丢失，变成了苹果默认的白板图标。因为一开始只在模拟器上出现，而且也确认没有人动过图标文件，所以没有在意，后来慢慢的该问题出现在真机上，一开始是只有 iPhone X，然后就是 iPhone 8，慢慢的变成不管是模拟器还是真机，所有 iOS11 系统的图标都没有了。接下来影响到的机型和系统越来越多。<br />\n<span id=\"more\"></span></p>\n<h2 id=\"尝试\"><a class=\"anchor\" href=\"#尝试\">#</a> 尝试：</h2>\n<p>1：一开始想到的是可能有人误改了图标文件，于是删除了 images.xcassest 中的 AppIcon 文件，从新生成→添加图标，但是依然未解决。（✘）</p>\n<p>2：想到是图片格式 / 尺寸的问题，于是所有图片按照规定重新生成，但是仍然无济于事。（✘）</p>\n<p>3：因为设置图标的方法除了在 images.xcassest 中的 AppIcon 文件中设置还可以在 info.plist 设置、或者直接在工程里面放一个 icon.png 的图片来设</p>\n<p>置，所以都检查了一便发现也不是这个原因（✘）</p>\n<p>3：重置手机。(✘)</p>\n<h2 id=\"解决\"><a class=\"anchor\" href=\"#解决\">#</a> 解决：</h2>\n<p>google 了下发现好多国外的开发遇到这个问题，并且都是使用 xcode9.X.X 版本，所以怀疑是苹果的 BUG</p>\n<p><img data-src=\"https://cdn.cdnjson.com/tvax3.sinaimg.cn/large/006tNc79gy1fo6mw7fbitj30yg0b0dip.jpg\" alt=\"image.png\" /></p>\n<p>不过这个问题并不是谁都会出现也不是所有使用 xcode9 + iOS11 的设备都会出现</p>\n<p><img data-src=\"https://cdn.cdnjson.com/tvax3.sinaimg.cn/large/006tNc79gy1fo6mwjg45nj30yg09kq41.jpg\" alt=\"image.png\" /></p>\n<p>后来经过大家的讨论终于有人说这个其实是 cocoapods 的 BUG，暂时并不能通过更新 cocoapods 更新来解决，因为最新版的 cocoapods</p>\n<p>也存在这个问题，解决方法如下：</p>\n<p><img data-src=\"https://cdn.cdnjson.com/tvax3.sinaimg.cn/large/006tNc79gy1fo6mwrgqg2j30yg0bqdl4.jpg\" alt=\"image.png\" /></p>\n<p>在你的 podfile 中加入以下代码就可以了</p>\n<p><figure class=\"highlight haxe\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">post_install <span class=\"keyword\">do</span> |installer|</span><br><span class=\"line\">    copy_pods_resources_path = <span class=\"string\">&quot;Pods/Target Support Files/Pods-工程名/Pods-工程名-resources.sh&quot;</span></span><br><span class=\"line\">    string_to_replace = <span class=\"string\">&#x27;--compile &quot;<span class=\"subst\">$&#123;BUILT_PRODUCTS_DIR&#125;</span>/<span class=\"subst\">$&#123;UNLOCALIZED_RESOURCES_FOLDER_PATH&#125;</span>&quot;&#x27;</span></span><br><span class=\"line\">    assets_compile_with_app_icon_arguments = <span class=\"string\">&#x27;--compile &quot;<span class=\"subst\">$&#123;BUILT_PRODUCTS_DIR&#125;</span>/<span class=\"subst\">$&#123;UNLOCALIZED_RESOURCES_FOLDER_PATH&#125;</span>&quot; --app-icon &quot;<span class=\"subst\">$&#123;ASSETCATALOG_COMPILER_APPICON_NAME&#125;</span>&quot; --output-partial-info-plist &quot;<span class=\"subst\">$&#123;BUILD_DIR&#125;</span>/assetcatalog_generated_info.plist&quot;&#x27;</span></span><br><span class=\"line\">    text = File.read(copy_pods_resources_path)</span><br><span class=\"line\">    <span class=\"keyword\">new</span><span class=\"type\">_contents</span> = text.gsub(string_to_replace, assets_compile_with_app_icon_arguments)</span><br><span class=\"line\">    File.open(copy_pods_resources_path, <span class=\"string\">&quot;w&quot;</span>) &#123;|file| file.puts <span class=\"keyword\">new</span><span class=\"type\">_contents</span> &#125;</span><br><span class=\"line\">end</span><br></pre></td></tr></table></figure></p>\n<p>像这样：</p>\n<p><img data-src=\"https://cdn.cdnjson.com/tvax3.sinaimg.cn/large/006tNc79gy1fo6mx84vaxj30yg07f42t.jpg\" alt=\"image.png\" /></p>\n",
            "tags": [
                "xcode",
                "cocoapods",
                "podfile"
            ]
        }
    ]
}